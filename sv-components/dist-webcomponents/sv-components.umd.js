(function(nn,Wn){typeof exports=="object"&&typeof module<"u"?Wn(exports):typeof define=="function"&&define.amd?define(["exports"],Wn):(nn=typeof globalThis<"u"?globalThis:nn||self,Wn(nn.SVComponents={}))})(this,function(nn){"use strict";function Wn(){Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"))}const ms={get(i,t){var e;return(e=t[Symbol.metadata])==null?void 0:e[i]},define(i,t,...e){var r;let s=(r=Object.getOwnPropertyDescriptor(t,Symbol.metadata))==null?void 0:r.value;s==null&&Object.defineProperty(t,Symbol.metadata,{value:s=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=e.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:s[e[0]]=i;return;case 2:s[e[0]]=s[e[1]]=i;return;default:{for(let o=0;o<n;++o)s[e[o]]=i;return}}},has(i,t){const e=t[Symbol.metadata];return e==null?!1:i in e},delete(i,t){const e=t[Symbol.metadata];e!=null&&Reflect.deleteProperty(e,i)}},Un=Object.freeze,Vh=Object.assign,Rb=String,Ke=ms.get,qn=ms.define,Ft=i=>i instanceof Promise,Dt=i=>i instanceof Array,rn=i=>i instanceof Set,Ns=i=>i instanceof Map,Nh=i=>i instanceof Object;function no(i){return typeof i=="object"&&i!==null||typeof i=="function"}const pt=i=>typeof i=="function",at=i=>typeof i=="string",Db=i=>typeof i=="number",mt=()=>Object.create(null),bs=Object.is,Vt=(i,...t)=>new Error(`AUR${Rb(i).padStart(4,"0")}: ${Lb(i,...t)}`),$b={1:"No registration for interface: '{{0}}'",2:`'{{0}}' was registered with "none" resolver, are you injecting the right key?`,3:"Cyclic dependency found: {{0}}",4:"Resolver for {{0}} returned a null factory",5:"Invalid resolver strategy specified: {{0}}. Did you assign an invalid strategy value?",6:"Unable to autoregister dependency: {{0}}",7:'Resource key "{{0}}" already registered',8:"Unable to resolve key: {{0}}",9:"Attempted to jitRegister something that is not a constructor: '{{0}}'. Did you forget to register this resource?",10:'Attempted to jitRegister an intrinsic type: "{{0}}". Did you forget to add @inject(Key)',11:"Invalid resolver, null/undefined returned from the static register method.",12:"Attempted to jitRegister an interface: {{0}}",13:"Cannot call resolve '{{0}}' before calling prepare or after calling dispose.",14:"Key cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?A common cause is circular dependency with bundler, did you accidentally introduce circular dependency into your module graph?",15:"'{{0}}' is a native function and cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.",16:'There is not a currently active container to resolve "{{0}}". Are you trying to "new Class(...)" that has a resolve(...) call?',17:"Failed to instantiate '{{0}}' via @newInstanceOf/@newInstanceForScope, there's no registration and no default implementation, or the default implementation does not result in factory for constructing the instances.",18:"Invalid channel name or instance: '{{0}}'.",19:"Invalid channel name or type: {{0}}.",20:"No defined value found when calling firstDefined()",21:"Invalid module transform input: {{0}}. Expected Promise or Object.",22:"The @inject decorator on the target ('{{0}}') type '{{1}}' is not supported.",23:"Resource key '{{0}}' has already been registered."},Lb=(i,...t)=>{let e=$b[i];for(let s=0;s<t.length;++s)e=e.replace(`{{${s}}}`,String(t[s]));return e},on=(...i)=>globalThis.console.error(...i),Kn=(()=>{const i={};let t=!1,e=0,s=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(r|0)===r;case"string":if(t=i[r],t!==void 0)return t;if(e=r.length,e===0)return i[r]=!1;for(s=0,n=0;n<e;++n)if(s=r.charCodeAt(n),n===0&&s===48&&e>1||s<48||s>57)return i[r]=!1;return i[r]=!0;default:return!1}}})(),jh=function(){const i=Vh(mt(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),t=e=>e===""?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:i[e]===!0?1:0;return(e,s)=>{const n=e.length;if(n===0)return e;let r=!1,o="",a,l="",c=0,h=e.charAt(0),u=t(h),d=0;for(;d<n;++d)a=c,l=h,c=u,h=e.charAt(d+1),u=t(h),c===0?o.length>0&&(r=!0):(!r&&o.length>0&&c===2&&(r=a===3||u===3),o+=s(l,r),r=!1);return o}}(),qt=function(){const i=mt(),t=(e,s)=>s?e.toUpperCase():e.toLowerCase();return e=>{let s=i[e];return s===void 0&&(s=i[e]=jh(e,t)),s}}(),zh=function(){const i=mt();return t=>{let e=i[t];return e===void 0&&(e=qt(t),e.length>0&&(e=e[0].toUpperCase()+e.slice(1)),i[t]=e),e}}(),Hh=function(){const i=mt(),t=(e,s)=>s?`-${e.toLowerCase()}`:e.toLowerCase();return e=>{let s=i[e];return s===void 0&&(s=i[e]=jh(e,t)),s}}(),Wa=i=>{const t=i.length,e=Array(t);let s=0;for(;s<t;++s)e[s]=i[s];return e},an=(i,t)=>{const e=t.name;t.addInitializer(function(){Reflect.defineProperty(this,e,{value:i.bind(this),writable:!0,configurable:!0,enumerable:!1})})},Nt=(...i)=>{const t=[];let e=0;const s=i.length;let n=0,r,o=0;for(;o<s;++o)if(r=i[o],r!==void 0){n=r.length;let a=0;for(;a<n;++a)t[e++]=r[a]}return t},js=(...i)=>{const t=i.length;let e,s=0;for(;t>s;++s)if(e=i[s],e!==void 0)return e;throw Vt(20)},Bb=function(){const i=Function.prototype,t=Object.getPrototypeOf,e=new WeakMap;let s=i,n=0,r;return function(o){if(r=e.get(o),r===void 0)for(e.set(o,r=[s=o]),n=0;(s=t(s))!==i;)r[++n]=s;return r}}();function Ua(...i){return Vh(mt(),...i)}const Wh=(()=>{const i=new WeakMap;let t=!1,e="",s=0;return n=>(t=i.get(n),t==null&&(s=(e=n.toString()).length,t=s>28&&e.indexOf("[native code] }")===s-15,i.set(n,t)),t)})(),Q=(i,t)=>Ft(i)?i.then(t):t(i),Wt=(...i)=>{let t,e,s,n=0,r=i.length;for(;n<r;++n)t=i[n],Ft(t=i[n])&&(e===void 0?e=t:s===void 0?s=[e,t]:s.push(t));return s===void 0?e:Promise.all(s)},Fb=(i,t)=>new Ae(i,0,t),Yn=(i,t)=>new Ae(i,1,t),Uh=(i,t)=>new Ae(i,2,t),Vb=(i,t)=>new Ae(i,3,t),Nb=(i,t)=>new Ae(i,3,Kh(t)),ro=(i,t)=>new Ae(t,5,i),jb=(i,...t)=>new s_(i,t),qh=new WeakMap,Kh=i=>(t,e,s)=>{let n=qh.get(t);if(n===void 0&&qh.set(t,n=new WeakMap),n.has(s))return n.get(s);const r=i(t,e,s);return n.set(s,r),r},pi={instance:Fb,singleton:Yn,transient:Uh,callback:Vb,cachedCallback:Nb,aliasTo:ro,defer:jb},Qn=function(i){return function(e){e.register(Yn(this,this),ro(this,i))}},gi="au:annotation",zs=(i,t)=>t===void 0?`${gi}:${i}`:`${gi}:${i}:${t}`,zb=Un({name:"au:annotation",appendTo:(i,t)=>{const e=Ke(gi,i);e===void 0?qn([t],i,gi):e.push(t)},set(i,t,e){qn(e,i,zs(t))},get:(i,t)=>Ke(zs(t),i),getKeys(i){let t=Ke(gi,i);return t===void 0&&qn(t=[],i,gi),t},isKey:i=>i.startsWith(gi),keyFor:zs}),Ye="au:resource",mi=(i,t,e)=>`${Ye}:${i}`,Yh={annotation:zb},Qh=Object.prototype.hasOwnProperty;function Se(i,t,e,s){let n=Ke(zs(i),e);return n===void 0?(n=t[i],n===void 0?(n=e[i],n===void 0||!Qh.call(e,i)?s():n):n):n}function Re(i,t,e){let s=Ke(zs(i),t);return s===void 0?(s=t[i],s===void 0||!Qh.call(t,i)?e():s):s}function De(i,t,e){const s=t[i];return s===void 0?e():s}const Qe=Symbol.for("au:registrable"),Hb={none(i){throw Vt(2,i)},singleton:i=>new Ae(i,1,i),transient:i=>new Ae(i,2,i)};class Xe{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return t===void 0||t===Xe.DEFAULT?Xe.DEFAULT:new Xe(t.inheritParentResources??!1,t.defaultResolver??Hb.singleton)}}Xe.DEFAULT=Xe.from({});const Wb=i=>new Xn(null,Xe.from(i)),Ub=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let qb=0,St=null;class Xn{get depth(){return this._parent===null?0:this._parent.depth+1}get parent(){return this._parent}constructor(t,e){if(this.id=++qb,this._registerDepth=0,this._disposableResolvers=new Map,this._parent=t,this.config=e,this._resolvers=new Map,this.res={},t===null)this.root=this,this._factories=new Map;else if(this.root=t.root,this._factories=t._factories,e.inheritParentResources)for(const s in t.res)this.registerResolver(s,t.res[s]);this._resolvers.set(cn,Yb)}register(...t){var h,u,d,f;if(++this._registerDepth===100)throw Vt(6,...t);let e,s,n,r,o,a=0,l=t.length,c;for(;a<l;++a)if(e=t[a],!!no(e))if(Jn(e))e.register(this);else if((c=Ke(Ye,e))!=null)c.register(this);else if(Xb(e)){const g=(h=e[Symbol.metadata])==null?void 0:h[Qe];if(Jn(g))g.register(this);else if(at((u=e.$au)==null?void 0:u.type)){const p=e.$au,m=(e.aliases??tt).concat(p.aliases??tt);let b=`${Ye}:${p.type}:${p.name}`;if(this.has(b,!1)){(d=globalThis.console)==null||d.warn(Vt(7,b));continue}for(ro(e,b).register(this),this.has(e,!1)||Yn(e,e).register(this),r=0,o=m.length;r<o;++r){if(b=`${Ye}:${p.type}:${m[r]}`,this.has(b,!1)){(f=globalThis.console)==null||f.warn(Vt(7,b));continue}ro(e,b).register(this)}}else Yn(e,e).register(this)}else for(s=Object.keys(e),r=0,o=s.length;r<o;++r)n=e[s[r]],no(n)&&(Jn(n)?n.register(this):this.register(n));return--this._registerDepth,this}registerResolver(t,e,s=!1){Gn(t);const n=this._resolvers,r=n.get(t);if(r==null){if(n.set(t,e),qa(t)){if(this.res[t]!==void 0)throw Vt(7,t);this.res[t]=e}}else r instanceof Ae&&r._strategy===4?r._state.push(e):n.set(t,new Ae(t,4,[r,e]));return s&&this._disposableResolvers.set(t,e),e}deregister(t){Gn(t);const e=this._resolvers.get(t);e!=null&&(this._resolvers.delete(t),qa(t)&&delete this.res[t],this._disposableResolvers.has(t)&&(e.dispose(),this._disposableResolvers.delete(t)))}registerTransformer(t,e){const s=this.getResolver(t);if(s==null)return!1;if(s.getFactory){const n=s.getFactory(this);return n==null?!1:(n.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(Gn(t),t.resolve!==void 0)return t;const s=St;let n=St=this,r,o;try{for(;n!=null;)if(r=n._resolvers.get(t),r==null){if(n._parent==null)return o=Zh(t)?this:n,e?this._jitRegister(t,o):null;n=n._parent}else return r}finally{St=s}return null}has(t,e=!1){var s;return this._resolvers.has(t)||qa(t)&&t in this.res||((e&&((s=this._parent)==null?void 0:s.has(t,!0)))??!1)}get(t){if(Gn(t),t.$isResolver)return t.resolve(this,this);const e=St;let s=St=this,n,r;try{for(;s!=null;)if(n=s._resolvers.get(t),n==null){if(s._parent==null)return r=Zh(t)?this:s,n=this._jitRegister(t,r),n.resolve(s,this);s=s._parent}else return n.resolve(s,this)}finally{St=e}throw Vt(8,t)}getAll(t,e=!1){Gn(t);const s=St,n=St=this;let r=n,o,a=tt;try{if(e){for(;r!=null;)o=r._resolvers.get(t),o!=null&&(a=a.concat(Gh(o,r,n))),r=r._parent;return a}for(;r!=null;)if(o=r._resolvers.get(t),o==null){if(r=r._parent,r==null)return tt}else return Gh(o,r,n)}finally{St=s}return tt}invoke(t,e){if(Wh(t))throw Vt(15,t);const s=St;St=this;{let n,r;try{n=ln(t).map(o=>this.get(r=o))}catch(o){throw on(`[DEV:aurelia] Error during construction of ${t.name?t.name:`(Anonymous) ${String(t)}`}, caused by dependency: ${String(r)}`),St=s,o}try{return e===void 0?new t(...n):new t(...n,...e)}catch(o){throw on(`[DEV:aurelia] Error during construction of ${t.name?t.name:`(Anonymous) ${String(t)}`}`),o}finally{St=s}}try{return e===void 0?new t(...ln(t).map(Zn,this)):new t(...ln(t).map(Zn,this),...e)}finally{St=s}}hasFactory(t){return this._factories.has(t)}getFactory(t){let e=this._factories.get(t);if(e===void 0){if(Wh(t))throw Vt(15,t);this._factories.set(t,e=new Kb(t,ln(t)))}return e}registerFactory(t,e){this._factories.set(t,e)}createChild(t){return t===void 0&&this.config.inheritParentResources?this.config===Xe.DEFAULT?new Xn(this,this.config):new Xn(this,Xe.from({...this.config,inheritParentResources:!1})):new Xn(this,Xe.from(t??this.config))}disposeResolvers(){var r;const t=this._resolvers,e=this._disposableResolvers;let s,n;for([n,s]of e.entries())(r=s.dispose)==null||r.call(s),t.delete(n);e.clear()}useResources(t){const e=t.res;for(const s in e)this.registerResolver(s,e[s])}find(t,e){var o,a;const s=at(e)?`${Ye}:${t}:${e}`:t;let n=this,r=n.res[s];return r==null&&(n=n.root,r=n.res[s]),r==null?null:((a=(o=r.getFactory)==null?void 0:o.call(r,n))==null?void 0:a.Type)??null}dispose(){this._disposableResolvers.size>0&&this.disposeResolvers(),this._resolvers.clear(),this.root===this&&(this._factories.clear(),this.res={})}_jitRegister(t,e){const s=Jn(t);if(!pt(t)&&!s)throw Vt(9,t);if(Ub.has(t.name))throw Vt(10,t);if(s){const r=t.register(e,t);if(!(r instanceof Object)||r.resolve==null){const o=e._resolvers.get(t);if(o!=null)return o;throw Vt(11,t)}return r}if(t.$isInterface)throw Vt(12,t.friendlyName);const n=this.config.defaultResolver(t,e);return e._resolvers.set(t,n),n}}class Kb{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){const s=St;St=t;let n;{let r,o;try{r=this.dependencies.map(a=>t.get(o=a))}catch(a){throw on(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}, caused by dependency: ${String(o)}`),St=s,a}try{return e===void 0?n=new this.Type(...r):n=new this.Type(...r,...e),this.transformers==null?n:this.transformers.reduce(Xh,n)}catch(a){throw on(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}`),a}finally{St=s}}try{return e===void 0?n=new this.Type(...this.dependencies.map(Zn,t)):n=new this.Type(...this.dependencies.map(Zn,t),...e),this.transformers==null?n:this.transformers.reduce(Xh,n)}finally{St=s}}registerTransformer(t){(this.transformers??(this.transformers=[])).push(t)}}function Xh(i,t){return t(i)}function Gn(i){if(i==null)throw Vt(14)}function Zn(i){return this.get(i)}function D(...i){if(St==null)throw Vt(16,...i);if(i.length===1)try{return St.get(i[0])}catch(t){throw on(`[DEV:aurelia] resolve() call error for: ${String(i[0])}`),t}else{let t;try{return i.map(e=>St.get(t=e))}catch(e){throw on(`[DEV:aurelia] resolve() call error for: ${String(t)}`),e}}return i.length===1?St.get(i[0]):i.map(Zn,St)}const Gh=(i,t,e)=>{if(i instanceof Ae&&i._strategy===4){const s=i._state,n=s.length,r=Array(n);let o=0;for(;o<n;++o)r[o]=s[o].resolve(t,e);return r}return[i.resolve(t,e)]},Yb={$isResolver:!0,resolve(i,t){return t}},Jn=i=>pt(i==null?void 0:i.register),Qb=i=>Jn(i)&&typeof i.registerInRequestor=="boolean",Zh=i=>Qb(i)&&i.registerInRequestor,Xb=i=>i.prototype!==void 0,qa=i=>at(i)&&i.indexOf(":")>0;class Gb{constructor(t,e){this._container=t,this._key=e}instance(t){return this._registerResolver(0,t)}singleton(t){return this._registerResolver(1,t)}transient(t){return this._registerResolver(2,t)}callback(t){return this._registerResolver(3,t)}cachedCallback(t){return this._registerResolver(3,Kh(t))}aliasTo(t){return this._registerResolver(5,t)}_registerResolver(t,e){const{_container:s,_key:n}=this;return this._container=this._key=void 0,s.registerResolver(n,new Ae(n,t,e))}}const tr=i=>{const t=i.slice(),e=Object.keys(i),s=e.length;let n;for(let r=0;r<s;++r)n=e[r],Kn(n)||(t[n]=i[n]);return t},oo=zs("di:paramtypes"),Zb=i=>Ke(oo,i),Jh=i=>Ke("design:paramtypes",i),tu=i=>{var t;return(t=i.metadata)[oo]??(t[oo]=[])},ln=i=>{const t=zs("di:dependencies");let e=Ke(t,i);if(e===void 0){const s=i.inject;if(s===void 0){const n=Jh(i),r=Zb(i);if(n===void 0)if(r===void 0){const o=Object.getPrototypeOf(i);pt(o)&&o!==Function.prototype?e=tr(ln(o)):e=[]}else e=tr(r);else if(r===void 0)e=tr(n);else{e=tr(n);let o=r.length,a,l=0;for(;l<o;++l)a=r[l],a!==void 0&&(e[l]=a);const c=Object.keys(r);let h;for(l=0,o=c.length,l=0;l<o;++l)h=c[l],Kn(h)||(e[h]=r[h])}}else e=tr(s);qn(e,i,t)}return e},Hs=(i,t)=>{const e=pt(i)?i:t,s=(at(i)?i:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:s,toString:()=>`InterfaceSymbol<${s}>`,register:e!=null?(r,o)=>e(new Gb(r,o??n)):void 0};return n},Ka=(...i)=>(t,e)=>{switch(e.kind){case"class":{const s=tu(e);let n,r=0;for(;r<i.length;++r)n=i[r],n!==void 0&&(s[r]=n);break}case"field":{const s=tu(e),n=i[0];n!==void 0&&(s[e.name]=n);break}default:throw Vt(22,String(e.name),e.kind)}},Ws=(Wn(),{createContainer:Wb,getDesignParamtypes:Jh,getDependencies:ln,createInterface:Hs,inject:Ka,transient(i){return i.register=function(t){return Uh(i,i).register(t,i)},i.registerInRequestor=!1,i},singleton(i,t=e_){return i.register=function(e){return Yn(i,i).register(e,i)},i.registerInRequestor=t.scoped,i}}),cn=Hs("IContainer"),Jb=cn;function eu(i,t){return Ws.transient(i)}function t_(i,t){return i==null?eu:eu(i)}const e_={scoped:!1};class Ae{get $isResolver(){return!0}constructor(t,e,s){this._resolving=!1,this._cachedFactory=null,this._key=t,this._strategy=e,this._state=s}register(t,e){return t.registerResolver(e||this._key,this)}resolve(t,e){switch(this._strategy){case 0:return this._state;case 1:{if(this._resolving)throw Vt(3,this._state.name);return this._resolving=!0,this._state=(this._cachedFactory=t.getFactory(this._state)).construct(e),this._strategy=0,this._resolving=!1,this._state}case 2:{const s=t.getFactory(this._state);if(s===null)throw Vt(4,this._key);return s.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw Vt(5,this._strategy)}}getFactory(t){var e,s;switch(this._strategy){case 1:case 2:return t.getFactory(this._state);case 5:return((s=(e=t.getResolver(this._state))==null?void 0:e.getFactory)==null?void 0:s.call(e,t))??null;case 0:return this._cachedFactory;default:return null}}}class $t{get friendlyName(){return this._name}constructor(t,e=null,s=null){this._name=t,this._instance=e,this._Type=s}prepare(t){this._instance=t}get $isResolver(){return!0}resolve(){if(this._instance==null)throw Vt(13,this._name);return this._instance}getFactory(t){return this._Type==null?null:t.getFactory(this._Type)}dispose(){this._instance=null}}class s_{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter(e=>typeof e=="object"))}}const tt=Un([]),i_=Un({});function Ge(){}const hn=Hs("IPlatform");function er(i){return function(t){function e(s,n){Ka(e)(s,n)}return e.$isResolver=!0,e.resolve=function(s,n){return i(t,s,n)},e}}const Ya=(i,t=!1)=>{function e(s,n){Ka(e)(s,n)}return e.$isResolver=!0,e.resolve=(s,n)=>n.getAll(i,t),e},su=er((i,t,e)=>{if(e.has(i,!0))return e.get(i)}),n_=er((i,t,e)=>e.has(i,!1)?e.get(i):void 0),un=er((i,t,e)=>e.has(i,!1)?e.get(i):e.root.get(i)),r_=er((i,t,e)=>e.has(i,!1)?e.get(i):e.root.has(i,!1)?e.root.get(i):void 0),o_=er((i,t,e)=>e===e.root?e.getAll(i,!1):e.has(i,!1)?e.getAll(i,!1).concat(e.root.getAll(i,!1)):e.root.getAll(i,!1));function dn(i,t,e,s,n,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=i?s.static?i:i.prototype:null,h=c?Object.getOwnPropertyDescriptor(c,s.name):{},u,d=!1,f=e.length-1;f>=0;f--){var g={};for(var p in s)g[p]=p==="access"?{}:s[p];for(var p in s.access)g.access[p]=s.access[p];g.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,e[f])(a==="accessor"?{get:h.get,set:h.set}:h[l],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(u=o(m.get))&&(h.get=u),(u=o(m.set))&&(h.set=u),(u=o(m.init))&&n.unshift(u)}else(u=o(m))&&(a==="field"?n.unshift(u):h[l]=u)}c&&Object.defineProperty(c,s.name,h),d=!0}function a_(i,t,e){for(var s=arguments.length>2,n=0;n<t.length;n++)e=s?t[n].call(i,e):t[n].call(i);return s?e:void 0}typeof SuppressedError=="function"&&SuppressedError;const sr=0,ir=1,nr=2,fn=3,rr=4,or=5,l_=Un({trace:sr,debug:ir,info:nr,warn:fn,error:rr,fatal:or,none:6}),iu=Hs("ILogConfig",i=>i.instance(new f_("no-colors",fn))),c_=Hs("ISink"),h_=Hs("ILogEventFactory",i=>i.singleton(g_)),bi=Hs("ILogger",i=>i.singleton(m_)),u_=Hs("ILogScope"),d_=Un({key:zs("logger-sink-handles"),define(i,t){qn(t.handles,i,this.key)},getHandles(i){return Ke(this.key,i.constructor)}}),_s=Ua({red(i){return`\x1B[31m${i}\x1B[39m`},green(i){return`\x1B[32m${i}\x1B[39m`},yellow(i){return`\x1B[33m${i}\x1B[39m`},blue(i){return`\x1B[34m${i}\x1B[39m`},magenta(i){return`\x1B[35m${i}\x1B[39m`},cyan(i){return`\x1B[36m${i}\x1B[39m`},white(i){return`\x1B[37m${i}\x1B[39m`},grey(i){return`\x1B[90m${i}\x1B[39m`}});class f_{constructor(t,e){this.colorOptions=t,this.level=e}}const Qa=function(){const i={"no-colors":Ua({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:Ua({TRC:_s.grey("TRC"),DBG:_s.grey("DBG"),INF:_s.white("INF"),WRN:_s.yellow("WRN"),ERR:_s.red("ERR"),FTL:_s.red("FTL"),QQQ:_s.grey("???")})};return(t,e)=>t<=sr?i[e].TRC:t<=ir?i[e].DBG:t<=nr?i[e].INF:t<=fn?i[e].WRN:t<=rr?i[e].ERR:t<=or?i[e].FTL:i[e].QQQ}(),nu=(i,t)=>t==="no-colors"?i.join("."):i.map(_s.cyan).join("."),Xa=(i,t)=>t==="no-colors"?new Date(i).toISOString():_s.grey(new Date(i).toISOString());class p_{constructor(t,e,s,n,r,o){this.severity=t,this.message=e,this.optionalParams=s,this.scope=n,this.colorOptions=r,this.timestamp=o}toString(){const{severity:t,message:e,scope:s,colorOptions:n,timestamp:r}=this;return s.length===0?`${Xa(r,n)} [${Qa(t,n)}] ${e}`:`${Xa(r,n)} [${Qa(t,n)} ${nu(s,n)}] ${e}`}getFormattedLogInfo(t=!1){const{severity:e,message:s,scope:n,colorOptions:r,timestamp:o,optionalParams:a}=this;let l=null,c="";t&&s instanceof Error?l=s:c=s;const h=n.length===0?"":` ${nu(n,r)}`;let u=`${Xa(o,r)} [${Qa(e,r)}${h}] ${c}`;if(a===void 0||a.length===0)return l===null?[u]:[u,l];let d=0;for(;u.includes("%s");)u=u.replace("%s",String(a[d++]));return l!==null?[u,l,...a.slice(d)]:[u,...a.slice(d)]}}class g_{constructor(){this.config=D(iu)}createLogEvent(t,e,s,n){return new p_(e,s,n,t.scope,this.config.colorOptions,Date.now())}}let m_=(()=>{var i;let t=[],e,s,n,r,o,a;return i=class{constructor(c=D(iu),h=D(h_),u=D(Ya(c_)),d=D(su(u_))??[],f=null){this.scope=(a_(this,t),d),this._scopedLoggers=mt();let g,p,m,b,_,w;if(this.config=c,this._factory=h,this.sinks=u,f===null){this.root=this,this.parent=this,g=this._traceSinks=[],p=this._debugSinks=[],m=this._infoSinks=[],b=this._warnSinks=[],_=this._errorSinks=[],w=this._fatalSinks=[];for(const x of u){const v=d_.getHandles(x);((v==null?void 0:v.includes(sr))??!0)&&g.push(x),((v==null?void 0:v.includes(ir))??!0)&&p.push(x),((v==null?void 0:v.includes(nr))??!0)&&m.push(x),((v==null?void 0:v.includes(fn))??!0)&&b.push(x),((v==null?void 0:v.includes(rr))??!0)&&_.push(x),((v==null?void 0:v.includes(or))??!0)&&w.push(x)}}else this.root=f.root,this.parent=f,g=this._traceSinks=f._traceSinks,p=this._debugSinks=f._debugSinks,m=this._infoSinks=f._infoSinks,b=this._warnSinks=f._warnSinks,_=this._errorSinks=f._errorSinks,w=this._fatalSinks=f._fatalSinks}trace(c,...h){this.config.level<=sr&&this._emit(this._traceSinks,sr,c,h)}debug(c,...h){this.config.level<=ir&&this._emit(this._debugSinks,ir,c,h)}info(c,...h){this.config.level<=nr&&this._emit(this._infoSinks,nr,c,h)}warn(c,...h){this.config.level<=fn&&this._emit(this._warnSinks,fn,c,h)}error(c,...h){this.config.level<=rr&&this._emit(this._errorSinks,rr,c,h)}fatal(c,...h){this.config.level<=or&&this._emit(this._fatalSinks,or,c,h)}scopeTo(c){const h=this._scopedLoggers;let u=h[c];return u===void 0&&(u=h[c]=new i(this.config,this._factory,null,this.scope.concat(c),this)),u}_emit(c,h,u,d){const f=pt(u)?u():u,g=this._factory.createLogEvent(this,h,f,d);for(let p=0,m=c.length;p<m;++p)c[p].handleEvent(g)}},(()=>{const l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[an],s=[an],n=[an],r=[an],o=[an],a=[an],dn(i,null,e,{kind:"method",name:"trace",static:!1,private:!1,access:{has:c=>"trace"in c,get:c=>c.trace},metadata:l},null,t),dn(i,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:c=>"debug"in c,get:c=>c.debug},metadata:l},null,t),dn(i,null,n,{kind:"method",name:"info",static:!1,private:!1,access:{has:c=>"info"in c,get:c=>c.info},metadata:l},null,t),dn(i,null,r,{kind:"method",name:"warn",static:!1,private:!1,access:{has:c=>"warn"in c,get:c=>c.warn},metadata:l},null,t),dn(i,null,o,{kind:"method",name:"error",static:!1,private:!1,access:{has:c=>"error"in c,get:c=>c.error},metadata:l},null,t),dn(i,null,a,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:c=>"fatal"in c,get:c=>c.fatal},metadata:l},null,t),l&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),i})();const ru="AccessThis",b_="AccessBoundary",Ga="AccessGlobal",Za="AccessScope",__="ArrayLiteral",v_="ObjectLiteral",y_="PrimitiveLiteral",w_="Template",x_="Unary",k_="CallScope",C_="CallMember",S_="CallFunction",A_="CallGlobal",ao="AccessMember",ou="AccessKeyed",M_="TaggedTemplate",T_="Binary",P_="Conditional",I_="Assign",E_="ArrowFunction",O_="ValueConverter",R_="BindingBehavior",au="ArrayBindingPattern",lu="ObjectBindingPattern",cu="BindingIdentifier",D_="ForOfStatement",$_="Interpolation",hu="ArrayDestructuring",L_="ObjectDestructuring",B_="DestructuringAssignmentLeaf",F_="Custom";class uu{constructor(t){this.value=t,this.$kind=F_}evaluate(...t){return this.value}assign(...t){return t}bind(...t){}unbind(...t){}accept(t){}}class V_{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind=R_,this.key=`_bb_${e}`}}class N_{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind=O_}}class j_{constructor(t,e,s="="){this.target=t,this.value=e,this.op=s,this.$kind=I_}}class z_{constructor(t,e,s){this.condition=t,this.yes=e,this.no=s,this.$kind=P_}}class H_{constructor(t){this.name=t,this.$kind=Ga}}class ar{constructor(t=0){this.ancestor=t,this.$kind=ru}}class W_{constructor(){this.$kind=b_}}class lr{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind=Za}}const du=i=>i.$kind===Ga||(i.$kind===ao||i.$kind===ou)&&i.accessGlobal;class Ja{constructor(t,e,s=!1){this.object=t,this.name=e,this.optional=s,this.$kind=ao,this.accessGlobal=du(t)}}class fu{constructor(t,e,s=!1){this.object=t,this.key=e,this.optional=s,this.$kind=ou,this.accessGlobal=du(t)}}class pu{constructor(t,e,s=0,n=!1){this.name=t,this.args=e,this.ancestor=s,this.optional=n,this.$kind=k_}}class lo{constructor(t,e,s,n=!1,r=!1){this.object=t,this.name=e,this.args=s,this.optionalMember=n,this.optionalCall=r,this.$kind=C_}}class co{constructor(t,e,s=!1){this.func=t,this.args=e,this.optional=s,this.$kind=S_}}class U_{constructor(t,e){this.name=t,this.args=e,this.$kind=A_}}class q_{constructor(t,e,s){this.operation=t,this.left=e,this.right=s,this.$kind=T_}}class gu{constructor(t,e,s=0){this.operation=t,this.expression=e,this.pos=s,this.$kind=x_}}class Kt{constructor(t){this.value=t,this.$kind=y_}}Kt.$undefined=new Kt(void 0),Kt.$null=new Kt(null),Kt.$true=new Kt(!0),Kt.$false=new Kt(!1),Kt.$empty=new Kt("");class tl{constructor(t){this.elements=t,this.$kind=__}}tl.$empty=new tl(tt);class el{constructor(t,e){this.keys=t,this.values=e,this.$kind=v_}}el.$empty=new el(tt,tt);class ho{constructor(t,e=tt){this.cooked=t,this.expressions=e,this.$kind=w_}}ho.$empty=new ho([""]);class mu{constructor(t,e,s,n=tt){this.cooked=t,this.func=s,this.expressions=n,this.$kind=M_,t.raw=e}}class K_{constructor(t){this.elements=t,this.$kind=au}}class Y_{constructor(t,e){this.keys=t,this.values=e,this.$kind=lu}}class uo{constructor(t){this.name=t,this.$kind=cu}}class Q_{constructor(t,e,s){this.declaration=t,this.iterable=e,this.semiIdx=s,this.$kind=D_}}class X_{constructor(t,e=tt){this.parts=t,this.expressions=e,this.$kind=$_,this.isMulti=e.length>1,this.firstExpression=e[0]}}class G_{constructor(t,e,s,n){this.$kind=t,this.list=e,this.source=s,this.initializer=n}}class bu{constructor(t,e,s){this.target=t,this.source=e,this.initializer=s,this.$kind=B_}}class sl{constructor(t,e,s=!1){this.args=t,this.body=e,this.rest=s,this.$kind=E_}}const il=String,fo=()=>Object.create(null),bt=(i,...t)=>new Error(`AUR${il(i).padStart(4,"0")}: ${J_(i,...t)}`),Z_={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`},J_=(i,...t)=>{var s;let e=Z_[i];for(let n=0;n<t.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(e);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=t[n];if(l!=null)switch(a){case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=il(l[a.slice(1)]):l=il(l)}e=e.slice(0,o.index)+l+e.slice(r.lastIndex),o=r.exec(e)}}return e},pn=Ws.createInterface("IExpressionParser");class _u{constructor(){this._expressionLookup=fo(),this._forOfLookup=fo(),this._interpolationLookup=fo()}parse(t,e){let s;switch(e){case xu:return new uu(t);case po:return s=this._interpolationLookup[t],s===void 0&&(s=this._interpolationLookup[t]=this.$parse(t,e)),s;case ys:return s=this._forOfLookup[t],s===void 0&&(s=this._forOfLookup[t]=this.$parse(t,e)),s;default:{if(t.length===0){if(e===nv||e===wu)return Kt.$empty;throw yv()}return s=this._expressionLookup[t],s===void 0&&(s=this._expressionLookup[t]=this.$parse(t,e)),s}}}$parse(t,e){return lt=t,et=0,Ze=t.length,me=0,_i=0,F=6291456,yt="",_t=vi(0),dt=!0,ct=!1,hr=!0,ol=-1,It(61,e===void 0?wu:e)}}_u.register=Qn(pn);function nl(i){switch(i){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return i}}const tv=Kt.$false,ev=Kt.$true,sv=Kt.$null,vu=Kt.$undefined,cr=new ar(0),rl=new ar(1),iv=new W_,vs="None",po="Interpolation",ys="IsIterator",yu="IsChainable",nv="IsFunction",wu="IsProperty",xu="IsCustom";let lt="",et=0,Ze=0,me=0,_i=0,F=6291456,yt="",_t,dt=!0,ct=!1,hr=!0,ol=-1;const ur=String.fromCharCode,vi=i=>lt.charCodeAt(i),ws=()=>lt.slice(_i,et),rv="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function It(i,t){if(t===xu)return new uu(lt);if(et===0){if(t===po)return fv();if(U(),F&4194304)throw bv()}dt=513>i,ct=!1,hr=514>i;let e=!1,s,n=0;if(F&131072){const r=gn[F&63];U(),s=new gu(r,It(514,t)),dt=!1}else{t:switch(F){case 12295:n=me,dt=!1,hr=!1;do switch(U(),++n,F){case 65546:if(U(),!(F&12288))throw xs();break;case 11:case 12:throw xs();case 2162701:if(ct=!0,U(),!(F&12288)){s=n===0?cr:n===1?rl:new ar(n),e=!0;break t}break;default:if(F&2097152){s=n===0?cr:n===1?rl:new ar(n);break t}throw _v()}while(F===12295);case 4096:{const r=yt;if(t===ys)s=new uo(r);else if(hr&&rv.includes(r))s=new H_(r);else{if(hr&&r==="import")throw Sv();s=new lr(r,n)}if(dt=!ct,U(),Je(51)){if(F===524297)throw Ou();const o=ct,a=me;++me;const l=It(62,vs);ct=o,me=a,dt=!1,s=new sl([new uo(r)],l)}break}case 11:throw Iv();case 12:throw ll();case 12292:switch(dt=!1,U(),me){case 0:s=cr;break;case 1:s=rl;break;default:s=new ar(me);break}break;case 12293:dt=!1,U(),s=iv;break;case 2688008:s=lv(t);break;case 2688019:s=lt.search(/\s+of\s+/)>et?ov():cv(t);break;case 524297:s=dv(t);break;case 2163760:s=new ho([yt]),dt=!1,U();break;case 2163761:s=al(t,s,!1);break;case 16384:case 32768:s=new Kt(yt),dt=!1,U();break;case 8194:case 8195:case 8193:case 8192:s=gn[F&63],dt=!1,U();break;default:throw et>=Ze?vv():cl()}if(t===ys)return uv(s);switch(F){case 2228280:case 2228281:s=new gu(gn[F&63],s,1),U(),dt=!1;break}if(514<i)return s;if(F===11||F===12)throw xs();if(s.$kind===ru)switch(F){case 2162701:if(ct=!0,dt=!1,U(),!(F&13312))throw hl();if(F&12288)s=new lr(yt,s.ancestor),U();else if(F===2688008)s=new co(s,$e(),!0);else if(F===2688019)s=go(s,!0);else throw mo();break;case 65546:if(dt=!ct,U(),!(F&12288))throw xs();s=new lr(yt,s.ancestor),U();break;case 11:case 12:throw xs();case 2688008:s=new co(s,$e(),e);break;case 2688019:s=go(s,e);break;case 2163760:s=Cu(s);break;case 2163761:s=al(t,s,!0);break}for(;(F&65536)>0;)switch(F){case 2162701:s=av(s);break;case 65546:if(U(),!(F&12288))throw xs();s=ku(s,!1);break;case 11:case 12:throw xs();case 2688008:s.$kind===Za?s=new pu(s.name,$e(),s.ancestor,!1):s.$kind===ao?s=new lo(s.object,s.name,$e(),s.optional,!1):s.$kind===Ga?s=new U_(s.name,$e()):s=new co(s,$e(),!1);break;case 2688019:s=go(s,!1);break;case 2163760:if(ct)throw mo();s=Cu(s);break;case 2163761:if(ct)throw mo();s=al(t,s,!0);break}}if(F===11||F===12)throw xs();if(513<i)return s;for(;(F&262144)>0;){const r=F;if((r&960)<=i)break;U(),s=new q_(gn[r&63],s,It(r&960,t)),dt=!1}if(63<i)return s;if(Je(6291479)){const r=It(62,t);Le(6291477),s=new z_(s,r,It(62,t)),dt=!1}if(62<i)return s;switch(F){case 4194350:case 4194356:case 4194357:case 4194358:case 4194359:{if(!dt)throw wv();const r=gn[F&63];U(),s=new j_(s,It(62,t),r);break}}if(61<i)return s;for(;Je(6291481);){if(F===6291456)throw xv();const r=yt;U();const o=new Array;for(;Je(6291477);)o.push(It(62,t));s=new N_(s,r,o)}for(;Je(6291480);){if(F===6291456)throw kv();const r=yt;U();const o=new Array;for(;Je(6291477);)o.push(It(62,t));s=new V_(s,r,o)}if(F!==6291456){if(t===po&&F===7340046)return s;if(t===yu&&F===6291478){if(et===Ze)throw cl();return ol=et-1,s}throw ws()==="of"?Cv():cl()}return s}function ov(){const i=[],t=new G_(hu,i,void 0,void 0);let e="",s=!0,n=0;for(;s;)switch(U(),F){case 7340052:s=!1,r();break;case 6291472:r();break;case 4096:e=ws();break;default:throw Tv()}return Le(7340052),t;function r(){e!==""?(i.push(new bu(new Ja(cr,e),new fu(cr,new Kt(n++)),void 0)),e=""):n++}}function $e(){const i=ct;U();const t=[];for(;F!==7340047&&(t.push(It(62,vs)),!!Je(6291472)););return Le(7340047),dt=!1,ct=i,t}function go(i,t){const e=ct;return U(),i=new fu(i,It(62,vs),t),Le(7340052),dt=!e,ct=e,i}function av(i){if(ct=!0,dt=!1,U(),!(F&13312))throw hl();if(F&12288)return ku(i,!0);if(F===2688008)return i.$kind===Za?new pu(i.name,$e(),i.ancestor,!0):i.$kind===ao?new lo(i.object,i.name,$e(),i.optional,!0):new co(i,$e(),!0);if(F===2688019)return go(i,!0);throw mo()}function ku(i,t){const e=yt;switch(F){case 2162701:{ct=!0,dt=!1;const s=et,n=_i,r=F,o=_t,a=yt,l=dt,c=ct;if(U(),!(F&13312))throw hl();return F===2688008?new lo(i,e,$e(),t,!0):(et=s,_i=n,F=r,_t=o,yt=a,dt=l,ct=c,new Ja(i,e,t))}case 2688008:return dt=!1,new lo(i,e,$e(),t,!1);default:return dt=!ct,U(),new Ja(i,e,t)}}function lv(i){U();const t=et,e=_i,s=F,n=_t,r=yt,o=ct,a=[];let l=1,c=!1;t:for(;;){if(F===12){if(U(),F!==4096)throw xs();if(a.push(new uo(yt)),U(),F===6291472)throw Pv();if(F!==7340047||(U(),F!==51))throw ll();U();const d=ct,f=me;++me;const g=It(62,vs);return ct=d,me=f,dt=!1,new sl(a,g,!0)}switch(F){case 4096:a.push(new uo(yt)),U();break;case 7340047:U();break t;case 524297:case 2688019:U(),l=4;break;case 6291472:l=2,c=!0;break t;case 2688008:l=2;break t;default:U(),l=2;break}switch(F){case 6291472:if(U(),c=!0,l===1)break;break t;case 7340047:U();break t;case 4194350:l===1&&(l=3);break t;case 51:if(c)throw bo();U(),l=2;break t;default:l===1&&(l=2);break t}}if(F===51){if(l===1){if(U(),F===524297)throw Ou();const d=ct,f=me;++me;const g=It(62,vs);return ct=d,me=f,dt=!1,new sl(a,g)}throw bo()}else if(l===1&&a.length===0)throw Pu(51);if(c)switch(l){case 2:throw bo();case 3:throw Iu();case 4:throw Eu()}et=t,_i=e,F=s,_t=n,yt=r,ct=o;const h=ct,u=It(62,i);if(ct=h,Le(7340047),F===51)switch(l){case 2:throw bo();case 3:throw Iu();case 4:throw Eu()}return u}function cv(i){const t=ct;U();const e=new Array;for(;F!==7340052;)if(Je(6291472)){if(e.push(vu),F===7340052)break}else if(e.push(It(62,i===ys?vs:i)),Je(6291472)){if(F===7340052)break}else break;return ct=t,Le(7340052),i===ys?new K_(e):(dt=!1,new tl(e))}const hv=[au,lu,cu,hu,L_];function uv(i){if(!hv.includes(i.$kind)||F!==4204594)throw Mu(i.$kind);U();const t=i,e=It(61,yu);return new Q_(t,e,ol)}function dv(i){const t=ct,e=new Array,s=new Array;for(U();F!==7340046;){if(e.push(yt),F&49152)U(),Le(6291477),s.push(It(62,i===ys?vs:i));else if(F&12288){const n=_t,r=F,o=et;U(),Je(6291477)?s.push(It(62,i===ys?vs:i)):(_t=n,F=r,et=o,s.push(It(515,i===ys?vs:i)))}else throw Av();F!==7340046&&Le(6291472)}return ct=t,Le(7340046),i===ys?new Y_(e,s):(dt=!1,new el(e,s))}function fv(){const i=[],t=[],e=Ze;let s="";for(;et<e;){switch(_t){case 36:if(vi(et+1)===123){i.push(s),s="",et+=2,_t=vi(et),U();const n=It(61,po);t.push(n);continue}else s+="$";break;case 92:s+=ur(nl(K()));break;default:s+=ur(_t)}K()}return t.length?(i.push(s),new X_(i,t)):null}function al(i,t,e){const s=ct,n=[yt];Le(2163761);const r=[It(62,i)];for(;(F=mv())!==2163760;)n.push(yt),Le(2163761),r.push(It(62,i));return n.push(yt),dt=!1,ct=s,e?(U(),new mu(n,n,t,r)):(U(),new ho(n,r))}function Cu(i){dt=!1;const t=[yt];return U(),new mu(t,t,i)}function U(){for(;et<Ze;)if(_i=et,(F=Ov[_t]())!=null)return;F=6291456}function K(){return _t=vi(++et)}function pv(){for(;Rv[K()];);const i=Ev[yt=ws()];return i===void 0?4096:i}function Su(i){let t=_t;if(i===!1){do t=K();while(t<=57&&t>=48);if(t!==46)return yt=parseInt(ws(),10),32768;if(t=K(),et>=Ze)return yt=parseInt(ws().slice(0,-1),10),32768}if(t<=57&&t>=48)do t=K();while(t<=57&&t>=48);else _t=vi(--et);return yt=parseFloat(ws()),32768}function gv(){const i=_t;K();let t=0;const e=new Array;let s=et;for(;_t!==i;)if(_t===92)e.push(lt.slice(s,et)),K(),t=nl(_t),K(),e.push(ur(t)),s=et;else{if(et>=Ze)throw Mv();K()}const n=lt.slice(s,et);return K(),e.push(n),yt=e.join(""),16384}function Au(){let i=!0,t="";for(;K()!==96;)if(_t===36)if(et+1<Ze&&vi(et+1)===123){et++,i=!1;break}else t+="$";else if(_t===92)t+=ur(nl(K()));else{if(et>=Ze)throw Tu();t+=ur(_t)}return K(),yt=t,i?2163760:2163761}const mv=()=>{if(et>=Ze)throw Tu();return et--,Au()},Je=i=>F===i?(U(),!0):!1,Le=i=>{if(F===i)U();else throw Pu(i)},bv=()=>bt(151,lt),ll=()=>bt(152,lt),xs=()=>bt(153,lt),_v=()=>bt(154,lt),vv=()=>bt(155,lt),cl=()=>bt(156,ws(),et,lt),yv=()=>bt(157),wv=()=>bt(158,lt),xv=()=>bt(159,lt),kv=()=>bt(160,lt),Cv=()=>bt(161,lt),Sv=()=>bt(162,lt),Mu=i=>bt(163,lt,i),Av=()=>bt(164,lt),Mv=()=>bt(165,lt),Tu=()=>bt(166,lt),Pu=i=>bt(167,gn[i&63],lt),Tv=()=>bt(170,ws(),et,lt),hl=()=>bt(171,ws(),et-1,lt),mo=()=>bt(172,lt),bo=()=>bt(173,lt),Iu=()=>bt(174,lt),Eu=()=>bt(175,lt),Pv=()=>bt(176,lt),Ou=()=>bt(178,lt),Iv=()=>bt(179,et-1,lt),gn=[tv,ev,sv,vu,"this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",2163760,2163761,"of","=>","+=","-=","*=","/=","++","--"],Ev=Object.assign(fo(),{true:8193,null:8194,false:8192,undefined:8195,this:12293,$this:12292,$parent:12295,in:6562213,instanceof:6562214,typeof:139305,void:139306,of:4204594}),{CharScanners:Ov,IdParts:Rv}=(()=>{const i=()=>{throw bt(168,lt)};i.notMapped=!0;const t={AsciiIdPart:[36,0,48,58,65,91,95,0,97,123],IdStart:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Digit:[48,58],Skip:[0,33,127,161]},e=(o,a,l,c)=>{const h=l.length;for(let u=0;u<h;u+=2){const d=l[u];let f=l[u+1];f=f>0?f:d+1,o&&o.fill(c,d,f)}},s=(o=>(e(o,null,t.IdStart,1),e(o,null,t.Digit,1),o))(new Uint8Array(65535)),n=o=>()=>(K(),o),r=new Array(65535);return r.fill(i,0,65535),e(r,null,t.Skip,()=>(K(),null)),e(r,null,t.IdStart,pv),e(r,null,t.Digit,()=>Su(!1)),r[34]=r[39]=()=>gv(),r[96]=()=>Au(),r[33]=()=>K()!==61?131119:K()!==61?6553950:(K(),6553952),r[61]=()=>K()===62?(K(),51):_t!==61?4194350:K()!==61?6553949:(K(),6553951),r[38]=()=>K()!==38?6291480:(K(),6553884),r[124]=()=>K()!==124?6291481:(K(),6553819),r[63]=()=>{if(K()===46){const o=vi(et+1);return o<=48||o>=57?(K(),2162701):6291479}return _t!==63?6291479:(K(),6553754)},r[46]=()=>K()<=57&&_t>=48?Su(!0):_t===46?K()!==46?11:(K(),12):65546,r[60]=()=>K()!==61?6554017:(K(),6554019),r[62]=()=>K()!==61?6554018:(K(),6554020),r[37]=n(6554156),r[40]=n(2688008),r[41]=n(7340047),r[42]=()=>K()!==61?6554155:(K(),4194358),r[43]=()=>K()===43?(K(),2228280):_t!==61?2490855:(K(),4194356),r[44]=n(6291472),r[45]=()=>K()===45?(K(),2228281):_t!==61?2490856:(K(),4194357),r[47]=()=>K()!==61?6554157:(K(),4194359),r[58]=n(6291477),r[59]=n(6291478),r[91]=n(2688019),r[93]=n(7340052),r[123]=n(524297),r[125]=n(7340046),{CharScanners:r,IdParts:s}})(),ts=Ws.createInterface,mn=Object.freeze,{aliasTo:Ru,singleton:ul}=pi,Be="Interpolation",Du="IsFunction",es="IsProperty",bn="custom-element",dr=mn({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),_o=ts("ITemplateCompiler"),$u=ts("IAttrMapper"),Et=(i,...t)=>new Error(`AUR${String(i).padStart(4,"0")}: ${$v(i,...t)}`),Dv={88:"AttributeParser is already initialized; cannot add patterns after initialization.",89:'Attribute pattern "{{0}}" has already been registered.',99:"Method {{0}} not implemented",157:"Binding command {{0}} has already been registered.",701:'Template compilation error in element "{{0:name}}": the root <template> cannot be a local element template.',702:'Template compilation error: attribute "{{0}}" is invalid on element surrogate.',703:'Template compilation error: template controller "{{0}}" is invalid on element surrogate.',704:'Template compilation error: Invalid command "{{0:.command}}" for <let>. Only to-view/bind supported.',706:'Template compilation error: detected projection with [au-slot="{{0}}"] attempted on a non custom element {{1}}.',707:"Template compilation error: creating binding to non-bindable property {{0}} on {{1}}.",708:'Template compilation error: the custom element "{{0}}" does not have any content other than local template(s).',709:'Template compilation error: local element template needs to be defined directly under root of element "{{0}}".',710:'Template compilation error: bindable properties of local element "{{0}}" template needs to be defined directly under <template>.',711:`Template compilation error: the attribute 'property' is missing in {{0:outerHTML}} in local element "{{1}}"`,712:"Template compilation error: Bindable property and attribute needs to be unique; found property: {{0}}, attribute: {{1}}",713:'Template compilation error: unknown binding command: "{{0}}".{{0:bindingCommandHelp}}',714:'Template compilation error: primary already exists on element/attribute "{{0}}"',715:'Template compilation error: the value of "as-custom-element" attribute cannot be empty for local element in element "{{0}}"',716:'Template compilation error: duplicate definition of the local template named "{{0}} in element {{1}}"',717:'Template compilation error: detected a usage of "<slot>" element without specifying shadow DOM options in element: {{0}}',718:'Spreading template controller "{{0}}" is not supported.',719:"Attribute {{0}} has been already registered for {{1:element}}",720:'Spreading syntax "...xxx" is reserved. Encountered "...{{0}}"',721:'Usage of $bindables is only allowed on custom element. Encountered: <{{0}} {{1}}="{{2}}">',722:"Invalid platform object provided to the compilation, no DOM API found.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?"},$v=(i,...t)=>{var s;let e=Dv[i];for(let n=0;n<t.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(e);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=t[n];if(l!=null)switch(a){case"nodeName":l=l.nodeName.toLowerCase();break;case"name":l=l.name;break;case"typeof":l=typeof l;break;case"ctor":l=l.constructor.name;break;case"controller":l=l.controller.name;break;case"target@property":l=`${l.target}@${l.targetProperty}`;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"bindingCommandHelp":l=Lv(l);break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=String(l[a.slice(1)]):l=String(l)}e=e.slice(0,o.index)+l+e.slice(r.lastIndex),o=r.exec(e)}}return e};function Lv(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}var Lu,Bu,Fu,Vu,Nu;class dl{constructor(t,e,s,n){if(this.chars=t,this.repeat=e,this.isSymbol=s,this.isInverted=n,n)switch(t.length){case 0:this.has=this._hasOfNoneInverse;break;case 1:this.has=this._hasOfSingleInverse;break;default:this.has=this._hasOfMultipleInverse}else switch(t.length){case 0:this.has=this._hasOfNone;break;case 1:this.has=this._hasOfSingle;break;default:this.has=this._hasOfMultiple}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}_hasOfMultiple(t){return this.chars.includes(t)}_hasOfSingle(t){return this.chars===t}_hasOfNone(t){return!1}_hasOfMultipleInverse(t){return!this.chars.includes(t)}_hasOfSingleInverse(t){return this.chars!==t}_hasOfNoneInverse(t){return!0}}class Bv{constructor(){this.parts=tt,this._pattern="",this._currentRecord={},this._partsRecord={}}get pattern(){const t=this._pattern;return t===""?null:t}set pattern(t){t==null?(this._pattern="",this.parts=tt):(this._pattern=t,this.parts=this._partsRecord[t])}append(t,e){const s=this._currentRecord;s[t]===void 0?s[t]=e:s[t]+=e}next(t){const e=this._currentRecord;let s;e[t]!==void 0&&(s=this._partsRecord,s[t]===void 0?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0)}}class fl{get _pattern(){return this._isEndpoint?this._patterns[0]:null}constructor(t,...e){this.charSpec=t,this._nextStates=[],this._types=null,this._isEndpoint=!1,this._patterns=e}findChild(t){const e=this._nextStates,s=e.length;let n=null,r=0;for(;r<s;++r)if(n=e[r],t.equals(n.charSpec))return n;return null}append(t,e){const s=this._patterns;s.includes(e)||s.push(e);let n=this.findChild(t);return n==null&&(n=new fl(t,e),this._nextStates.push(n),t.repeat&&n._nextStates.push(n)),n}findMatches(t,e){const s=[],n=this._nextStates,r=n.length;let o=0,a=null,l=0,c=0;for(;l<r;++l)if(a=n[l],a.charSpec.has(t))if(s.push(a),o=a._patterns.length,c=0,a.charSpec.isSymbol)for(;c<o;++c)e.next(a._patterns[c]);else for(;c<o;++c)e.append(a._patterns[c],t);return s}}class ju{constructor(t){this.text=t;const e=this._len=t.length,s=this._specs=[];let n=0;for(;e>n;++n)s.push(new dl(t[n],!1,!1,!1))}eachChar(t){const e=this._len,s=this._specs;let n=0;for(;e>n;++n)t(s[n])}}class Fv{constructor(t){this.text="PART",this._spec=new dl(t,!0,!1,!0)}eachChar(t){t(this._spec)}}class Vv{constructor(t){this.text=t,this._spec=new dl(t,!1,!0,!1)}eachChar(t){t(this._spec)}}class Nv{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const jv=ts("ISyntaxInterpreter",i=>i.singleton(zv));class zv{constructor(){this._rootState=new fl(null),this._initialStates=[this._rootState]}add(t){t=t.slice(0).sort((d,f)=>d.pattern>f.pattern?1:-1);const e=t.length;let s,n,r,o,a,l,c,h=0,u;for(;e>h;){for(s=this._rootState,n=t[h],r=n.pattern,o=new Nv,a=this._parse(n,o),l=a.length,c=d=>s=s.append(d,r),u=0;l>u;++u)a[u].eachChar(c);s._types=o,s._isEndpoint=!0,++h}}interpret(t){const e=new Bv,s=t.length;let n=this._initialStates,r=0,o;for(;r<s&&(n=this._getNextStates(n,t.charAt(r),e),n.length!==0);++r);return n=n.filter(Hv),n.length>0&&(n.sort(Wv),o=n[0],o.charSpec.isSymbol||e.next(o._pattern),e.pattern=o._pattern),e}_getNextStates(t,e,s){const n=[];let r=null;const o=t.length;let a=0;for(;a<o;++a)r=t[a],n.push(...r.findMatches(e,s));return n}_parse(t,e){const s=[],n=t.pattern,r=n.length,o=t.symbols;let a=0,l=0,c="";for(;a<r;)c=n.charAt(a),o.length===0||!o.includes(c)?a===l&&c==="P"&&n.slice(a,a+4)==="PART"?(l=a=a+4,s.push(new Fv(o)),++e.dynamics):++a:a!==l?(s.push(new ju(n.slice(l,a))),++e.statics,l=a):(s.push(new Vv(n.slice(l,a+1))),++e.symbols,l=++a);return l!==a&&(s.push(new ju(n.slice(l,a))),++e.statics),s}}function Hv(i){return i._isEndpoint}function Wv(i,t){const e=i._types,s=t._types;return e.statics!==s.statics?s.statics-e.statics:e.dynamics!==s.dynamics?s.dynamics-e.dynamics:e.symbols!==s.symbols?s.symbols-e.symbols:0}class be{constructor(t,e,s,n,r=null){this.rawName=t,this.rawValue=e,this.target=s,this.command=n,this.parts=r}}const Uv=ts("IAttributePattern"),pl=ts("IAttributeParser",i=>i.singleton(qv));class qv{constructor(){this._cache={},this._patterns={},this._initialized=!1,this._allDefinitions=[],this._interpreter=D(jv),this._container=D(cn)}registerPattern(t,e){if(this._initialized)throw Et(88);const s=this._patterns;for(const{pattern:n}of t){if(s[n]!=null)throw Et(89,n);s[n]={patternType:e}}this._allDefinitions.push(...t)}_initialize(){this._interpreter.add(this._allDefinitions);const t=this._container;for(const[,e]of Object.entries(this._patterns))e.pattern=t.get(e.patternType)}parse(t,e){this._initialized||(this._initialize(),this._initialized=!0);let s=this._cache[t];s==null&&(s=this._cache[t]=this._interpreter.interpret(t));const n=s.pattern;return n==null?new be(t,e,t,null,null):this._patterns[n].pattern[n](t,e,s.parts)}}const Us=mn({name:mi("attribute-pattern"),create(i,t){return{register(e){e.get(pl).registerPattern(i,t),ul(Uv,t).register(e)}}}});class gl{"PART.PART"(t,e,s){return new be(t,e,s[0],s[1])}"PART.PART.PART"(t,e,s){return new be(t,e,`${s[0]}.${s[1]}`,s[2])}}Lu=Symbol.metadata,gl[Lu]={[Qe]:Us.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],gl)};class ml{ref(t,e,s){return new be(t,e,"element","ref")}"PART.ref"(t,e,s){let n=s[0];return n==="view-model"&&(n="component",console.warn(`[aurelia] Detected view-model.ref usage: "${t}=${e}". This is deprecated and component.ref should be used instead`)),new be(t,e,n,"ref")}}Bu=Symbol.metadata,ml[Bu]={[Qe]:Us.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],ml)};class bl{"PART.trigger:PART"(t,e,s){return new be(t,e,s[0],"trigger",s)}"PART.capture:PART"(t,e,s){return new be(t,e,s[0],"capture",s)}}Fu=Symbol.metadata,bl[Fu]={[Qe]:Us.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],bl)};class zu{":PART"(t,e,s){return new be(t,e,s[0],"bind")}}Vu=Symbol.metadata,zu[Vu]={[Qe]:Us.create([{pattern:":PART",symbols:":"}],zu)};class Hu{"@PART"(t,e,s){return new be(t,e,s[0],"trigger")}"@PART:PART"(t,e,s){return new be(t,e,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}Nu=Symbol.metadata,Hu[Nu]={[Qe]:Us.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],Hu)};const _l=ms.get,Wu=ms.define,Uu="ra",qu="rb",Ku="rc",Yu="rd",Qu="re",Xu="rf",vl="rg",Gu="ri",Zu="rj",Ju="rk",td="rl",ed="ha",sd="hb",id="hc",Kv="hd",nd="he",rd="hf",od="hg",ad="hs",ld="hp",cd="svb",jt=mn({hydrateElement:Uu,hydrateAttribute:qu,hydrateTemplateController:Ku,hydrateLetElement:Yu,setProperty:Qu,interpolation:Xu,propertyBinding:vl,letBinding:Gu,refBinding:Zu,iteratorBinding:Ju,multiAttr:td,textBinding:ed,listenerBinding:sd,attributeBinding:id,stylePropertyBinding:Kv,setAttribute:nd,setClassAttribute:rd,setStyleAttribute:od,spreadTransferedBinding:ad,spreadElementProp:ld,spreadValueBinding:cd}),_n=ts("Instruction");class ks{constructor(t,e){this.from=t,this.to=e,this.type=Xu}}class fr{constructor(t,e,s){this.from=t,this.to=e,this.mode=s,this.type=vl}}class Yv{constructor(t,e,s){this.forOf=t,this.to=e,this.props=s,this.type=Ju}}class Qv{constructor(t,e){this.from=t,this.to=e,this.type=Zu}}class vn{constructor(t,e){this.value=t,this.to=e,this.type=Qu}}class Xv{constructor(t,e,s){this.value=t,this.to=e,this.command=s,this.type=td}}class Gv{constructor(t,e,s,n,r,o){this.res=t,this.props=e,this.projections=s,this.containerless=n,this.captures=r,this.data=o,this.type=Uu}}class yl{constructor(t,e,s){this.res=t,this.alias=e,this.props=s,this.type=qu}}class Zv{constructor(t,e,s,n){this.def=t,this.res=e,this.alias=s,this.props=n,this.type=Ku}}class Jv{constructor(t,e){this.instructions=t,this.toBindingContext=e,this.type=Yu}}class hd{constructor(t,e){this.from=t,this.to=e,this.type=Gu}}class t0{constructor(t){this.from=t,this.type=ed}}class ud{constructor(t,e,s,n){this.from=t,this.to=e,this.capture=s,this.modifier=n,this.type=sd}}class dd{constructor(t,e){this.value=t,this.to=e,this.type=nd}}class fd{constructor(t){this.value=t,this.type=rd}}class pd{constructor(t){this.value=t,this.type=od}}class wl{constructor(t,e,s){this.attr=t,this.from=e,this.to=s,this.type=id}}class gd{constructor(){this.type=ad}}class md{constructor(t){this.instruction=t,this.type=ld}}class xl{constructor(t,e){this.target=t,this.from=e,this.type=cd}}class vo{constructor(t,e,s,n){this.Type=t,this.name=e,this.aliases=s,this.key=n}static create(t,e){let s,n;return at(t)?(s=t,n={name:s}):(s=t.name,n=t),new vo(e,js(kl(e,"name"),s),Nt(kl(e,"aliases"),n.aliases,e.aliases),yn(s))}register(t,e){const s=this.Type,n=typeof e=="string"?yn(e):this.key,r=this.aliases;t.has(n,!1)?console.warn(`[DEV:aurelia] ${Et(157,this.name)}`):t.register(t.has(s,!1)?null:ul(s,s),Ru(s,n),...r.map(o=>Ru(s,yn(o))))}}const Zt="binding-command",yo=mi(Zt),yn=i=>`${yo}:${i}`,kl=(i,t)=>_l(Yh.annotation.keyFor(t),i),e0=(()=>{const i="__au_static_resource__",t=(e,s,n)=>{var o;let r=_l(i,e);return r==null&&((o=e.$au)==null?void 0:o.type)===s&&(r=n(e.$au,e),Wu(r,e,i)),r};return mn({name:yo,keyFrom:yn,define(e,s){const n=vo.create(e,s),r=n.Type;return Wu(n,r,yo,Ye),r},getAnnotation:kl,find(e,s){const n=e.find(Zt,s);return n==null?null:_l(yo,n)??t(n,Zt,vo.create)??null},get(e,s){try{return e.get(un(yn(s)))}catch(n){throw console.log(`


[DEV:aurelia] Cannot retrieve binding command with name




`,s),n}return e.get(un(yn(s)))}})})();class bd{get ignoreAttr(){return!1}build(t,e,s){let r=t.attr.target,o=t.attr.rawValue;return o=o===""?qt(r):o,t.bindable==null?r=s.map(t.node,r)??qt(r):r=t.bindable.name,new fr(e.parse(o,es),r,1)}}bd.$au={type:Zt,name:"one-time"};class _d{get ignoreAttr(){return!1}build(t,e,s){let r=t.attr.target,o=t.attr.rawValue;return o=o===""?qt(r):o,t.bindable==null?r=s.map(t.node,r)??qt(r):r=t.bindable.name,new fr(e.parse(o,es),r,2)}}_d.$au={type:Zt,name:"to-view"};class vd{get ignoreAttr(){return!1}build(t,e,s){const n=t.attr;let r=n.target,o=n.rawValue;return o=o===""?qt(r):o,t.bindable==null?r=s.map(t.node,r)??qt(r):r=t.bindable.name,new fr(e.parse(o,es),r,4)}}vd.$au={type:Zt,name:"from-view"};class yd{get ignoreAttr(){return!1}build(t,e,s){const n=t.attr;let r=n.target,o=n.rawValue;return o=o===""?qt(r):o,t.bindable==null?r=s.map(t.node,r)??qt(r):r=t.bindable.name,new fr(e.parse(o,es),r,6)}}yd.$au={type:Zt,name:"two-way"};class wd{get ignoreAttr(){return!1}build(t,e,s){const n=t.attr,r=t.bindable;let o=n.rawValue,a=n.target,l,c;return o=o===""?qt(a):o,r==null?(c=s.isTwoWay(t.node,a)?6:2,a=s.map(t.node,a)??qt(a)):(l=t.def.defaultBindingMode??0,c=r.mode===0||r.mode==null?l==null||l===0?2:l:r.mode,a=r.name),new fr(e.parse(o,es),a,at(c)?dr[c]??0:c)}}wd.$au={type:Zt,name:"bind"};class xd{constructor(){this._attrParser=D(pl)}get ignoreAttr(){return!1}build(t,e){const s=t.bindable===null?qt(t.attr.target):t.bindable.name,n=e.parse(t.attr.rawValue,"IsIterator");let r=tt;if(n.semiIdx>-1){const o=t.attr.rawValue.slice(n.semiIdx+1),a=o.indexOf(":");if(a>-1){const l=o.slice(0,a).trim(),c=o.slice(a+1).trim(),h=this._attrParser.parse(l,c);r=[new Xv(c,h.target,h.command)]}}return new Yv(n,s,r)}}xd.$au={type:Zt,name:"for"};class kd{get ignoreAttr(){return!0}build(t,e){var s;return new ud(e.parse(t.attr.rawValue,Du),t.attr.target,!1,((s=t.attr.parts)==null?void 0:s[2])??null)}}kd.$au={type:Zt,name:"trigger"};class Cd{get ignoreAttr(){return!0}build(t,e){var s;return new ud(e.parse(t.attr.rawValue,Du),t.attr.target,!0,((s=t.attr.parts)==null?void 0:s[2])??null)}}Cd.$au={type:Zt,name:"capture"};class Sd{get ignoreAttr(){return!0}build(t,e){const s=t.attr,n=s.target;let r=s.rawValue;return r=r===""?qt(n):r,new wl(n,e.parse(r,es),n)}}Sd.$au={type:Zt,name:"attr"};class Ad{get ignoreAttr(){return!0}build(t,e){return new wl("style",e.parse(t.attr.rawValue,es),t.attr.target)}}Ad.$au={type:Zt,name:"style"};class Md{get ignoreAttr(){return!0}build(t,e){return new wl("class",e.parse(t.attr.rawValue,es),t.attr.target)}}Md.$au={type:Zt,name:"class"};class Td{get ignoreAttr(){return!0}build(t,e){return new Qv(e.parse(t.attr.rawValue,es),t.attr.target)}}Td.$au={type:Zt,name:"ref"};class Pd{get ignoreAttr(){return!1}build(t){return new xl(t.attr.target,t.attr.rawValue)}}Pd.$au={type:Zt,name:"spread"},typeof SuppressedError=="function"&&SuppressedError;const s0=ts("ITemplateElementFactory",i=>i.singleton(i0)),Id={};class i0{constructor(){this.p=D(hn),this._template=this.t()}t(){return this.p.document.createElement("template")}createTemplate(t){var s;if(at(t)){let n=Id[t];if(n===void 0){const r=this._template;r.innerHTML=t;const o=r.content.firstElementChild;e(o)?(this._template=this.t(),n=r):(r.content.removeChild(o),n=o),Id[t]=n}return n.cloneNode(!0)}if(t.nodeName!=="TEMPLATE"){const n=this.t();return n.content.appendChild(t),n}return(s=t.parentNode)==null||s.removeChild(t),t.cloneNode(!0);function e(n){if(n==null||n.nodeName!=="TEMPLATE"||n.nextElementSibling!=null)return!0;const o=n.previousSibling;if(o!=null)switch(o.nodeType){case 3:return o.textContent.trim().length>0}const a=n.nextSibling;if(a!=null)switch(a.nodeType){case 3:return a.textContent.trim().length>0}return!1}}}const Cl="au-start",Sl="au-end",Al=(i,t,e)=>i.insertBefore(t,e),Ed=(i,t,e)=>{if(i===null)return;const s=e.length;let n=0;for(;s>n;)i.insertBefore(e[n],t),++n},yi=(i,t)=>i.content.appendChild(t),Od=(i,t)=>{const e=t.length;let s=0;for(;e>s;)i.content.appendChild(t[s]),++s},Rd=i=>i.nodeType===1,Dd=i=>i.nodeType===3,pr="au-slot",$d="default",gr=(i=>()=>`anonymous-${++i}`)(0);class Ld{constructor(){this.debug=!1,this.resolveResources=!0}compile(t,e){var u,d;if(t.template==null||t.needsCompile===!1)return t;const s=new wo(t,e,null,null,void 0),n=at(t.template)||!t.enhance?s._templateFactory.createTemplate(t.template):t.template,r=n.nodeName===Ml&&n.content!=null,o=r?n.content:n,a=c0.findAll(e),l=a.length;let c=0;if(l>0)for(;l>c;)(d=(u=a[c]).compiling)==null||d.call(u,n),++c;if(n.hasAttribute(Pl))throw Et(701,t);return this._compileLocalElement(o,s),this._compileNode(o,s),{...t,name:t.name||gr(),dependencies:(t.dependencies??tt).concat(s.deps??tt),instructions:s.rows,surrogates:r?this._compileSurrogate(n,s):tt,template:n,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(t,e,s,n,r){const o=new wo(t,s,null,null,void 0),a=[],l=r??o._findElement(n.nodeName.toLowerCase()),c=l!==null,h=o._exprParser,u=e.length;let d=0,f,g=null,p,m,b,_,w,x=null,v,y,k,T;for(;u>d;++d){if(f=e[d],k=f.target,T=f.rawValue,k==="...$attrs"){a.push(new gd);continue}if(x=o._getCommand(f),x!==null&&x.ignoreAttr){V.node=n,V.attr=f,V.bindable=null,V.def=null,a.push(x.build(V,o._exprParser,o._attrMapper));continue}if(c&&(b=o._getBindables(l),_=b.attrs[k],_!==void 0)){x==null?(v=h.parse(T,Be),a.push(new md(v==null?new vn(T,_.name):new ks(v,_.name)))):(V.node=n,V.attr=f,V.bindable=_,V.def=l,a.push(new md(x.build(V,o._exprParser,o._attrMapper))));continue}if(g=o._findAttr(k),g!==null){if(g.isTemplateController)throw Et(9998,k);b=o._getBindables(g),y=g.noMultiBindings===!1&&x===null&&Tl(T),y?m=this._compileMultiBindings(n,T,g,o):(w=b.primary,x===null?(v=h.parse(T,Be),m=[v===null?new vn(T,w.name):new ks(v,w.name)]):(V.node=n,V.attr=f,V.bindable=w,V.def=g,m=[x.build(V,o._exprParser,o._attrMapper)])),(p??(p=[])).push(new yl(this.resolveResources?g:g.name,g.aliases!=null&&g.aliases.includes(k)?k:void 0,m));continue}if(x==null)if(v=h.parse(T,Be),v!=null)a.push(new ks(v,o._attrMapper.map(n,k)??qt(k)));else switch(k){case"class":a.push(new fd(T));break;case"style":a.push(new pd(T));break;default:a.push(new dd(T,k))}else V.node=n,V.attr=f,V.bindable=null,V.def=null,a.push(x.build(V,o._exprParser,o._attrMapper))}return xo(),p!=null?p.concat(a):a}_compileSurrogate(t,e){const s=[],n=t.attributes,r=e._exprParser;let o=n.length,a=0,l,c,h,u,d=null,f,g,p,m,b=null,_,w,x,v;for(;o>a;++a){if(l=n[a],c=l.name,h=l.value,u=e._attrParser.parse(c,h),x=u.target,v=u.rawValue,r0[x])throw Et(702,c);if(b=e._getCommand(u),b!==null&&b.ignoreAttr){V.node=t,V.attr=u,V.bindable=null,V.def=null,s.push(b.build(V,e._exprParser,e._attrMapper));continue}if(d=e._findAttr(x),d!==null){if(d.isTemplateController)throw Et(703,x);p=e._getBindables(d),w=d.noMultiBindings===!1&&b===null&&Tl(v),w?g=this._compileMultiBindings(t,v,d,e):(m=p.primary,b===null?(_=r.parse(v,Be),g=_===null?v===""?[]:[new vn(v,m.name)]:[new ks(_,m.name)]):(V.node=t,V.attr=u,V.bindable=m,V.def=d,g=[b.build(V,e._exprParser,e._attrMapper)])),t.removeAttribute(c),--a,--o,(f??(f=[])).push(new yl(this.resolveResources?d:d.name,d.aliases!=null&&d.aliases.includes(x)?x:void 0,g));continue}if(b===null)if(_=r.parse(v,Be),_!=null)t.removeAttribute(c),--a,--o,s.push(new ks(_,e._attrMapper.map(t,x)??qt(x)));else switch(c){case"class":s.push(new fd(v));break;case"style":s.push(new pd(v));break;default:s.push(new dd(v,c))}else V.node=t,V.attr=u,V.bindable=null,V.def=null,s.push(b.build(V,e._exprParser,e._attrMapper))}return xo(),f!=null?f.concat(s):s}_compileNode(t,e){switch(t.nodeType){case 1:switch(t.nodeName){case"LET":return this._compileLet(t,e);default:return this._compileElement(t,e)}case 3:return this._compileText(t,e);case 11:{let s=t.firstChild;for(;s!==null;)s=this._compileNode(s,e);break}}return t.nextSibling}_compileLet(t,e){const s=t.attributes,n=s.length,r=[],o=e._exprParser;let a=!1,l=0,c,h,u,d,f,g,p,m;for(;n>l;++l){if(c=s[l],u=c.name,d=c.value,u==="to-binding-context"){a=!0;continue}if(h=e._attrParser.parse(u,d),g=h.target,p=h.rawValue,f=e._getCommand(h),f!==null){if(h.command==="bind")r.push(new hd(o.parse(p,es),qt(g)));else throw Et(704,h);continue}m=o.parse(p,Be),m===null&&console.warn(`[DEV:aurelia] Property "${g}" is declared with literal string ${p}. Did you mean ${g}.bind="${p}"?`),r.push(new hd(m===null?new Kt(p):m,qt(g)))}return e.rows.push([new Jv(r,a)]),this._markAsTarget(t,e).nextSibling}_compileElement(t,e){var Y,X,Ht,us,ds,ge,Gt,st;const s=t.nextSibling,n=(t.getAttribute("as-element")??t.nodeName).toLowerCase(),r=e._findElement(n),o=r!==null,a=o&&r.shadowOptions!=null,l=r==null?void 0:r.capture,c=l!=null&&typeof l!="boolean",h=l?[]:tt,u=e._exprParser,d=this.debug?Ge:()=>{t.removeAttribute(_),--m,--p};let f=t.attributes,g,p=f.length,m=0,b,_,w,x,v,y,k=null,T=!1,M,O,$,N,z,H,j,I=null,W,nt,L,J,A=!0,E=!1,S=!1,P=!1,ft,C=0;if(n==="slot"){if(e.root.def.shadowOptions==null)throw Et(717,e.root.def.name);e.root.hasSlot=!0}for(o&&(ft={},A=(Y=r.processContent)==null?void 0:Y.call(r.Type,t,e.p,ft),f=t.attributes,p=f.length);p>m;++m){switch(b=f[m],_=b.name,w=b.value,_){case"as-element":case"containerless":d(),E=E||_==="containerless";continue}if(x=e._attrParser.parse(_,w),I=e._getCommand(x),L=x.target,J=x.rawValue,l&&(!c||c&&l(L))){if(I!=null&&I.ignoreAttr){d(),h.push(x);continue}if(S=L!==pr&&L!=="slot"&&((C=L.indexOf("..."))===-1||C===0&&L==="...$attrs"),S&&(W=e._getBindables(r),W.attrs[L]==null&&!((X=e._findAttr(L))!=null&&X.isTemplateController))){d(),h.push(x);continue}}if(L==="...$attrs"){(v??(v=[])).push(new gd),d();continue}if(I!=null&&I.ignoreAttr){V.node=t,V.attr=x,V.bindable=null,V.def=null,(v??(v=[])).push(I.build(V,e._exprParser,e._attrMapper)),d();continue}if(L.indexOf("...")===0){if(o&&(L=L.slice(3))!=="$element"){(y??(y=[])).push(new xl("$bindables",L==="$bindables"?J:L)),d();continue}throw(L==="$bindable"||L==="bindables")&&console.warn(`[DEV:aurelia] Detected usage of ${L} on <${t.nodeName}>, did you mean "$bindables"?`),Et(720,L)}if(o){if(W=e._getBindables(r),M=W.attrs[L],M!==void 0){I===null?(H=u.parse(J,Be),(y??(y=[])).push(H==null?new vn(J,M.name):new ks(H,M.name))):(V.node=t,V.attr=x,V.bindable=M,V.def=r,(y??(y=[])).push(I.build(V,e._exprParser,e._attrMapper))),d(),k=e._findAttr(L),k!==null&&console.warn(`[DEV:aurelia] Binding with bindable "${L}" on custom element "${r.name}" is ambiguous.There is a custom attribute with the same name.`);continue}if(L==="$bindables"){if(I!=null){V.node=t,V.attr=x,V.bindable=null,V.def=r;{const q=I.build(V,e._exprParser,e._attrMapper);q instanceof xl||console.warn(`[DEV:aurelia] Binding with "$bindables" on custom element "${r.name}" with command ${x.command}  did not result in a spread binding instruction. This likely won't work as expected.`),(y??(y=[])).push(q)}}else console.warn(`[DEV:aurelia] Usage of "$bindables" on custom element "<${r.name}>" is ignored.`);d();continue}}if(L==="$bindables")throw Et(721,t.nodeName,L,J);if(k=e._findAttr(L),k!==null){W=e._getBindables(k),T=k.noMultiBindings===!1&&I===null&&Tl(J),T?$=this._compileMultiBindings(t,J,k,e):(nt=W.primary,I===null?(H=u.parse(J,Be),$=H===null?J===""?[]:[new vn(J,nt.name)]:[new ks(H,nt.name)]):(V.node=t,V.attr=x,V.bindable=nt,V.def=k,$=[I.build(V,e._exprParser,e._attrMapper)])),d(),k.isTemplateController?(N??(N=[])).push(new Zv(n0,this.resolveResources?k:k.name,void 0,$)):(O??(O=[])).push(new yl(this.resolveResources?k:k.name,k.aliases!=null&&k.aliases.includes(L)?L:void 0,$));continue}if(I===null){H=u.parse(J,Be),H!=null&&(d(),(v??(v=[])).push(new ks(H,e._attrMapper.map(t,L)??qt(L))));continue}V.node=t,V.attr=x,V.bindable=null,V.def=null,(v??(v=[])).push(I.build(V,e._exprParser,e._attrMapper)),d()}xo(),this._shouldReorderAttrs(t,v)&&v!=null&&v.length>1&&this._reorder(t,v),o&&(j=new Gv(this.resolveResources?r:r.name,y??tt,null,E,h,ft)),(v!=null||j!=null||O!=null)&&(g=tt.concat(j??tt,O??tt,v??tt),P=!0);let R;if(N!=null){p=N.length-1,m=p,z=N[m];let q;Bd(t)?(q=e.t(),Od(q,[e._marker(),e._comment(Cl),e._comment(Sl)])):(this._replaceByMarker(t,e),t.nodeName==="TEMPLATE"?q=t:(q=e.t(),yi(q,t)));const fs=q,Bt=e._createChild(g==null?[]:[g]);let We,Ue,tn=!1,en,qe,ps,gs,io,fi,sn=0,Eb=0,le=t.firstChild,Ob=!1;if(A!==!1)for(;le!==null;){if(Ue=Rd(le)?le.getAttribute(pr):null,tn=Ue!==null||o&&!a,We=le.nextSibling,tn){if(!o)throw Et(706,Ue,n);(Ht=le.removeAttribute)==null||Ht.call(le,pr),Ob=Dd(le)&&le.textContent.trim()==="",Ob||((us=qe??(qe={}))[ds=Ue||$d]??(us[ds]=[])).push(le),t.removeChild(le)}le=We}if(qe!=null){en={};for(Ue in qe){for(q=e.t(),ps=qe[Ue],sn=0,Eb=ps.length;Eb>sn;++sn)gs=ps[sn],gs.nodeName==="TEMPLATE"?gs.attributes.length>0?yi(q,gs):yi(q,gs.content):yi(q,gs);fi=e._createChild(),this._compileNode(q.content,fi),en[Ue]={name:gr(),type:bn,template:q,instructions:fi.rows,needsCompile:!1}}j.projections=en}if(P&&(o&&(E||r.containerless)?this._replaceByMarker(t,e):this._markAsTarget(t,e)),R=!o||!r.containerless&&!E&&A!==!1,R)if(t.nodeName===Ml)this._compileNode(t.content,Bt);else for(le=t.firstChild;le!==null;)le=this._compileNode(le,Bt);for(z.def={name:gr(),type:bn,template:fs,instructions:Bt.rows,needsCompile:!1};m-- >0;)z=N[m],q=e.t(),io=e._marker(),Od(q,[io,e._comment(Cl),e._comment(Sl)]),z.def={name:gr(),type:bn,template:q,needsCompile:!1,instructions:[[N[m+1]]]};e.rows.push([z])}else{g!=null&&e.rows.push(g);let q=t.firstChild,fs,Bt,We=!1,Ue=null,tn,en,qe,ps,gs,io=!1,fi=0,sn=0;if(A!==!1)for(;q!==null;){if(Bt=Rd(q)?q.getAttribute(pr):null,We=Bt!==null||o&&!a,fs=q.nextSibling,We){if(!o)throw Et(706,Bt,n);(ge=q.removeAttribute)==null||ge.call(q,pr),io=Dd(q)&&q.textContent.trim()==="",io||((Gt=tn??(tn={}))[st=Bt||$d]??(Gt[st]=[])).push(q),t.removeChild(q)}q=fs}if(tn!=null){Ue={};for(Bt in tn){for(ps=e.t(),en=tn[Bt],fi=0,sn=en.length;sn>fi;++fi)qe=en[fi],qe.nodeName===Ml?qe.attributes.length>0?yi(ps,qe):yi(ps,qe.content):yi(ps,qe);gs=e._createChild(),this._compileNode(ps.content,gs),Ue[Bt]={name:gr(),type:bn,template:ps,instructions:gs.rows,needsCompile:!1}}j.projections=Ue}if(P&&(o&&(E||r.containerless)?this._replaceByMarker(t,e):this._markAsTarget(t,e)),R=!o||!r.containerless&&!E&&A!==!1,R&&t.childNodes.length>0)for(q=t.firstChild;q!==null;)q=this._compileNode(q,e)}return s}_compileText(t,e){const s=t.parentNode,n=e._exprParser.parse(t.textContent,Be),r=t.nextSibling;let o,a,l,c,h;if(n!==null){for({parts:o,expressions:a}=n,(h=o[0])&&Al(s,e._text(h),t),l=0,c=a.length;c>l;++l)Ed(s,t,[e._marker(),e._text(" ")]),(h=o[l+1])&&Al(s,e._text(h),t),e.rows.push([new t0(a[l])]);s.removeChild(t)}return r}_compileMultiBindings(t,e,s,n){const r=n._getBindables(s),o=e.length,a=[];let l,c,h=0,u=0,d,f,g,p;for(let m=0;m<o;++m)if(u=e.charCodeAt(m),u===92)++m;else if(u===58){for(l=e.slice(h,m);e.charCodeAt(++m)<=32;);for(h=m;m<o;++m)if(u=e.charCodeAt(m),u===92)++m;else if(u===59){c=e.slice(h,m);break}if(c===void 0&&(c=e.slice(h)),f=n._attrParser.parse(l,c),g=n._getCommand(f),p=r.attrs[f.target],p==null)throw Et(707,f.target,s.name);for(g===null?(d=n._exprParser.parse(c,Be),a.push(d===null?new vn(c,p.name):new ks(d,p.name))):(V.node=t,V.attr=f,V.bindable=p,V.def=s,a.push(g.build(V,n._exprParser,n._attrMapper)));m<o&&e.charCodeAt(++m)<=32;);h=m,l=void 0,c=void 0}return xo(),a}_compileLocalElement(t,e){const s=e.root.def.name,n=t,r=Wa(n.querySelectorAll("template[as-custom-element]")),o=r.length;if(o===0)return;if(o===n.childElementCount)throw Et(708,s);const a=new Set,l=[];for(const h of r){if(h.parentNode!==n)throw Et(709,s);const u=l0(s,h,a),d=h.content,f=Wa(d.querySelectorAll("bindable")),g=new Set,p=new Set,m=f.reduce((_,w)=>{if(w.parentNode!==d)throw Et(710,u);const x=w.getAttribute("name");if(x===null)throw Et(711,w,u);const v=w.getAttribute("attribute");if(v!==null&&p.has(v)||g.has(x))throw Et(712,g,v);v!==null&&p.add(v),g.add(x);const y=Wa(w.attributes).filter(k=>!Vd.includes(k.name));return y.length>0&&console.warn(`[DEV:aurelia] The attribute(s) ${y.map(k=>k.name).join(", ")} will be ignored for ${w.outerHTML}. Only ${Vd.join(", ")} are processed.`),w.remove(),_[x]={name:x,attribute:v??void 0,mode:w.getAttribute("mode")??"default"},_},{});class b{}b.$au={type:bn,name:u,template:h,bindables:m},Reflect.defineProperty(b,"name",{value:zh(u)}),l.push(b),n.removeChild(h)}const c=(e.root.def.dependencies??[]).concat(e.root.def.Type==null?tt:[e.root.def.Type]);for(const h of l)h.dependencies=c.concat(l.filter(u=>u!==h)),e._addLocalDep(h)}_shouldReorderAttrs(t,e){const s=t.nodeName;return s==="INPUT"&&o0[t.type]===1||s==="SELECT"&&(t.hasAttribute("multiple")||(e==null?void 0:e.some(n=>n.type===vl&&n.to==="multiple")))}_reorder(t,e){switch(t.nodeName){case"INPUT":{const s=e;let n,r,o=0,a;for(let l=0;l<s.length&&o<3;l++)switch(a=s[l],a.to){case"model":case"value":case"matcher":n=l,o++;break;case"checked":r=l,o++;break}r!==void 0&&n!==void 0&&r<n&&([s[n],s[r]]=[s[r],s[n]]);break}case"SELECT":{const s=e;let n=0,r=0,o=0,a;for(let l=0;l<s.length&&o<2;++l){switch(a=s[l],a.to){case"multiple":r=l,o++;break;case"value":n=l,o++;break}o===2&&n<r&&([s[r],s[n]]=[s[n],s[r]])}}}}_markAsTarget(t,e){return Al(t.parentNode,e._comment("au*"),t),t}_replaceByMarker(t,e){if(Bd(t))return t;const s=t.parentNode,n=e._marker();return Ed(s,t,[n,e._comment(Cl),e._comment(Sl)]),s.removeChild(t),n}}Ld.register=Qn(_o);const Ml="TEMPLATE",Bd=i=>i.nodeValue==="au*";class wo{constructor(t,e,s,n,r){var a;this.hasSlot=!1,this.deps=null;const o=s!==null;if(this.c=e,this.root=n===null?this:n,this.def=t,this.parent=s,this._resourceResolver=o?s._resourceResolver:e.get(Fd),this._commandResolver=o?s._commandResolver:e.get(a0),this._templateFactory=o?s._templateFactory:e.get(s0),this._attrParser=o?s._attrParser:e.get(pl),this._exprParser=o?s._exprParser:e.get(pn),this._attrMapper=o?s._attrMapper:e.get($u),this._logger=o?s._logger:e.get(bi),typeof((a=(this.p=o?s.p:e.get(hn)).document)==null?void 0:a.nodeType)!="number")throw Et(722);this.localEls=o?s.localEls:new Set,this.rows=r??[]}_addLocalDep(t){var e;return((e=this.root).deps??(e.deps=[])).push(t),this.root.c.register(t),this}_text(t){return this.p.document.createTextNode(t)}_comment(t){return this.p.document.createComment(t)}_marker(){return this._comment("au*")}h(t){const e=this.p.document.createElement(t);return t==="template"&&this.p.document.adoptNode(e.content),e}t(){return this.h("template")}_findElement(t){return this._resourceResolver.el(this.c,t)}_findAttr(t){return this._resourceResolver.attr(this.c,t)}_getBindables(t){return this._resourceResolver.bindables(t)}_createChild(t){return new wo(this.def,this.c,this,this.root,t)}_getCommand(t){const e=t.command;return e===null?null:this._commandResolver.get(this.c,e)}}const Tl=i=>{const t=i.length;let e=0,s=0;for(;t>s;){if(e=i.charCodeAt(s),e===92)++s;else{if(e===58)return!0;if(e===36&&i.charCodeAt(s+1)===123)return!1}++s}return!1},xo=()=>{V.node=V.attr=V.bindable=V.def=null},n0={name:"unnamed",type:bn},V={node:null,attr:null,bindable:null,def:null},r0={id:!0,name:!0,"au-slot":!0,"as-element":!0},o0={checkbox:1,radio:1},Fd=ts("IResourceResolver"),a0=ts("IBindingCommandResolver",i=>{class t{constructor(){this._cache=new WeakMap}get(s,n){let r=this._cache.get(s);return r||this._cache.set(s,r={}),n in r?r[n]:r[n]=e0.get(s,n)}}return i.singleton(t)}),Vd=mn(["name","attribute","mode"]),Pl="as-custom-element",l0=(i,t,e)=>{const s=t.getAttribute(Pl);if(s===null||s==="")throw Et(715,i);if(e.has(s))throw Et(716,s,i);return e.add(s),t.removeAttribute(Pl),s},Nd=ts("ITemplateCompilerHooks"),c0=mn({name:mi("compiler-hooks"),define(i){return{register(t){ul(Nd,i).register(t)}}},findAll(i){return i.get(o_(Nd))}}),h0=Object.prototype.hasOwnProperty,qs=Reflect.defineProperty;function ss(i,t,e){return qs(i,t,{enumerable:!1,configurable:!0,writable:!0,value:e}),e}function Cs(i,t,e){t in i||ss(i,t,e)}const jd=Object.assign,Il=Object.freeze,wn=String,ko=Ws.createInterface,u0=ms.get,d0=ms.define,G=(i,...t)=>new Error(`AUR${wn(i).padStart(4,"0")}: ${p0(i,...t)}`),f0={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`,199:"Trying to observe property {{0}} on null/undefined",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",206:"Trying to switch to a null/undefined connectable",207:"Trying to enter an active connectable",208:"Trying to pop a null/undefined connectable",209:"Trying to exit an inactive connectable",210:"Unrecognised collection type {{0:toString}}.",217:"There is no registration for IDirtyChecker interface. If you want to use your own dirty checker, make sure you register it.",218:"Dirty checked is not permitted in this application. Property key {{0}} is being dirty checked.",219:"Trying to set value for property {{0}} in dirty checker",220:'Map/Set "size" is a readonly property',221:'Trying to assign value to readonly property "{{0}}" through computed observer.',224:"Invalid @observable decorator usage, cannot determine property name",225:"Trying to stop an effect that has already been stopped",226:"Maximum number of recursive effect run reached. Consider handle effect dependencies differently."},p0=(i,...t)=>{var s;let e=f0[i];for(let n=0;n<t.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(e);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=t[n];if(l!=null)switch(a){case"typeof":l=typeof l;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=wn(l[a.slice(1)]):l=wn(l)}e=e.slice(0,o.index)+l+e.slice(r.lastIndex),o=r.exec(e)}}return e};class zt{constructor(t,e,s,n){this.parent=t,this.bindingContext=e,this.overrideContext=s,this.isBoundary=n}static getContext(t,e,s){if(t==null)throw G(203);let n=t.overrideContext,r=t;if(s>0){for(;s>0;)if(s--,r=r.parent,r==null)return;return n=r.overrideContext,e in n?n:r.bindingContext}for(;r!=null&&!r.isBoundary&&!(e in r.overrideContext)&&!(e in r.bindingContext);)r=r.parent;return r==null?t.bindingContext:(n=r.overrideContext,e in n?n:r.bindingContext)}static create(t,e,s){if(t==null)throw G(204);return new zt(null,t,e??new Hd,s??!1)}static fromParent(t,e,s=new Hd){if(t==null)throw G(203);return new zt(t,e,s,!1)}}class zd{constructor(t,e){t!==void 0&&(this[t]=e)}}class Hd{}const{astAssign:mr,astEvaluate:At,astBind:Ks,astUnbind:Ys}=(()=>{const i="AccessThis",t="AccessBoundary",e="AccessGlobal",s="AccessScope",n="ArrayLiteral",r="ObjectLiteral",o="PrimitiveLiteral",a="Template",l="Unary",c="CallScope",h="CallMember",u="CallFunction",d="CallGlobal",f="AccessMember",g="AccessKeyed",p="TaggedTemplate",m="Binary",b="Conditional",_="Assign",w="ArrowFunction",x="ValueConverter",v="BindingBehavior",y="ArrayBindingPattern",k="ObjectBindingPattern",T="BindingIdentifier",M="ForOfStatement",O="Interpolation",$="ArrayDestructuring",N="ObjectDestructuring",z="DestructuringAssignmentLeaf",H="Custom",j=zt.getContext;function I(A,E,S,P){var ft;switch(A.$kind){case i:{let C=E.overrideContext,R=E,Y=A.ancestor;for(;Y--&&C;)R=R.parent,C=(R==null?void 0:R.overrideContext)??null;return Y<1&&R?R.bindingContext:void 0}case t:{let C=E;for(;C!=null&&!C.isBoundary;)C=C.parent;return C?C.bindingContext:void 0}case s:{const C=j(E,A.name,A.ancestor);P!==null&&P.observe(C,A.name);const R=C[A.name];if(R==null){if(A.name==="$host")throw G(105);return R}return S!=null&&S.boundFn&&pt(R)?R.bind(C):R}case e:return globalThis[A.name];case d:{const C=globalThis[A.name];if(pt(C))return C(...A.args.map(R=>I(R,E,S,P)));if(!(S!=null&&S.strict)&&C==null)return;throw G(107)}case n:return A.elements.map(C=>I(C,E,S,P));case r:{const C={};for(let R=0;R<A.keys.length;++R)C[A.keys[R]]=I(A.values[R],E,S,P);return C}case o:return A.value;case a:{let C=A.cooked[0];for(let R=0;R<A.expressions.length;++R)C+=wn(I(A.expressions[R],E,S,P)),C+=A.cooked[R+1];return C}case l:{const C=I(A.expression,E,S,P);switch(A.operation){case"void":return;case"typeof":return typeof C;case"!":return!C;case"-":return-C;case"+":return+C;case"--":if(P!=null)throw G(113);return W(A.expression,E,S,C-1)+A.pos;case"++":if(P!=null)throw G(113);return W(A.expression,E,S,C+1)-A.pos;default:throw G(109,A.operation)}}case c:{const C=j(E,A.name,A.ancestor);if(C==null){if(S!=null&&S.strict)throw G(114,A.name,C);return}const R=C[A.name];if(pt(R))return R.apply(C,A.args.map(Y=>I(Y,E,S,P)));if(R==null){if(S!=null&&S.strict&&!A.optional)throw G(111,A.name);return}throw G(111,A.name)}case h:{const C=I(A.object,E,S,P);if(C==null&&S!=null&&S.strict&&!A.optionalMember)throw G(114,A.name,C);const R=C==null?void 0:C[A.name];if(R==null){if(!A.optionalCall&&(S!=null&&S.strict))throw G(111,A.name);return}if(!pt(R))throw G(111,A.name);const Y=R.apply(C,A.args.map(X=>I(X,E,S,P)));return Dt(C)&&J.includes(A.name)&&(P==null||P.observeCollection(C)),Y}case u:{const C=I(A.func,E,S,P);if(pt(C))return C(...A.args.map(R=>I(R,E,S,P)));if(C==null){if(!A.optional&&(S!=null&&S.strict))throw G(107);return}throw G(107)}case w:return(...R)=>{const Y=A.args,X=A.rest,Ht=Y.length-1,us=Y.reduce((ge,Gt,st)=>(X&&st===Ht?ge[Gt.name]=R.slice(st):ge[Gt.name]=R[st],ge),{}),ds=zt.fromParent(E,us);return I(A.body,ds,S,P)};case f:{const C=I(A.object,E,S,P);if(C==null){if(!A.optional&&(S!=null&&S.strict))throw G(114,A.name,C);return}P!==null&&!A.accessGlobal&&P.observe(C,A.name);const R=C[A.name];return S!=null&&S.boundFn&&pt(R)?R.bind(C):R}case g:{const C=I(A.object,E,S,P),R=I(A.key,E,S,P);if(C==null){if(!A.optional&&(S!=null&&S.strict))throw G(115,R,C);return}return P!==null&&!A.accessGlobal&&P.observe(C,R),C[R]}case p:{const C=A.expressions.map(Y=>I(Y,E,S,P)),R=I(A.func,E,S,P);if(!pt(R))throw G(110);return R(A.cooked,...C)}case m:{const C=A.left,R=A.right;switch(A.operation){case"&&":return I(C,E,S,P)&&I(R,E,S,P);case"||":return I(C,E,S,P)||I(R,E,S,P);case"??":return I(C,E,S,P)??I(R,E,S,P);case"==":return I(C,E,S,P)==I(R,E,S,P);case"===":return I(C,E,S,P)===I(R,E,S,P);case"!=":return I(C,E,S,P)!=I(R,E,S,P);case"!==":return I(C,E,S,P)!==I(R,E,S,P);case"instanceof":{const Y=I(R,E,S,P);return pt(Y)?I(C,E,S,P)instanceof Y:!1}case"in":{const Y=I(R,E,S,P);return no(Y)?I(C,E,S,P)in Y:!1}case"+":return I(C,E,S,P)+I(R,E,S,P);case"-":return I(C,E,S,P)-I(R,E,S,P);case"*":return I(C,E,S,P)*I(R,E,S,P);case"/":return I(C,E,S,P)/I(R,E,S,P);case"%":return I(C,E,S,P)%I(R,E,S,P);case"<":return I(C,E,S,P)<I(R,E,S,P);case">":return I(C,E,S,P)>I(R,E,S,P);case"<=":return I(C,E,S,P)<=I(R,E,S,P);case">=":return I(C,E,S,P)>=I(R,E,S,P);default:throw G(108,A.operation)}}case b:return I(A.condition,E,S,P)?I(A.yes,E,S,P):I(A.no,E,S,P);case _:{let C=I(A.value,E,S,P);if(A.op!=="="){if(P!=null)throw G(113);const R=I(A.target,E,S,P);switch(A.op){case"/=":C=R/C;break;case"*=":C=R*C;break;case"+=":C=R+C;break;case"-=":C=R-C;break;default:throw G(108,A.op)}}return W(A.target,E,S,C)}case x:return(ft=S==null?void 0:S.useConverter)==null?void 0:ft.call(S,A.name,"toView",I(A.expression,E,S,P),A.args.map(C=>I(C,E,S,P)));case v:return I(A.expression,E,S,P);case T:return A.name;case M:return I(A.iterable,E,S,P);case O:if(A.isMulti){let C=A.parts[0],R=0;for(;R<A.expressions.length;++R)C+=wn(I(A.expressions[R],E,S,P)),C+=A.parts[R+1];return C}else return`${A.parts[0]}${I(A.firstExpression,E,S,P)}${A.parts[1]}`;case z:return I(A.target,E,S,P);case $:return A.list.map(C=>I(C,E,S,P));case y:case k:case N:default:return;case H:return A.evaluate(E,S,P)}}function W(A,E,S,P){var ft;switch(A.$kind){case s:{if(A.name==="$host")throw G(106);const C=j(E,A.name,A.ancestor);return C[A.name]=P}case f:{const C=I(A.object,E,S,null);if(C==null){if(S!=null&&S.strict)throw G(116,A.name);W(A.object,E,S,{[A.name]:P})}else no(C)&&(A.name==="length"&&Dt(C)&&!isNaN(P)?C.splice(P):C[A.name]=P);return P}case g:{const C=I(A.object,E,S,null),R=I(A.key,E,S,null);if(C==null){if(S!=null&&S.strict)throw G(116,R);return W(A.object,E,S,{[R]:P}),P}if(Dt(C)){if(R==="length"&&!isNaN(P))return C.splice(P),P;if(Kn(R))return C.splice(R,1,P),P}return C[R]=P}case _:return W(A.value,E,S,P),W(A.target,E,S,P);case x:return P=(ft=S==null?void 0:S.useConverter)==null?void 0:ft.call(S,A.name,"fromView",P,A.args.map(C=>I(C,E,S,null))),W(A.expression,E,S,P);case v:return W(A.expression,E,S,P);case $:case N:{const C=A.list,R=C.length;let Y,X;for(Y=0;Y<R;Y++)switch(X=C[Y],X.$kind){case z:W(X,E,S,P);break;case $:case N:{if(typeof P!="object"||P===null)throw G(112);let Ht=I(X.source,zt.create(P),S,null);Ht===void 0&&X.initializer&&(Ht=I(X.initializer,E,S,null)),W(X,E,S,Ht);break}}break}case z:{if(A instanceof bu){if(P==null)return;if(typeof P!="object")throw G(112);let C=I(A.source,zt.create(P),S,null);C===void 0&&A.initializer&&(C=I(A.initializer,E,S,null)),W(A.target,E,S,C)}else{if(P==null)return;if(typeof P!="object")throw G(112);const C=A.indexOrProperties;let R;if(Kn(C)){if(!Array.isArray(P))throw G(112);R=P.slice(C)}else R=Object.entries(P).reduce((Y,[X,Ht])=>(C.includes(X)||(Y[X]=Ht),Y),{});W(A.target,E,S,R)}break}case H:return A.assign(E,S,P);default:return}}function nt(A,E,S){var P,ft,C;switch(A.$kind){case v:{(P=S.bindBehavior)==null||P.call(S,A.name,E,A.args.map(R=>I(R,E,S,null))),nt(A.expression,E,S);break}case x:{(ft=S.bindConverter)==null||ft.call(S,A.name),nt(A.expression,E,S);break}case M:{nt(A.iterable,E,S);break}case H:(C=A.bind)==null||C.call(A,E,S)}}function L(A,E,S){var P,ft,C;switch(A.$kind){case v:{(P=S.unbindBehavior)==null||P.call(S,A.name,E),L(A.expression,E,S);break}case x:{(ft=S.unbindConverter)==null||ft.call(S,A.name),L(A.expression,E,S);break}case M:{L(A.iterable,E,S);break}case H:(C=A.unbind)==null||C.call(A,E,S)}}const J="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:I,astAssign:W,astBind:nt,astUnbind:L}})(),g0=i=>{const t=i.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(e=>{ss(t,e,()=>{throw G(99,e)})})},Wd=Ws.createInterface("ICoercionConfiguration"),Co=0,Qs=1,El=Il({None:Co,Observer:Qs,Node:2,Layout:4});function wi(i=0){const t=Array(i);let e=0;for(;e<i;)t[e]=e++;return t.deletedIndices=[],t.deletedItems=[],t.isIndexMap=!0,t}let m0=!1;const Fe=(()=>{function i(a,l){return a==null?r:r(a)}function t(){return ss(this,"subs",new o)}function e(a){return this.subs.add(a)}function s(a){return this.subs.remove(a)}const n=new WeakSet;function r(a,l){if(!n.has(a)){n.add(a);const c=a.prototype;qs(c,"subs",{get:t}),Cs(c,"subscribe",e),Cs(c,"unsubscribe",s)}return a}class o{constructor(){this.count=0,this._subs=[],this._requestDirtySubs=[],this._hasDirtySubs=!1}add(l){return this._subs.includes(l)?!1:(this._subs[this._subs.length]=l,"handleDirty"in l&&(this._requestDirtySubs[this._requestDirtySubs.length]=l,this._hasDirtySubs=!0),++this.count,!0)}remove(l){let c=this._subs.indexOf(l);return c!==-1?(this._subs.splice(c,1),c=this._requestDirtySubs.indexOf(l),c!==-1&&(this._requestDirtySubs.splice(c,1),this._hasDirtySubs=this._requestDirtySubs.length>0),--this.count,!0):!1}notify(l,c){for(const h of this._subs.slice(0))h.handleChange(l,c)}notifyCollection(l,c){const h=this._subs.slice(0),u=h.length;let d=0;for(;d<u;++d)h[d].handleCollectionChange(l,c)}notifyDirty(){if(this._hasDirtySubs)for(const l of this._requestDirtySubs.slice(0))l.handleDirty()}}return i})();class Ud{constructor(t){this.owner=t,this.type=Qs,this._value=(this._obj=t.collection).length}getValue(){return this._obj.length}setValue(t){t!==this._value&&(Number.isNaN(t)?console.warn(`Invalid value "${t}" for array length`):(this._obj.splice(t),this._value=this._obj.length))}handleDirty(){this._value!==this._obj.length&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this._value,n=this._obj.length;(this._value=n)!==s&&(this.subs.notifyDirty(),this.subs.notify(this._value,s))}}qd(Ud);class Ol{constructor(t){this.owner=t,this.type=Qs,this._value=(this._obj=t.collection).size}getValue(){return this._obj.size}setValue(){throw G(220)}handleDirty(){this._value!==this._obj.size&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this._value,n=this._obj.size;(this._value=n)!==s&&this.subs.notify(this._value,s)}}qd(Ol);function qd(i){const t=i.prototype;return Cs(t,"subscribe",b0),Cs(t,"unsubscribe",_0),Fe(i,null)}function b0(i){this.subs.add(i)&&this.subs.count===1&&this.owner.subscribe(this)}function _0(i){this.subs.remove(i)&&this.subs.count===0&&this.owner.subscribe(this)}const br=(()=>{const i=Symbol.for("__au_arr_obs__"),t=Array[i]??ss(Array,i,new WeakMap);function e(p,m){return p===m?0:(p=p===null?"null":p.toString(),m=m===null?"null":m.toString(),p<m?-1:1)}function s(p,m){return p===void 0?m===void 0?0:1:m===void 0?-1:0}function n(p,m,b,_,w){let x,v,y,k,T,M,O;for(M=b+1;M<_;M++){for(x=p[M],v=m[M],O=M-1;O>=b&&(y=p[O],k=m[O],T=w(y,x),T>0);O--)p[O+1]=y,m[O+1]=k;p[O+1]=x,m[O+1]=v}}function r(p,m,b,_,w){let x=0,v=0,y,k,T,M,O,$,N,z,H,j,I,W,nt,L,J,A,E,S,P;for(;;){if(_-b<=10){n(p,m,b,_,w);return}x=b+(_-b>>1),y=p[b],M=m[b],k=p[_-1],O=m[_-1],T=p[x],$=m[x],N=w(y,k),N>0&&(j=y,I=M,y=k,M=O,k=j,O=I),z=w(y,T),z>=0?(j=y,I=M,y=T,M=$,T=k,$=O,k=j,O=I):(H=w(k,T),H>0&&(j=k,I=O,k=T,O=$,T=j,$=I)),p[b]=y,m[b]=M,p[_-1]=T,m[_-1]=$,W=k,nt=O,L=b+1,J=_-1,p[x]=p[L],m[x]=m[L],p[L]=W,m[L]=nt;t:for(v=L+1;v<J;v++)if(A=p[v],E=m[v],S=w(A,W),S<0)p[v]=p[L],m[v]=m[L],p[L]=A,m[L]=E,L++;else if(S>0){do{if(J--,J==v)break t;P=p[J],S=w(P,W)}while(S>0);p[v]=p[J],m[v]=m[J],p[J]=A,m[J]=E,S<0&&(A=p[v],E=m[v],p[v]=p[L],m[v]=m[L],p[L]=A,m[L]=E,L++)}_-J<L-b?(r(p,m,J,_,w),_=L):(r(p,m,b,L,w),b=J)}}const o=Array.prototype,a=["push","unshift","pop","shift","splice","reverse","sort"];let l;function c(){const p=o.push,m=o.unshift,b=o.pop,_=o.shift,w=o.splice,x=o.reverse,v=o.sort;l={push:function(...y){const k=t.get(this);if(k===void 0)return p.apply(this,y);const T=this.length,M=y.length;if(M===0)return T;this.length=k.indexMap.length=T+M;let O=T;for(;O<this.length;)this[O]=y[O-T],k.indexMap[O]=-2,O++;return k.notify(),this.length},unshift:function(...y){const k=t.get(this);if(k===void 0)return m.apply(this,y);const T=y.length,M=new Array(T);let O=0;for(;O<T;)M[O++]=-2;m.apply(k.indexMap,M);const $=m.apply(this,y);return k.notify(),$},pop:function(){const y=t.get(this);if(y===void 0)return b.call(this);const k=y.indexMap,T=b.call(this),M=k.length-1;return k[M]>-1&&(k.deletedIndices.push(k[M]),k.deletedItems.push(T)),b.call(k),y.notify(),T},shift:function(){const y=t.get(this);if(y===void 0)return _.call(this);const k=y.indexMap,T=_.call(this);return k[0]>-1&&(k.deletedIndices.push(k[0]),k.deletedItems.push(T)),_.call(k),y.notify(),T},splice:function(...y){const k=y[0],T=y[1],M=t.get(this);if(M===void 0)return w.apply(this,y);const O=this.length,$=k|0,N=$<0?Math.max(O+$,0):Math.min($,O),z=M.indexMap,H=y.length,j=H===0?0:H===1?O-N:T;let I=N;if(j>0){const nt=I+j;for(;I<nt;)z[I]>-1&&(z.deletedIndices.push(z[I]),z.deletedItems.push(this[I])),I++}if(I=0,H>2){const nt=H-2,L=new Array(nt);for(;I<nt;)L[I++]=-2;w.call(z,k,T,...L)}else w.apply(z,y);const W=w.apply(this,y);return(j>0||I>0)&&M.notify(),W},reverse:function(){const y=t.get(this);if(y===void 0)return x.call(this),this;const k=this.length,T=k/2|0;let M=0;for(;M!==T;){const O=k-M-1,$=this[M],N=y.indexMap[M],z=this[O],H=y.indexMap[O];this[M]=z,y.indexMap[M]=H,this[O]=$,y.indexMap[O]=N,M++}return y.notify(),this},sort:function(y){const k=t.get(this);if(k===void 0)return v.call(this,y),this;let T=this.length;if(T<2)return this;r(this,k.indexMap,0,T,s);let M=0;for(;M<T&&this[M]!==void 0;)M++;(y===void 0||!pt(y))&&(y=e),r(this,k.indexMap,0,M,y);let O=!1;for(M=0,T=k.indexMap.length;T>M;++M)if(k.indexMap[M]!==M){O=!0;break}return(O||m0)&&k.notify(),this}};for(const y of a)qs(l[y],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1})}let h=!1;const u="__au_arr_on__";function d(){if(l===void 0&&c(),!(u0(u,Array)??!1)){d0(!0,Array,u);for(const p of a)o[p].observing!==!0&&ss(o,p,l[p])}}class f{constructor(m){this.type=Qs,h||(h=!0,d()),this.indexObservers={},this.collection=m,this.indexMap=wi(m.length),this.lenObs=void 0,t.set(m,this)}notify(){const m=this.subs;m.notifyDirty();const b=this.indexMap,_=this.collection,w=_.length;this.indexMap=wi(w),m.notifyCollection(_,b)}getLengthObserver(){return this.lenObs??(this.lenObs=new Ud(this))}getIndexObserver(m){var b;return(b=this.indexObservers)[m]??(b[m]=new g(this,m))}}Fe(f,null);class g{constructor(m,b){this.owner=m,this.index=b,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(m){if(m===this.getValue())return;const b=this.owner,_=this.index,w=b.indexMap;w[_]>-1&&w.deletedIndices.push(w[_]),w[_]=-2,b.collection[_]=m,b.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(m,b){const _=this.index;if(b[_]===_)return;const x=this.value,v=this.value=this.getValue();x!==v&&this.subs.notify(v,x)}subscribe(m){this.subs.add(m)&&this.subs.count===1&&this.owner.subscribe(this)}unsubscribe(m){this.subs.remove(m)&&this.subs.count===0&&this.owner.unsubscribe(this)}}return Fe(g,null),function(m){let b=t.get(m);return b===void 0&&(t.set(m,b=new f(m)),d()),b}})(),So=(()=>{const i=Symbol.for("__au_set_obs__"),t=Set[i]??ss(Set,i,new WeakMap),{add:e,clear:s,delete:n}=Set.prototype,r=["add","clear","delete"],o={add:function(c){const h=t.get(this);if(h===void 0)return e.call(this,c),this;const u=this.size;return e.call(this,c),this.size===u?this:(h.indexMap[u]=-2,h.notify(),this)},clear:function(){const c=t.get(this);if(c===void 0)return s.call(this);if(this.size>0){const u=c.indexMap;let d=0;for(const f of this.keys())u[d]>-1&&(u.deletedIndices.push(u[d]),u.deletedItems.push(f)),d++;s.call(this),u.length=0,c.notify()}},delete:function(c){const h=t.get(this);if(h===void 0)return n.call(this,c);if(this.size===0)return!1;let d=0;const f=h.indexMap;for(const g of this.keys()){if(g===c){f[d]>-1&&(f.deletedIndices.push(f[d]),f.deletedItems.push(g)),f.splice(d,1);const p=n.call(this,c);return p===!0&&h.notify(),p}d++}return!1}};function a(c){for(const h of r)ss(c,h,o[h])}class l{constructor(h){this.type=Qs,this.collection=h,this.indexMap=wi(h.size),this.lenObs=void 0}notify(){const h=this.subs;h.notifyDirty();const u=this.indexMap,d=this.collection,f=d.size;this.indexMap=wi(f),h.notifyCollection(d,u)}getLengthObserver(){return this.lenObs??(this.lenObs=new Ol(this))}}return Fe(l,null),function(h){let u=t.get(h);return u===void 0&&(t.set(h,u=new l(h)),a(h)),u}})(),Ao=(()=>{const i=Symbol.for("__au_map_obs__"),t=Map[i]??ss(Map,i,new WeakMap),{set:e,clear:s,delete:n}=Map.prototype,r=["set","clear","delete"],o={set:function(c,h){const u=t.get(this);if(u===void 0)return e.call(this,c,h),this;const d=this.get(c),f=this.size;if(e.call(this,c,h),this.size===f){let p=0;for(const m of this.entries()){if(m[0]===c)return m[1]!==d&&(u.indexMap.deletedIndices.push(u.indexMap[p]),u.indexMap.deletedItems.push(m),u.indexMap[p]=-2,u.notify()),this;p++}return this}return u.indexMap[f]=-2,u.notify(),this},clear:function(){const c=t.get(this);if(c===void 0)return s.call(this);if(this.size>0){const u=c.indexMap;let d=0;for(const f of this.keys())u[d]>-1&&(u.deletedIndices.push(u[d]),u.deletedItems.push(f)),d++;s.call(this),u.length=0,c.notify()}},delete:function(c){const h=t.get(this);if(h===void 0)return n.call(this,c);if(this.size===0)return!1;let d=0;const f=h.indexMap;for(const g of this.keys()){if(g===c){f[d]>-1&&(f.deletedIndices.push(f[d]),f.deletedItems.push(g)),f.splice(d,1);const p=n.call(this,c);return p===!0&&h.notify(),p}++d}return!1}};function a(c){for(const h of r)ss(c,h,o[h])}class l{constructor(h){this.type=Qs,this.collection=h,this.indexMap=wi(h.size),this.lenObs=void 0}notify(){const h=this.subs;h.notifyDirty();const u=this.indexMap,d=this.collection,f=d.size;this.indexMap=wi(f),h.notifyCollection(d,u)}getLengthObserver(){return this.lenObs??(this.lenObs=new Ol(this))}}return Fe(l,null),function(h){let u=t.get(h);return u===void 0&&(t.set(h,u=new l(h)),a(h)),u}})(),Kd=(()=>{class i{constructor(h){this.version=0,this.count=0,this.o=new Map,this.b=h}add(h){this.o.has(h)||(h.subscribe(this.b),++this.count),this.o.set(h,this.version)}clear(){this.o.forEach(e,this),this.count=this.o.size}clearAll(){this.o.forEach(t,this),this.o.clear(),this.count=0}}function t(c,h){h.unsubscribe(this.b)}function e(c,h){this.version!==c&&(h.unsubscribe(this.b),this.o.delete(h))}function s(){return ss(this,"obs",new i(this))}function n(c,h){this.obs.add(this.oL.getObserver(c,h))}function r(c){let h;if(Dt(c))h=br(c);else if(rn(c))h=So(c);else if(Ns(c))h=Ao(c);else throw G(210,c);this.obs.add(h)}function o(c){this.obs.add(c)}function a(){throw G(99,"handleChange")}function l(){throw G(99,"handleCollectionChange")}return function(h,u){const d=h.prototype;return Cs(d,"observe",n),Cs(d,"observeCollection",r),Cs(d,"subscribeTo",o),qs(d,"obs",{get:s}),Cs(d,"handleChange",a),Cs(d,"handleCollectionChange",l),h}})();function Ve(i,t){return i==null?Kd:Kd(i,t)}let rt=null;const xn=[];let Ss=!1;function v0(){Ss=!1}function y0(){Ss=!0}function Rl(){return rt}function Dl(i){if(i==null)throw G(206);if(rt==null){rt=i,xn[0]=rt,Ss=!0;return}if(rt===i)throw G(207);xn.push(i),rt=i,Ss=!0}function $l(i){if(i==null)throw G(208);if(rt!==i)throw G(209);xn.pop(),rt=xn.length>0?xn[xn.length-1]:null,Ss=rt!=null}const w0=Il({get current(){return rt},get connecting(){return Ss},enter:Dl,exit:$l,pause:v0,resume:y0}),kn=Reflect.get,x0=Object.prototype.toString,Ll=new WeakMap,k0="__au_nw__",C0="__au_nw";function Yd(i){switch(x0.call(i)){case"[object Object]":return i.constructor[k0]!==!0;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Cn="__raw__";function it(i){return Yd(i)?Mo(i):i}function Mo(i){return Ll.get(i)??S0(i)}function ht(i){return i[Cn]??i}function ce(i){return Yd(i)&&i[Cn]||i}function Bl(i,t){return t==="constructor"||t==="__proto__"||t==="$observers"||t===Symbol.toPrimitive||t===Symbol.toStringTag||i.constructor[`${C0}_${wn(t)}__`]===!0}function S0(i){const t=Dt(i)?M0:Ns(i)||rn(i)?X0:A0,e=new Proxy(i,t);return Ll.set(i,e),Ll.set(e,e),e}const A0={get(i,t,e){if(t===Cn)return i;const s=Rl();return!Ss||Bl(i,t)||s==null?kn(i,t,e):(s.observe(i,t),it(kn(i,t,e)))}},M0={get(i,t,e){if(t===Cn)return i;if(!Ss||Bl(i,t)||rt==null)return kn(i,t,e);switch(t){case"length":return rt.observe(i,"length"),i.length;case"map":return T0;case"includes":return E0;case"indexOf":return O0;case"lastIndexOf":return R0;case"every":return P0;case"filter":return I0;case"find":return $0;case"findIndex":return D0;case"flat":return L0;case"flatMap":return B0;case"join":return F0;case"push":return N0;case"pop":return V0;case"reduce":return Y0;case"reduceRight":return Q0;case"reverse":return W0;case"shift":return j0;case"unshift":return z0;case"slice":return K0;case"splice":return H0;case"some":return U0;case"sort":return q0;case"keys":return Qd;case"values":case Symbol.iterator:return Fl;case"entries":return Vl}return rt.observe(i,t),it(kn(i,t,e))},ownKeys(i){var t;return(t=Rl())==null||t.observe(i,"length"),Reflect.ownKeys(i)}};function T0(i,t){const e=ht(this),s=e.map((n,r)=>ce(i.call(t,it(n),r,this)));return Pt(rt,e),it(s)}function P0(i,t){const e=ht(this),s=e.every((n,r)=>i.call(t,it(n),r,this));return Pt(rt,e),s}function I0(i,t){const e=ht(this),s=e.filter((n,r)=>ce(i.call(t,it(n),r,this)));return Pt(rt,e),it(s)}function E0(i){const t=ht(this),e=t.includes(ce(i));return Pt(rt,t),e}function O0(i){const t=ht(this),e=t.indexOf(ce(i));return Pt(rt,t),e}function R0(i){const t=ht(this),e=t.lastIndexOf(ce(i));return Pt(rt,t),e}function D0(i,t){const e=ht(this),s=e.findIndex((n,r)=>ce(i.call(t,it(n),r,this)));return Pt(rt,e),s}function $0(i,t){const e=ht(this),s=e.find((n,r)=>i(it(n),r,this),t);return Pt(rt,e),it(s)}function L0(){const i=ht(this);return Pt(rt,i),it(i.flat())}function B0(i,t){const e=ht(this);return Pt(rt,e),Mo(e.flatMap((s,n)=>it(i.call(t,it(s),n,this))))}function F0(i){const t=ht(this);return Pt(rt,t),t.join(i)}function V0(){return it(ht(this).pop())}function N0(...i){return ht(this).push(...i)}function j0(){return it(ht(this).shift())}function z0(...i){return ht(this).unshift(...i)}function H0(...i){return it(ht(this).splice(...i))}function W0(...i){const t=ht(this),e=t.reverse();return Pt(rt,t),it(e)}function U0(i,t){const e=ht(this),s=e.some((n,r)=>ce(i.call(t,it(n),r,this)));return Pt(rt,e),s}function q0(i){const t=ht(this),e=t.sort(i);return Pt(rt,t),it(e)}function K0(i,t){const e=ht(this);return Pt(rt,e),Mo(e.slice(i,t))}function Y0(i,t){const e=ht(this),s=e.reduce((n,r,o)=>i(n,it(r),o,this),t);return Pt(rt,e),it(s)}function Q0(i,t){const e=ht(this),s=e.reduceRight((n,r,o)=>i(n,it(r),o,this),t);return Pt(rt,e),it(s)}const X0={get(i,t,e){if(t===Cn)return i;const s=Rl();if(!Ss||Bl(i,t)||s==null)return kn(i,t,e);switch(t){case"size":return s.observe(i,"size"),i.size;case"clear":return sy;case"delete":return iy;case"forEach":return G0;case"add":if(rn(i))return ey;break;case"get":if(Ns(i))return J0;break;case"set":if(Ns(i))return ty;break;case"has":return Z0;case"keys":return Qd;case"values":return Fl;case"entries":return Vl;case Symbol.iterator:return Ns(i)?Vl:Fl}return it(kn(i,t,e))}};function G0(i,t){const e=ht(this);return Pt(rt,e),e.forEach((s,n)=>{i.call(t,it(s),it(n),this)})}function Z0(i){const t=ht(this);return Pt(rt,t),t.has(ce(i))}function J0(i){const t=ht(this);return Pt(rt,t),it(t.get(ce(i)))}function ty(i,t){return it(ht(this).set(ce(i),ce(t)))}function ey(i){return it(ht(this).add(ce(i)))}function sy(){return it(ht(this).clear())}function iy(i){return it(ht(this).delete(ce(i)))}function Qd(){const i=ht(this);Pt(rt,i);const t=i.keys();return{next(){const e=t.next(),s=e.value,n=e.done;return n?{value:void 0,done:n}:{value:it(s),done:n}},[Symbol.iterator](){return this}}}function Fl(){const i=ht(this);Pt(rt,i);const t=i.values();return{next(){const e=t.next(),s=e.value,n=e.done;return n?{value:void 0,done:n}:{value:it(s),done:n}},[Symbol.iterator](){return this}}}function Vl(){const i=ht(this);Pt(rt,i);const t=i.entries();return{next(){const e=t.next(),s=e.value,n=e.done;return n?{value:void 0,done:n}:{value:[it(s[0]),it(s[1])],done:n}},[Symbol.iterator](){return this}}}const Pt=(i,t)=>i==null?void 0:i.observeCollection(t),ny=Il({getProxy:Mo,getRaw:ht,wrap:it,unwrap:ce,rawKey:Cn});class To{constructor(t,e,s,n,r){this.type=Qs,this._value=void 0,this._isRunning=!1,this._isDirty=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=t,this._wrapped=r?it(t):t,this.$get=e,this.$set=s,this.oL=n}init(t){this._value=t,this._isDirty=!1}getValue(){return this.subs.count===0?this.$get.call(this._obj,this._obj,this):(this._isDirty&&(this.compute(),this._isDirty=!1),this._value)}setValue(t){if(pt(this.$set))this._coercer!==void 0&&(t=this._coercer.call(null,t,this._coercionConfig)),bs(t,this._value)||(this._isRunning=!0,this.$set.call(this._obj,t),this._isRunning=!1,this.run());else throw G(221)}useCoercer(t,e){return this._coercer=t,this._coercionConfig=e,!0}useCallback(t){return this._callback=t,!0}handleDirty(){this._isDirty||(this._isDirty=!0,this.subs.notifyDirty())}handleChange(){this._isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this._isDirty=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&this.subs.count===1&&(this.compute(),this._isDirty=!1)}unsubscribe(t){this.subs.remove(t)&&this.subs.count===0&&(this._isDirty=!0,this.obs.clearAll())}run(){var s;if(this._isRunning)return;const t=this._value,e=this.compute();this._isDirty=!1,bs(e,t)||((s=this._callback)==null||s.call(this,e,t),this.subs.notify(this._value,t))}compute(){this._isRunning=!0,this.obs.version++;try{return Dl(this),this._value=ce(this.$get.call(this._wrapped,this._wrapped,this))}finally{this.obs.clear(),this._isRunning=!1,$l(this)}}}Ve(To,null),Fe(To,null);const Nl=ko("IDirtyChecker",i=>i.callback(()=>{throw G(217)})),ry={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}};class oy{static register(t){t.register(pi.singleton(this,this),pi.aliasTo(this,Nl))}constructor(){this.tracked=[],this._task=null,this._elapsedFrames=0,this.p=D(hn),this.check=()=>{if(++this._elapsedFrames<ry.timeoutsPerCheck)return;this._elapsedFrames=0;const t=this.tracked,e=t.length;let s,n=0;for(;n<e;++n)s=t[n],s.isDirty()&&s.flush()},Fe(Xd,null)}createProperty(t,e){return new Xd(this,t,e)}addProperty(t){this.tracked.push(t),this.tracked.length===1&&(this._task=this.p.taskQueue.queueTask(this.check,{persistent:!0}))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),this.tracked.length===0&&(this._task.cancel(),this._task=null)}}class Xd{constructor(t,e,s){this.obj=e,this.key=s,this.type=Co,this._oldValue=void 0,this._dirtyChecker=t}getValue(){return this.obj[this.key]}setValue(t){throw G(219,this.key)}isDirty(){return this._oldValue!==this.obj[this.key]}flush(){const t=this._oldValue,e=this.getValue();this._oldValue=e,this.subs.notify(e,t)}subscribe(t){this.subs.add(t)&&this.subs.count===1&&(this._oldValue=this.obj[this.key],this._dirtyChecker.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&this.subs.count===0&&this._dirtyChecker.removeProperty(this)}}class ay{get doNotCache(){return!0}constructor(t,e){this.type=Co,this._obj=t,this._key=e}getValue(){return this._obj[this._key]}setValue(){}subscribe(){}unsubscribe(){}}class Gd{constructor(){this.type=Co}getValue(t,e){return t[e]}setValue(t,e,s){e[s]=t}}class jl{constructor(t,e){this.type=Qs,this._value=void 0,this._observing=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=t,this._key=e}getValue(){return this._value}setValue(t){var e,s;if(this._coercer!==void 0&&(t=this._coercer.call(void 0,t,this._coercionConfig)),this._observing){if(bs(t,this._value))return;Po=this._value,this._value=t,this.subs.notifyDirty(),this.subs.notify(t,Po),bs(t,this._value)&&((e=this._callback)==null||e.call(this,t,Po))}else this._value=this._obj[this._key]=t,(s=this._callback)==null||s.call(this,t,Po)}useCallback(t){return this._callback=t,this.start(),!0}useCoercer(t,e){return this._coercer=t,this._coercionConfig=e,this.start(),!0}subscribe(t){this._observing===!1&&this.start(),this.subs.add(t)}start(){return this._observing===!1&&(this._observing=!0,this._value=this._obj[this._key],qs(this._obj,this._key,{enumerable:!0,configurable:!0,get:jd(()=>this.getValue(),{getObserver:()=>this}),set:t=>{this.setValue(t)}})),this}stop(){return this._observing&&(qs(this._obj,this._key,{enumerable:!0,configurable:!0,writable:!0,value:this._value}),this._observing=!1),this}}Fe(jl,null);let Po;const zl=new Gd,Sn=ko("IObserverLocator",i=>i.singleton(hy)),Hl=ko("INodeObserverLocator",i=>i.cachedCallback(t=>(t.getAll(bi).forEach(e=>{e.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")}),new ly)));class ly{handles(){return!1}getObserver(){return zl}getAccessor(){return zl}}const cy=ko("IComputedObserverLocator",i=>i.singleton(class{getObserver(e,s,n,r){const o=new To(e,n.get,n.set,r,!0);return qs(e,s,{enumerable:n.enumerable,configurable:!0,get:jd(()=>o.getValue(),{getObserver:()=>o}),set:a=>{o.setValue(a)}}),o}}));class hy{constructor(){this._adapters=[],this._dirtyChecker=D(Nl),this._nodeObserverLocator=D(Hl),this._computedObserverLocator=D(cy)}addAdapter(t){this._adapters.push(t)}getObserver(t,e){if(t==null)throw G(199,e);if(!Nh(t))return new ay(t,pt(e)?"":e);if(pt(e))return new To(t,e,void 0,this,!0);const s=tf(t);let n=s[e];return n===void 0&&(n=this.createObserver(t,e),n.doNotCache||(s[e]=n)),n}getAccessor(t,e){var n;const s=(n=t.$observers)==null?void 0:n[e];return s!==void 0?s:this._nodeObserverLocator.handles(t,e,this)?this._nodeObserverLocator.getAccessor(t,e,this):zl}getArrayObserver(t){return br(t)}getMapObserver(t){return Ao(t)}getSetObserver(t){return So(t)}createObserver(t,e){var n,r;if(this._nodeObserverLocator.handles(t,e,this))return this._nodeObserverLocator.getObserver(t,e,this);switch(e){case"length":if(Dt(t))return br(t).getLengthObserver();break;case"size":if(Ns(t))return Ao(t).getLengthObserver();if(rn(t))return So(t).getLengthObserver();break;default:if(Dt(t)&&Kn(e))return br(t).getIndexObserver(Number(e));break}let s=Jd(t,e);if(s===void 0){let o=Zd(t);for(;o!==null&&(s=Jd(o,e),s===void 0);)o=Zd(o)}if(s!==void 0&&!h0.call(s,"value")){let o=this._getAdapterObserver(t,e,s);return o==null&&(o=(r=(n=s.get)==null?void 0:n.getObserver)==null?void 0:r.call(n,t)),o??(s.configurable?this._computedObserverLocator.getObserver(t,e,s,this):this._dirtyChecker.createProperty(t,e))}return new jl(t,e)}_getAdapterObserver(t,e,s){if(this._adapters.length>0)for(const n of this._adapters){const r=n.getObserver(t,e,s,this);if(r!=null)return r}return null}}const Wl=i=>{let t;return Dt(i)?t=br(i):Ns(i)?t=Ao(i):rn(i)&&(t=So(i)),t},Zd=Object.getPrototypeOf,Jd=Object.getOwnPropertyDescriptor,tf=i=>{let t=i.$observers;return t===void 0&&qs(i,"$observers",{enumerable:!1,value:t=mt()}),t};class uy{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this._cleanupTask=void 0,this.run=()=>{var s;if(this.stopped)throw G(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{(s=this._cleanupTask)==null||s.call(void 0),Dl(this),this._cleanupTask=this.fn(this)}finally{this.obs.clear(),this.running=!1,$l(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,G(226);this.run()}else this.runCount=0}},this.stop=()=>{var s;(s=this._cleanupTask)==null||s.call(void 0),this._cleanupTask=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}}Ve(uy,null);class ef{constructor(t,e,s,n){this.oL=e,this._value=void 0,this.boundFn=!1,this._scope=t,this.ast=s,this._callback=n}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const t=this._value,e=At(this.ast,this._scope,this,this);this.obs.clear(),bs(e,t)||(this._value=e,this._callback.call(void 0,e,t))}stop(){this.obs.clearAll(),this._value=void 0}}Ve(ef,null),g0(ef),typeof SuppressedError=="function"&&SuppressedError;const _r="pending",Io="running",Ul="completed",Eo="canceled",ql=new Map,sf=i=>()=>{throw xi(`AUR1005: The PLATFORM did not receive a valid reference to the global function '${i}'.`)};class Kl{constructor(t,e={}){var s,n;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(r=>{this[r]=r in e?e[r]:t[r]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(r=>{var o;this[r]=r in e?e[r]:((o=t[r])==null?void 0:o.bind(t))??sf(r)}),this.performanceNow="performanceNow"in e?e.performanceNow:((n=(s=t.performance)==null?void 0:s.now)==null?void 0:n.bind(t.performance))??sf("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Yl(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let s=ql.get(t);return s===void 0&&ql.set(t,s=new Kl(t,e)),s}static set(t,e){ql.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,this.macroTaskHandle===-1&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,this.macroTaskRequested===!0&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class Yl{get isEmpty(){return this._pendingAsyncCount===0&&this._processing.length===0&&this._pending.length===0&&this._delayed.length===0}get _hasNoMoreFiniteWork(){return this._pendingAsyncCount===0&&this._processing.every(Xl)&&this._pending.every(Xl)&&this._delayed.every(Xl)}constructor(t,e,s){this.platform=t,this.$request=e,this.$cancel=s,this._suspenderTask=void 0,this._pendingAsyncCount=0,this._processing=[],this._pending=[],this._delayed=[],this._flushRequested=!1,this._yieldPromise=void 0,this._lastRequest=0,this._lastFlush=0,this._requestFlush=()=>{this._tracer.enabled&&this._tracer.enter(this,"requestFlush"),this._flushRequested||(this._flushRequested=!0,this._lastRequest=this._now(),this.$request()),this._tracer.enabled&&this._tracer.leave(this,"requestFlush")},this._now=t.performanceNow,this._tracer=new py(t.console)}flush(t=this._now()){if(this._tracer.enabled&&this._tracer.enter(this,"flush"),this._flushRequested=!1,this._lastFlush=t,this._suspenderTask===void 0){let e;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)e=this._delayed[n],e.queueTime<=t&&(this._processing.push(e),this._delayed.splice(n--,1));let s;for(;this._processing.length>0;)if((s=this._processing.shift()).run(),s.status===Io)if(s.suspend===!0){this._suspenderTask=s,this._requestFlush(),this._tracer.enabled&&this._tracer.leave(this,"flush early async");return}else++this._pendingAsyncCount;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)e=this._delayed[n],e.queueTime<=t&&(this._processing.push(e),this._delayed.splice(n--,1));if((this._processing.length>0||this._delayed.length>0||this._pendingAsyncCount>0)&&this._requestFlush(),this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const n=this._yieldPromise;this._yieldPromise=void 0,n.resolve()}}else this._requestFlush();this._tracer.enabled&&this._tracer.leave(this,"flush full")}cancel(){this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._flushRequested&&(this.$cancel(),this._flushRequested=!1),this._tracer.enabled&&this._tracer.leave(this,"cancel")}async yield(){this._tracer.enabled&&this._tracer.enter(this,"yield"),this.isEmpty?this._tracer.enabled&&this._tracer.leave(this,"yield empty"):(this._yieldPromise===void 0&&(this._tracer.enabled&&this._tracer.trace(this,"yield - creating promise"),this._yieldPromise=of()),await this._yieldPromise,this._tracer.enabled&&this._tracer.leave(this,"yield task"))}queueTask(t,e){this._tracer.enabled&&this._tracer.enter(this,"queueTask");const{delay:s,preempt:n,persistent:r,suspend:o}={...gy,...e};if(n){if(s>0)throw by();if(r)throw _y()}this._processing.length===0&&this._requestFlush();const a=this._now(),l=new fy(this._tracer,this,a,a+s,n,r,o,t);return n?this._processing[this._processing.length]=l:s===0?this._pending[this._pending.length]=l:this._delayed[this._delayed.length]=l,this._tracer.enabled&&this._tracer.leave(this,"queueTask"),l}remove(t){this._tracer.enabled&&this._tracer.enter(this,"remove");let e=this._processing.indexOf(t);if(e>-1){this._processing.splice(e,1),this._tracer.enabled&&this._tracer.leave(this,"remove processing");return}if(e=this._pending.indexOf(t),e>-1){this._pending.splice(e,1),this._tracer.enabled&&this._tracer.leave(this,"remove pending");return}if(e=this._delayed.indexOf(t),e>-1){this._delayed.splice(e,1),this._tracer.enabled&&this._tracer.leave(this,"remove delayed");return}throw this._tracer.enabled&&this._tracer.leave(this,"remove error"),xi(`Task #${t.id} could not be found`)}_resetPersistentTask(t){this._tracer.enabled&&this._tracer.enter(this,"resetPersistentTask"),t.reset(this._now()),t.createdTime===t.queueTime?this._pending[this._pending.length]=t:this._delayed[this._delayed.length]=t,this._tracer.enabled&&this._tracer.leave(this,"resetPersistentTask")}_completeAsyncTask(t){var e;if(this._tracer.enabled&&this._tracer.enter(this,"completeAsyncTask"),t.suspend===!0){if(this._suspenderTask!==t)throw this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask error"),xi(`Async task completion mismatch: suspenderTask=${(e=this._suspenderTask)==null?void 0:e.id}, task=${t.id}`);this._suspenderTask=void 0}else--this._pendingAsyncCount;if(this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const s=this._yieldPromise;this._yieldPromise=void 0,s.resolve()}this.isEmpty&&this.cancel(),this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask")}}class Ql extends Error{constructor(t){super("Task was canceled."),this.task=t}}let dy=0;class fy{get result(){const t=this._result;if(t===void 0)switch(this._status){case _r:{const e=this._result=of();return this._resolve=e.resolve,this._reject=e.reject,e}case Io:throw xi("Trying to await task from within task will cause a deadlock.");case Ul:return this._result=Promise.resolve();case Eo:return this._result=Promise.reject(new Ql(this))}return t}get status(){return this._status}constructor(t,e,s,n,r,o,a,l){this.taskQueue=e,this.createdTime=s,this.queueTime=n,this.preempt=r,this.persistent=o,this.suspend=a,this.callback=l,this.id=++dy,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._status=_r,this._tracer=t}run(t=this.taskQueue.platform.performanceNow()){if(this._tracer.enabled&&this._tracer.enter(this,"run"),this._status!==_r)throw this._tracer.enabled&&this._tracer.leave(this,"run error"),xi(`Cannot run task in ${this._status} state`);const{persistent:e,taskQueue:s,callback:n,_resolve:r,_reject:o,createdTime:a}=this;let l;this._status=Io;try{l=n(t-a),l instanceof Promise?l.then(c=>{this.persistent?s._resetPersistentTask(this):(e?this._status=Eo:this._status=Ul,this.dispose()),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async then"),r!==void 0&&r(c)}).catch(c=>{if(this.persistent||this.dispose(),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async catch"),o!==void 0)o(c);else throw c}):(this.persistent?s._resetPersistentTask(this):(e?this._status=Eo:this._status=Ul,this.dispose()),this._tracer.enabled&&this._tracer.leave(this,"run sync success"),r!==void 0&&r(l))}catch(c){if(this.persistent||this.dispose(),this._tracer.enabled&&this._tracer.leave(this,"run sync error"),o!==void 0)o(c);else throw c}}cancel(){if(this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._status===_r){const t=this.taskQueue,e=this._reject;return t.remove(this),t.isEmpty&&t.cancel(),this._status=Eo,this.dispose(),e!==void 0&&e(new Ql(this)),this._tracer.enabled&&this._tracer.leave(this,"cancel true =pending"),!0}else if(this._status===Io&&this.persistent)return this.persistent=!1,this._tracer.enabled&&this._tracer.leave(this,"cancel true =running+persistent"),!0;return this._tracer.enabled&&this._tracer.leave(this,"cancel false"),!1}reset(t){this._tracer.enabled&&this._tracer.enter(this,"reset");const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this._status=_r,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._tracer.enabled&&this._tracer.leave(this,"reset")}dispose(){this._tracer.enabled&&this._tracer.trace(this,"dispose"),this.callback=void 0,this._resolve=void 0,this._reject=void 0,this._result=void 0}}class py{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,s){if(e instanceof Yl){const n=e._processing.length,r=e._pending.length,o=e._delayed.length,a=e._flushRequested,l=!!e._suspenderTask,c=`processing=${n} pending=${r} delayed=${o} flushReq=${a} susTask=${l}`;this.console.log(`${t}[Q.${s}] ${c}`)}else{const n=e.id,r=Math.round(e.createdTime*10)/10,o=Math.round(e.queueTime*10)/10,a=e.preempt,l=e.persistent,c=e.suspend,h=e._status,u=`id=${n} created=${r} queue=${o} preempt=${a} persistent=${l} status=${h} suspend=${c}`;this.console.log(`${t}[T.${s}] ${u}`)}}}const gy={delay:0,preempt:!1,persistent:!1,suspend:!1};let nf,rf;const my=(i,t)=>{nf=i,rf=t},of=()=>{const i=new Promise(my);return i.resolve=nf,i.reject=rf,i},Xl=i=>i.persistent,by=()=>xi("AUR1006: Invalid arguments: preempt cannot be combined with a greater-than-zero delay"),_y=()=>xi("AUR1007: Invalid arguments: preempt cannot be combined with persistent"),xi=i=>new Error(i);class Xs extends Kl{static getOrCreate(t,e={}){let s=Xs._lookup.get(t);return s===void 0&&Xs._lookup.set(t,s=new Xs(t,e)),s}static set(t,e){Xs._lookup.set(t,e)}get domWriteQueue(){return this.console.log("[DEV:aurelia] platform.domQueue is deprecated, please use platform.domQueue instead."),this.domQueue}get domReadQueue(){return this.console.log("[DEV:aurelia] platform.domReadQueue has been removed, please use platform.domQueue instead."),this.domQueue}constructor(t,e={}){super(t,e);const s=n=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${n}'.`)};"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(n=>this[n]=n in e?e[n]:t[n]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(n=>{var r;return this[n]=n in e?e[n]:((r=t[n])==null?void 0:r.bind(t))??s(n)}),this.domQueue=(()=>{let n=!1,r=-1;const o=()=>{n=!0,r===-1&&(r=this.requestAnimationFrame(l))},a=()=>{n=!1,r>-1&&(this.cancelAnimationFrame(r),r=-1)},l=()=>{r=-1,n===!0&&(n=!1,c.flush())},c=new Yl(this,o,a);return c})()}}Xs._lookup=new WeakMap,typeof SuppressedError=="function"&&SuppressedError;const{default:Gl,oneTime:Oo,toView:Ot,fromView:As,twoWay:af}=dr,Jt=ms.get,Ro=ms.has,Ne=ms.define,{annotation:vy}=Yh,Ms=vy.keyFor,vr=Object,ki=String,lf=vr.prototype,Ci=lf.hasOwnProperty,Ts=vr.freeze,cf=vr.assign,hf=vr.getOwnPropertyNames,Zl=vr.keys,uf=mt(),Jl=(i,t,e)=>{if(uf[t]===!0)return!0;if(!at(t))return!1;const s=t.slice(0,5);return uf[t]=s==="aria-"||s==="data-"||e.isStandardSvgAttribute(i,t)},tc=i=>{throw i},df=Reflect.defineProperty,_e=(i,t,e)=>(df(i,t,{enumerable:!1,configurable:!0,writable:!0,value:e}),e),ff=(i,t,e)=>i.addSignalListener(t,e),pf=(i,t,e)=>i.removeSignalListener(t,e),yy="Interpolation",wy="IsIterator",xy="IsFunction",is="IsProperty",gf="pending",ec="running",sc=El.Observer,Gs=El.Node,ns=El.Layout,B=(i,...t)=>new Error(`AUR${ki(i).padStart(4,"0")}: ${Cy(i,...t)}`),ky={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:"No binding behavior definition found for type {{0:name}}",152:"No value converter definition found for type {{0:name}}",153:'Element "{{0}}" has already been registered.',154:'Attribute "{{0}}" has already been registered.',155:"Value converter {{0}} has already been registered.",156:"Binding behavior {{0}} has already been registered.",157:"Binding command {{0}} has already been registered.",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",227:"@bindable is not supported for properties that uses a symbol for name. Use a string for the property name instead.",228:"@bindable cannot be used as a class decorator when no configuration object is supplied.",229:"@bindable cannot be used as a class decorator when no property name is supplied in the configuration object.",500:"There is no cached controller for the provided ViewModel: {{0}}",501:"Invalid combination: cannot combine the containerless custom element option with Shadow DOM.",502:"Trying to activate a disposed controller: {{0}}.",503:"Controller at {{0}} is in an unexpected state: {{1}} during activation.",504:"Synthetic view at {{0}} is being activated with null/undefined scope.",505:"Controller at {{0}} is in an unexpected state: {{1}} during deactivation.",506:"Invalid callback for @watch decorator: {{0}}",507:"Observer for bindable property {{0}} does not support coercion.",508:"Observer for property {{0}} does not support change handler.",759:"No attribute definition found for type {{0:name}}",760:"No element definition found for type {{0:name}}",761:"Cannot create a custom element definition with only a name and no type: {{0}}",762:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",763:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",764:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",765:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",766:"Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a {{0:typeof}}.",652:"Aurelia is unable to observe property {{0}}. Register observation mapping with .useConfig().",653:"Mapping for property {{0}} of <{{1}} /> already exists",654:"Array values can only be bound to a multi-select.",714:'Template compilation error: primary already exists on element/attribute "{{0}}"',719:"Attribute {{0}} has been already registered for {{1:element}}",767:"Aurelia.root was accessed without a valid root.",768:"An instance of Aurelia is already registered with the container or an ancestor of it.",769:"Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView, did you create the host from a DOMParser and forget to call adoptNode()?",770:"Aurelia.start() was called without a composition root",771:"The aurelia instance must be fully stopped before it can be disposed",750:"view.ref is not supported. If you are migrating from v1, this can be understood as the controller.",751:`Attempted to reference "{{0}}", but it was not found amongst the target's API.`,752:"Element {{0:.res}} is not registered in {{1:name}}.",753:"Attribute {{0:.res}} is not registered in {{1:name}}.",754:"Attribute {{0:.res}} is not registered in {{1:name}}.",755:"Cannot resolve ViewFactory before the provider was prepared.",756:"Cannot resolve ViewFactory without a (valid) name.",757:"AUR0757: The compiled template is not aligned with the render instructions. There are {{0}} targets and {{1}} instructions.",772:"Invalid @watch decorator config. Expected an expression or a fn but received null/undefined.",773:'Invalid @watch decorator change handler config.Method "{{0}}" not found in class {{1}}',774:"Invalid @watch decorator usage: decorated target {{0}} is not a class method.",775:'Invalid command "{{0}}" usage with [repeat]',776:'Invalid [repeat] usage, found extraneous target "{{0}}"',777:"Unsupported: [repeat] cannot iterate over {{0:toString}}",778:"Unsupported: [repeat] cannot count {{0:toString}}",814:"[repeat] encountered an error: number of views != number of items {{0:join(!=)}}",779:"Invalid portal insertion position: {{0}}",801:'"& self" binding behavior only supports listener binding via trigger/capture command.',802:`"& updateTrigger" invalid usage. This binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:'blur'">`,803:'"& updateTrigger" invalid usage. This binding behavior can only be applied to two-way/ from-view bindings.',805:'Invalid scope behavior "{{0}}" on <au-compose />. Only "scoped" or "auto" allowed.',806:`<au-compose /> couldn't find a custom element with name "{{0}}", did you forget to register it locally or globally?`,807:"Composition has already been activated/deactivated. Id: {{0:controller}}",808:"Composition has already been deactivated.",810:"Invalid [else] usage, it should follow an [if]",811:"Invalid portal strict target query, empty query.",812:"Invalid portal strict target resolution, target not found.",813:'Invalid [pending]/[then]/[catch] usage. The parent [promise].resolve not found; only "*[promise.resolve] > *[pending|then|catch]" relation is supported.',815:'Invalid [case/default-case] usage. The parent [switch] not found; only "*[switch] > *[case|default-case]" relation is supported.',816:"Invalid [default-case] usage. Multiple 'default-case's are not allowed.",817:'"& signal" binding behavior can only be used with bindings that have a "handleChange" method',818:`"& signal" invalid usage. At least one signal name must be passed to the signal behavior, e.g. "expr & signal:'my-signal'"`,819:"Spreading to bindables onto non custom element",820:"Invalid spread target {{0}}",9999:"No scope context for spread binding.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?",9997:"Marker is malformed. This likely happens when a compiled template has been modified. Did you accidentally modified some compiled template? You can modify template before compilation with compiling Template compiler hook.",9996:"Invalid usage, a rate limit has already been applied. Did you have both throttle and debounce on the same binding?",9995:"The binding already has a target subscriber.",9994:`"& attr" can be only used on property binding. It's used on {{0:ctor}}`,9993:'"& updateTrigger" binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger',9992:'"& updateTrigger" uses node observer to observe, but it does not know how to use events to observe property <{{0:target@property}} />',9991:"Invalid @children usage. @children decorator can only be used on a field",9990:"Invalid @slotted usage. @slotted decorator can only be used on a field",9989:"Invalid query selector. Only selectors with alpha-numeric characters, or $all are allowed. Got {{0}} instead."},Cy=(i,...t)=>{var s;let e=ky[i];for(let n=0;n<t.length;++n){const r=new RegExp(`{{${n}(:.*)?}}`,"g");let o=r.exec(e);for(;o!=null;){const a=(s=o[1])==null?void 0:s.slice(1);let l=t[n];if(l!=null)switch(a){case"nodeName":l=l.nodeName.toLowerCase();break;case"name":l=l.name;break;case"typeof":l=typeof l;break;case"ctor":l=l.constructor.name;break;case"controller":l=l.controller.name;break;case"target@property":l=`${l.target}@${l.targetProperty}`;break;case"toString":l=Object.prototype.toString.call(l);break;case"join(!=)":l=l.join("!=");break;case"bindingCommandHelp":l=Sy(l);break;case"element":l=l==="*"?"all elements":`<${l} />`;break;default:a!=null&&a.startsWith(".")?l=ki(l[a.slice(1)]):l=ki(l)}e=e.slice(0,o.index)+l+e.slice(r.lastIndex),o=r.exec(e)}}return e};function Sy(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}const yr=Ms("bindables"),ve=Ts({name:yr,keyFrom:i=>`${yr}:${i}`,from(...i){const t={},e=Array.isArray;function s(o){t[o]=Zs.create(o)}function n(o,a){t[o]=a instanceof Zs?a:Zs.create(o,a===!0?{}:a)}function r(o){e(o)?o.forEach(a=>at(a)?s(a):n(a.name,a)):o instanceof Zs?t[o.name]=o:o!==void 0&&Zl(o).forEach(a=>n(a,o[a]))}return i.forEach(r),t},getAll(i){const t=[],e=Bb(i);let s=e.length,n;for(;--s>=0;){n=e[s];const r=Jt(yr,n);r!=null&&t.push(...Object.values(r))}return t},_add(i,t){let e=Jt(yr,t);e==null&&Ne(e=mt(),t,yr),e[i.name]=i}});class Zs{constructor(t,e,s,n,r,o){this.attribute=t,this.callback=e,this.mode=s,this.primary=n,this.name=r,this.set=o}static create(t,e={}){const s=e.mode??Ot;return new Zs(e.attribute??Hh(t),e.callback??`${t}Changed`,at(s)?dr[s]??Gl:s,e.primary??!1,e.name??t,e.set??Ay(e))}}const ic={key:Ms("coercer"),define(i,t){Ne(i[t].bind(i),i,ic.key)},for(i){return Jt(ic.key,i)}};function Ay(i={}){const t=i.type??null;if(t==null)return Ge;let e;switch(t){case Number:case Boolean:case String:case BigInt:e=t;break;default:{const s=t.coerce;e=typeof s=="function"?s.bind(t):ic.for(t)??Ge;break}}return e===Ge?e:My(e,i.nullable)}function My(i,t){return function(e,s){return s!=null&&s.enableCoercion?(t??!((s==null?void 0:s.coerceNullish)??!1))&&e==null?e:i(e,s):e}}const vt=Ws.createInterface,rs=pi.singleton,Js=pi.aliasTo,mf=pi.instance,xt=(i,t,e)=>i.registerResolver(t,e),Ty="custom-element",Py="custom-attribute",ti=(i,t,e,s="__au_static_resource__")=>{var r;let n=Jt(s,i);return n==null&&((r=i.$au)==null?void 0:r.type)===t&&(n=e(i.$au,i),Ne(n,i,s)),n};class wr{constructor(t,e,s,n){this.Type=t,this.name=e,this.aliases=s,this.key=n}static create(t,e){let s,n;return at(t)?(s=t,n={name:s}):(s=t.name,n=t),new wr(e,js(bf(e,"name"),s),Nt(bf(e,"aliases"),n.aliases,e.aliases),_f.keyFrom(s))}register(t,e){const s=this.Type,n=typeof e=="string"?xr(e):this.key,r=this.aliases;t.has(n,!1)?console.warn(`[DEV:aurelia] ${B(156,this.name)}`):t.register(t.has(s,!1)?null:rs(s,s),Js(s,n),...r.map(o=>Js(s,xr(o))))}}const Me="binding-behavior",An=mi(Me),bf=(i,t)=>Jt(Ms(t),i),xr=i=>`${An}:${i}`,_f=Ts({name:An,keyFrom:xr,isType(i){var t;return pt(i)&&(Ro(An,i)||((t=i.$au)==null?void 0:t.type)===Me)},define(i,t){const e=wr.create(i,t),s=e.Type;return Ne(e,s,An,Ye),s},getDefinition(i){const t=Jt(An,i)??ti(i,Me,wr.create);if(t===void 0)throw B(151,i);return t},find(i,t){const e=i.find(Me,t);return e==null?null:Jt(An,e)??ti(e,Me,wr.create)??null},get(i,t){try{return i.get(un(xr(t)))}catch(e){throw console.error("[DEV:aurelia] Cannot retrieve binding behavior with name",t),e}return i.get(un(xr(t)))}}),nc=new Map,Do=i=>({type:Me,name:i});class $o{bind(t,e){nc.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=nc.get(e),nc.delete(e)}}class vf extends $o{get mode(){return Oo}}vf.$au=Do("oneTime");class yf extends $o{get mode(){return Ot}}yf.$au=Do("toView");class wf extends $o{get mode(){return As}}wf.$au=Do("fromView");class xf extends $o{get mode(){return af}}xf.$au=Do("twoWay");const rc=new WeakMap,Iy=200;class kf{constructor(){this._platform=D(hn)}bind(t,e,s,n){var a;const r={type:"debounce",delay:s??Iy,now:this._platform.performanceNow,queue:this._platform.taskQueue,signals:at(n)?[n]:n??tt},o=(a=e.limit)==null?void 0:a.call(e,r);o==null?console.warn(`Binding ${e.constructor.name} does not support debounce rate limiting`):rc.set(e,o)}unbind(t,e){var s;(s=rc.get(e))==null||s.dispose(),rc.delete(e)}}kf.$au={type:Me,name:"debounce"};const Lo=vt("ISignaler",i=>i.singleton(Ey));class Ey{constructor(){this.signals=mt()}dispatchSignal(t){const e=this.signals[t];if(e===void 0)return;let s;for(s of e.keys())s.handleChange(void 0,void 0)}addSignalListener(t,e){var s;((s=this.signals)[t]??(s[t]=new Set)).add(e)}removeSignalListener(t,e){var s;(s=this.signals[t])==null||s.delete(e)}}class Cf{constructor(){this._lookup=new Map,this._signaler=D(Lo)}bind(t,e,...s){if(!("handleChange"in e))throw B(817);if(s.length===0)throw B(818);this._lookup.set(e,s);let n;for(n of s)ff(this._signaler,n,e)}unbind(t,e){const s=this._lookup.get(e);this._lookup.delete(e);let n;for(n of s)pf(this._signaler,n,e)}}Cf.$au={type:Me,name:"signal"};const oc=new WeakMap,Oy=200;class Sf{constructor(){({performanceNow:this._now,taskQueue:this._taskQueue}=D(hn))}bind(t,e,s,n){var a;const r={type:"throttle",delay:s??Oy,now:this._now,queue:this._taskQueue,signals:at(n)?[n]:n??tt},o=(a=e.limit)==null?void 0:a.call(e,r);o==null?console.warn(`Binding ${e.constructor.name} does not support debounce rate limiting`):oc.set(e,o)}unbind(t,e){var s;(s=oc.get(e))==null||s.dispose(),oc.delete(e)}}Sf.$au={type:Me,name:"throttle"};const Af=vt("IAppTask"),te=hn,ac=(()=>{const i=new WeakMap;return Ts({add(t,e){let s=i.get(t);s==null&&i.set(t,s=[]),s.push(e)},getDefinitions(t){return i.get(t)??tt}})})();class Si{get type(){return Py}constructor(t,e,s,n,r,o,a,l,c,h,u){this.Type=t,this.name=e,this.aliases=s,this.key=n,this.defaultBindingMode=r,this.isTemplateController=o,this.bindables=a,this.noMultiBindings=l,this.watches=c,this.dependencies=h,this.containerStrategy=u}static create(t,e){let s,n;at(t)?(s=t,n={name:s}):(s=t.name,n=t);const r=js(Ps(e,"defaultBindingMode"),n.defaultBindingMode,e.defaultBindingMode,Ot);for(const o of Object.values(ve.from(n.bindables)))ve._add(o,e);return new Si(e,js(Ps(e,"name"),s),Nt(Ps(e,"aliases"),n.aliases,e.aliases),Tn(s),at(r)?dr[r]??Gl:r,js(Ps(e,"isTemplateController"),n.isTemplateController,e.isTemplateController,!1),ve.from(...ve.getAll(e),Ps(e,"bindables"),e.bindables,n.bindables),js(Ps(e,"noMultiBindings"),n.noMultiBindings,e.noMultiBindings,!1),Nt(ac.getDefinitions(e),e.watches),Nt(Ps(e,"dependencies"),n.dependencies,e.dependencies),js(Ps(e,"containerStrategy"),n.containerStrategy,e.containerStrategy,"reuse"))}register(t,e){const s=this.Type,n=typeof e=="string"?Tn(e):this.key,r=this.aliases;t.has(n,!1)?(Si.warnDuplicate&&t.get(bi).warn(B(154,this.name)),console.warn(`[DEV:aurelia] ${B(154,this.name)}`)):t.register(t.has(s,!1)?null:rs(s,s),Js(s,n),...r.map(o=>Js(s,Tn(o))))}toString(){return`au:ca:${this.name}`}}Si.warnDuplicate=!0;const ee="custom-attribute",Mn=mi(ee),Tn=i=>`${Mn}:${i}`,Ps=(i,t)=>Jt(Ms(t),i),Ry=i=>{var t;return pt(i)&&(Ro(Mn,i)||((t=i.$au)==null?void 0:t.type)===ee)},Mf=(i,t)=>Ln(i,Tn(t))??void 0,lc=(i,t)=>{const e=Si.create(i,t),s=e.Type;return Ne(e,s,Mn,Ye),s},cc=i=>{const t=Jt(Mn,i)??ti(i,ee,Si.create);if(t===void 0)throw B(759,i);return t},hc=Ts({name:Mn,keyFrom:Tn,isType:Ry,for:Mf,closest:(i,t)=>{let e="",s="";if(at(t))e=Tn(t),s=t;else{const r=cc(t);e=r.key,s=r.name}let n=i;for(;n!==null;){const r=Ln(n,e);if(r!=null&&r.is(s))return r;n=Ko(n)}return null},define:lc,getDefinition:cc,annotate(i,t,e){Ne(e,i,Ms(t))},getAnnotation:Ps,find(i,t){const e=i.find(ee,t);return e===null?null:Jt(Mn,e)??ti(e,ee,Si.create)??null}}),Pn=vt("ILifecycleHooks");class Dy{constructor(t,e){this.definition=t,this.instance=e}}class uc{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const s=new Set;let n=e.prototype;for(;n!==lf;){for(const r of hf(n))r!=="constructor"&&!r.startsWith("_")&&s.add(r);n=Object.getPrototypeOf(n)}return new uc(e,s)}}const Tf=(()=>{const i=new WeakMap,t=new WeakMap;return Ts({define(e,s){const n=uc.create(e,s),r=n.Type;return t.set(r,n),{register(o){rs(Pn,r).register(o)}}},resolve(e){let s=i.get(e);if(s===void 0){i.set(e,s=new $y);const n=e.root,r=n===e?e.getAll(Pn):e.has(Pn,!1)?n.getAll(Pn).concat(e.getAll(Pn)):n.getAll(Pn);let o,a,l,c,h;for(o of r){a=t.get(o.constructor),l=new Dy(a,o);for(c of a.propertyNames)h=s[c],h===void 0?s[c]=[l]:h.push(l)}}return s}})})();class $y{}class kr{constructor(t,e,s,n){this.Type=t,this.name=e,this.aliases=s,this.key=n}static create(t,e){let s,n;return at(t)?(s=t,n={name:s}):(s=t.name,n=t),new kr(e,js(dc(e,"name"),s),Nt(dc(e,"aliases"),n.aliases,e.aliases),Pf.keyFrom(s))}register(t,e){const s=this.Type,n=typeof e=="string"?Cr(e):this.key,r=this.aliases;t.has(n,!1)?console.warn(`[DEV:aurelia] ${B(155,this.name)}`):t.register(t.has(s,!1)?null:rs(s,s),Js(s,n),...r.map(o=>Js(s,Cr(o))))}}const In="value-converter",En=mi(In),dc=(i,t)=>Jt(Ms(t),i),Cr=i=>`${En}:${i}`,Pf=Ts({name:En,keyFrom:Cr,isType(i){var t;return pt(i)&&(Ro(En,i)||((t=i.$au)==null?void 0:t.type)===In)},define(i,t){const e=kr.create(i,t),s=e.Type;return Ne(e,s,En,Ye),s},getDefinition(i){const t=Jt(En,i)??ti(i,In,kr.create);if(t===void 0)throw B(152,i);return t},annotate(i,t,e){Ne(e,i,Ms(t))},getAnnotation:dc,find(i,t){const e=i.find(In,t);return e==null?null:Jt(En,e)??ti(e,In,kr.create)??null},get(i,t){try{return i.get(un(Cr(t)))}catch(e){throw console.error("[DEV:aurelia] Cannot retrieve value converter with name",t),e}return i.get(un(Cr(t)))}});class Ly{constructor(t,e){this._value=void 0,this.b=t,this._flushQueue=e}flush(){this.b.updateSource(this._value)}handleChange(t,e){const s=this.b;t!==At(s.ast,s._scope,s,null)&&(this._value=t,this._flushQueue.add(this))}}const Ai=(()=>{function i(t){this._scope=t}return t=>{_e(t.prototype,"useScope",i)}})(),Is=(()=>{class i{}const t=new WeakMap,e=new WeakMap,s=new WeakMap;function n(d){return this.l.get(d)}function r(d,f){let g=e.get(d);return g==null&&e.set(d,g=new i),g[f]??(g[f]=_f.get(d.l,f))}function o(d,f,g){var b;const p=r(this,d);if(p==null)throw B(101,d);let m=s.get(this);if(m==null&&s.set(this,m={}),m[d])throw B(102,d);(b=p.bind)==null||b.call(p,f,this,...g)}function a(d,f){var m;const g=r(this,d),p=s.get(this);(m=g==null?void 0:g.unbind)==null||m.call(g,f,this),p!=null&&(p[d]=!1)}function l(d,f){let g=t.get(d);return g==null&&t.set(d,g=new i),g[f]??(g[f]=Pf.get(d.l,f))}function c(d){const f=l(this,d);if(f==null)throw B(103,d);const g=f.signals;if(g!=null){const p=this.l.get(Lo),m=g.length;let b=0;for(;b<m;++b)p.addSignalListener(g[b],this)}}function h(d){const f=l(this,d);if((f==null?void 0:f.signals)===void 0)return;const g=this.l.get(Lo);let p=0;for(;p<f.signals.length;++p)g.removeSignalListener(f.signals[p],this)}function u(d,f,g,p){var b;const m=l(this,d);if(m==null)throw B(103,d);switch(f){case"toView":return"toView"in m?m.toView(g,...p):g;case"fromView":return"fromView"in m?(b=m.fromView)==null?void 0:b.call(m,g,...p):g}}return d=>{const f=d.prototype;_e(f,"get",n),_e(f,"bindBehavior",o),_e(f,"unbindBehavior",a),_e(f,"bindConverter",c),_e(f,"unbindConverter",h),_e(f,"useConverter",u)}})(),By=vt("IFlushQueue",i=>i.singleton(Fy));class Fy{constructor(){this._flushing=!1,this._items=new Set}get count(){return this._items.size}add(t){if(this._items.add(t),!this._flushing){this._flushing=!0;try{this._items.forEach(Vy)}finally{this._flushing=!1}}}clear(){this._items.clear(),this._flushing=!1}}const Vy=function(i,t,e){e.delete(i),i.flush()},Mi=(()=>{const i=new WeakSet,t=(s,n,r)=>{let o,a,l,c=!1;const h=s.queue,u=()=>n(l),d=g=>{l=g,r.isBound?(a=o,o=h.queueTask(u,{delay:s.delay}),a==null||a.cancel()):u()},f=d.dispose=()=>{a==null||a.cancel(),o==null||o.cancel(),a=o=void 0};return d.flush=()=>{c=(o==null?void 0:o.status)===gf,f(),c&&u()},d},e=(s,n,r)=>{let o,a,l=0,c=0,h,u=!1;const d=s.queue,f=()=>s.now(),g=()=>n(h),p=b=>{h=b,r.isBound?(c=f()-l,a=o,c>s.delay?(l=f(),g()):o=d.queueTask(()=>{l=f(),g()},{delay:s.delay-c}),a==null||a.cancel()):g()},m=p.dispose=()=>{a==null||a.cancel(),o==null||o.cancel(),a=o=void 0};return p.flush=()=>{u=(o==null?void 0:o.status)===gf,m(),u&&g()},p};return(s,n)=>{_e(s.prototype,"limit",function(r){if(i.has(this))throw B(9996);i.add(this);const o=n(this,r),a=r.signals,l=a.length>0?this.get(Lo):null,c=this[o],h=(...f)=>c.call(this,...f),u=r.type==="debounce"?t(r,h,this):e(r,h,this),d=l?{handleChange:u.flush}:null;return this[o]=u,l&&a.forEach(f=>ff(l,f,d)),{dispose:()=>{l&&a.forEach(f=>pf(l,f,d)),i.delete(this),u.dispose(),delete this[o]}}})}})(),ei=((i=new WeakSet)=>t=>function(){i.has(this)||(i.add(this),t.call(this))})(),Ny={preempt:!0};class Ti{constructor(t,e,s,n,r,o,a,l,c,h){this.targetAttribute=a,this.targetProperty=l,this.mode=c,this.strict=h,this.isBound=!1,this._scope=void 0,this._task=null,this._value=void 0,this.boundFn=!1,this.l=e,this.ast=r,this._controller=t,this.target=o,this.oL=s,this._taskQueue=n}updateTarget(t){const e=this.target,s=this.targetAttribute,n=this.targetProperty;switch(s){case"class":e.classList.toggle(n,!!t);break;case"style":{let r="",o=ki(t);at(o)&&o.includes("!important")&&(r="important",o=o.replace("!important","")),e.style.setProperty(n,o,r);break}default:t==null?e.removeAttribute(s):e.setAttribute(s,ki(t))}}handleChange(){if(!this.isBound)return;let t;this.obs.version++;const e=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);this.obs.clear(),e!==this._value&&(this._value=e,this._controller.state!==we?(t=this._task,this._task=this._taskQueue.queueTask(()=>{this._task=null,this.updateTarget(e)},Ny),t==null||t.cancel()):this.updateTarget(e))}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this),this.mode&(Ot|Oo)&&this.updateTarget(this._value=At(this.ast,t,this,(this.mode&Ot)>0?this:null)),this.isBound=!0}unbind(){var t;this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0,this._value=void 0,(t=this._task)==null||t.cancel(),this._task=null,this.obs.clearAll())}}Ti.mix=ei(()=>{Ai(Ti),Mi(Ti,()=>"updateTarget"),Ve(Ti,null),Is(Ti)});const jy={preempt:!0};class zy{constructor(t,e,s,n,r,o,a,l,c){this.ast=r,this.target=o,this.targetProperty=a,this.mode=l,this.strict=c,this.isBound=!1,this._scope=void 0,this._task=null,this._controller=t,this.oL=s,this._taskQueue=n,this._targetObserver=s.getAccessor(o,a);const h=r.expressions,u=this.partBindings=Array(h.length),d=h.length;let f=0;for(;d>f;++f)u[f]=new Pi(h[f],o,a,e,s,c,this)}_handlePartChange(){this.updateTarget()}updateTarget(){const t=this.partBindings,e=this.ast.parts,s=t.length;let n="",r=0;if(s===1)n=e[0]+t[0]._value+e[1];else for(n=e[0];s>r;++r)n+=t[r]._value+e[r+1];const o=this._targetObserver,a=this._controller.state!==we&&(o.type&ns)>0;let l;a?(l=this._task,this._task=this._taskQueue.queueTask(()=>{this._task=null,o.setValue(n,this.target,this.targetProperty)},jy),l==null||l.cancel(),l=null):o.setValue(n,this.target,this.targetProperty)}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t;const e=this.partBindings,s=e.length;let n=0;for(;s>n;++n)e[n].bind(t);this.updateTarget(),this.isBound=!0}unbind(){var n;if(!this.isBound)return;this.isBound=!1,this._scope=void 0;const t=this.partBindings,e=t.length;let s=0;for(;e>s;++s)t[s].unbind();(n=this._task)==null||n.cancel(),this._task=null}useAccessor(t){this._targetObserver=t}}class Pi{constructor(t,e,s,n,r,o,a){this.ast=t,this.target=e,this.targetProperty=s,this.strict=o,this.owner=a,this.mode=Ot,this.task=null,this.isBound=!1,this._value="",this.boundFn=!1,this.l=n,this.oL=r}updateTarget(){this.owner._handlePartChange()}handleChange(){if(!this.isBound)return;this.obs.version++;const t=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);this.obs.clear(),t!=this._value&&(this._value=t,Dt(t)&&this.observeCollection(t),this.updateTarget())}handleCollectionChange(){this.updateTarget()}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this),this._value=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null),Dt(this._value)&&this.observeCollection(this._value),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}Pi.mix=ei(()=>{Ai(Pi),Mi(Pi,()=>"updateTarget"),Ve(Pi,null),Is(Pi)});const Hy={preempt:!0};class Ii{constructor(t,e,s,n,r,o,a,l){this.p=r,this.ast=o,this.target=a,this.strict=l,this.isBound=!1,this.mode=Ot,this._task=null,this._value="",this._needsRemoveNode=!1,this.boundFn=!1,this.l=e,this._controller=t,this.oL=s,this._taskQueue=n}updateTarget(t){var n,r;const e=this.target,s=this._value;this._value=t,this._needsRemoveNode&&((n=s.parentNode)==null||n.removeChild(s),this._needsRemoveNode=!1),t instanceof this.p.Node&&((r=e.parentNode)==null||r.insertBefore(t,e),t="",this._needsRemoveNode=!0),e.textContent=ki(t??"")}handleChange(){var s;if(!this.isBound)return;this.obs.version++;const t=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);if(this.obs.clear(),t===this._value){(s=this._task)==null||s.cancel(),this._task=null;return}this._controller.state!==we?this._queueUpdate(t):this.updateTarget(t)}handleCollectionChange(){if(!this.isBound)return;this.obs.version++;const t=this._value=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);this.obs.clear(),Dt(t)&&this.observeCollection(t),this._controller.state!==we?this._queueUpdate(t):this.updateTarget(t)}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this);const e=this._value=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);Dt(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){var t,e;this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._needsRemoveNode&&((t=this._value.parentNode)==null||t.removeChild(this._value)),this._scope=void 0,this.obs.clearAll(),(e=this._task)==null||e.cancel(),this._task=null)}_queueUpdate(t){const e=this._task;this._task=this._taskQueue.queueTask(()=>{this._task=null,this.updateTarget(t)},Hy),e==null||e.cancel()}}Ii.mix=ei(()=>{Ai(Ii),Mi(Ii,()=>"updateTarget"),Ve(Ii,null),Is(Ii)});class Ei{constructor(t,e,s,n,r,o){this.ast=s,this.targetProperty=n,this.isBound=!1,this._scope=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.strict=o,this._toBindingContext=r}updateTarget(){this.target[this.targetProperty]=this._value}handleChange(){this.isBound&&(this.obs.version++,this._value=At(this.ast,this._scope,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,this.target=this._toBindingContext?t.bindingContext:t.overrideContext,Ks(this.ast,t,this),this._value=At(this.ast,this._scope,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}Ei.mix=ei(()=>{Ai(Ei),Mi(Ei,()=>"updateTarget"),Ve(Ei,null),Is(Ei)});class he{constructor(t,e,s,n,r,o,a,l,c){this.ast=r,this.target=o,this.targetProperty=a,this.mode=l,this.strict=c,this.isBound=!1,this._scope=void 0,this._targetObserver=void 0,this._task=null,this._targetSubscriber=null,this.boundFn=!1,this.l=e,this._controller=t,this._taskQueue=n,this.oL=s}updateTarget(t){this._targetObserver.setValue(t,this.target,this.targetProperty)}updateSource(t){mr(this.ast,this._scope,this,t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=At(this.ast,this._scope,this,(this.mode&Ot)>0?this:null);this.obs.clear(),this._controller.state!==we&&(this._targetObserver.type&ns)>0?(Sr=this._task,this._task=this._taskQueue.queueTask(()=>{this.updateTarget(t),this._task=null},Wy),Sr==null||Sr.cancel(),Sr=null):this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this);const e=this.oL,s=this.mode;let n=this._targetObserver;n||(s&As?n=e.getObserver(this.target,this.targetProperty):n=e.getAccessor(this.target,this.targetProperty),this._targetObserver=n);const r=(s&Ot)>0;s&(Ot|Oo)&&this.updateTarget(At(this.ast,this._scope,this,r?this:null)),s&As&&(n.subscribe(this._targetSubscriber??(this._targetSubscriber=new Ly(this,this.l.get(By)))),r||this.updateSource(n.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){var t;this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0,this._targetSubscriber&&(this._targetObserver.unsubscribe(this._targetSubscriber),this._targetSubscriber=null),(t=this._task)==null||t.cancel(),this._task=null,this.obs.clearAll())}useTargetObserver(t){var e;(e=this._targetObserver)==null||e.unsubscribe(this),(this._targetObserver=t).subscribe(this)}useTargetSubscriber(t){if(this._targetSubscriber!=null)throw B(9995);this._targetSubscriber=t}}he.mix=ei(()=>{Ai(he),Mi(he,i=>i.mode&As?"updateSource":"updateTarget"),Ve(he,null),Is(he)});let Sr=null;const Wy={preempt:!0};class fc{constructor(t,e,s,n){this.ast=e,this.target=s,this.strict=n,this.isBound=!1,this._scope=void 0,this.l=t}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this),mr(this.ast,this._scope,this,this.target),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,At(this.ast,this._scope,this,null)===this.target&&mr(this.ast,this._scope,this,null),Ys(this.ast,this._scope,this),this._scope=void 0)}}fc.mix=ei(()=>{Is(fc)});class Uy{constructor(t,e=!1,s){this.prevent=t,this.capture=e,this.onError=s}}class On{constructor(t,e,s,n,r,o,a){this.ast=e,this.target=s,this.targetEvent=n,this.strict=a,this.isBound=!1,this.self=!1,this.boundFn=!0,this._modifiedEventHandler=null,this.l=t,this._options=r,this._modifiedEventHandler=o}callSource(t){const e=this._scope.overrideContext;e.$event=t;let s=At(this.ast,this._scope,this,null);delete e.$event,pt(s)&&(s=s(t)),s!==!0&&this._options.prevent&&t.preventDefault()}handleEvent(t){var e;if(!(this.self&&this.target!==t.composedPath()[0])&&((e=this._modifiedEventHandler)==null?void 0:e.call(this,t))!==!1)try{this.callSource(t)}catch(s){this._options.onError(t,s)}}bind(t){if(this.isBound){if(this._scope===t)return;this.unbind()}this._scope=t,Ks(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this._options),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0,this.target.removeEventListener(this.targetEvent,this,this._options))}}On.mix=ei(function(){Ai(On),Mi(On,()=>"callSource"),Is(On)});const Bo=vt("IEventModifier"),If=vt("IKeyMapping",i=>i.instance({meta:Ts(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce((t,e,s)=>{let n=String.fromCharCode(s+65);return t[s+65]=n,n=String.fromCharCode(s+97),t[s+97]=t[n]=n,t},{})}}));class pc{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this._mapping=D(If),this._mouseButtons=["left","middle","right"]}static register(t){t.register(rs(Bo,pc))}getHandler(t){const e=t.split(/[:+.]/);return s=>{let n=!1,r=!1,o;for(o of e){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue;case"left":case"middle":case"right":if(s.button!==this._mouseButtons.indexOf(o))return!1;continue}if(this._mapping.meta.includes(o)&&s[`${o}Key`]!==!0)return!1;console.warn(`Modifier '${o}' is not supported for mouse events.`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0}}}class gc{constructor(){this._mapping=D(If),this.type=["keydown","keyup"]}static register(t){t.register(rs(Bo,gc))}getHandler(t){const e=t.split(/[:+.]/);return s=>{let n=!1,r=!1,o;for(o of e){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}if(this._mapping.meta.includes(o)){if(s[`${o}Key`]!==!0)return!1;continue}if(this._mapping.keys[o]!==s.key)return!1;console.warn(`Modifier '${o}' is not supported for keyboard event with key "${s.key}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0}}}class mc{constructor(){this.type=["$ALL"]}static register(t){t.register(rs(Bo,mc))}getHandler(t){const e=t.split(/[:+.]/);return s=>{let n=!1,r=!1,o;for(o of e){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}console.warn(`Modifier '${o}' is not supported for event "${s.type}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0}}}const Ef=vt("IEventModifierHandler",i=>i.instance({getHandler:()=>(console.warn("No event modifier handler registered"),null)}));class bc{constructor(){this._reg=D(Ya(Bo)).reduce((t,e)=>((Dt(e.type)?e.type:[e.type]).forEach(n=>t[n]=e),t),{})}static register(t){t.register(rs(Ef,bc))}getHandler(t,e){var s;return at(e)?((s=this._reg[t]??this._reg.$ALL)==null?void 0:s.getHandler(e))??null:null}}const qy={register(i){i.register(bc,pc,gc,mc)}},ye=vt("IViewFactory");class Fo{constructor(t,e){this.isCaching=!1,this._cache=null,this._cacheSize=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&(t==="*"?t=Fo.maxCacheSize:at(t)&&(t=parseInt(t,10)),(this._cacheSize===-1||!e)&&(this._cacheSize=t)),this._cacheSize>0?this._cache=[]:this._cache=null,this.isCaching=this._cacheSize>0}canReturnToCache(t){return this._cache!=null&&this._cache.length<this._cacheSize}tryReturnToCache(t){return this.canReturnToCache(t)?(this._cache.push(t),!0):!1}create(t){const e=this._cache;let s;return e!=null&&e.length>0?(s=e.pop(),s):(s=de.$view(this,t),s)}}Fo.maxCacheSize=65535;const Ky=(()=>{const i=(t,e)=>t.document.createComment(e);return t=>{const e=i(t,"au-end");return e.$start=i(t,"au-start"),e}})(),Vo=(i,t,e)=>{if(i===null)return;const s=e.length;let n=0;for(;s>n;)i.insertBefore(e[n],t),++n},Of=(i,t)=>new i.ownerDocument.defaultView.MutationObserver(t),Yy=i=>i.nodeType===1,Rf="default",Qy="au-slot",Df=vt("IAuSlotsInfo");class $f{constructor(t){this.projectedSlots=t}}const Xy=vt("IAuSlotWatcher");class No{static create(t,e,s,n,r,o,a,l){const c=[],h=n.renderers,u=f=>{let g=f,p=t;for(;p!=null&&g>0;)p=p.parent,--g;if(p==null)throw B(9999);return p},d=f=>{var _;const g=u(f),p=new No(g),m=r.compileSpread(g.controller.definition,((_=g.instruction)==null?void 0:_.captures)??tt,g.controller.container,e,s);let b;for(b of m)switch(b.type){case jt.spreadTransferedBinding:d(f+1);break;case jt.spreadElementProp:h[b.instruction.type].render(p,Ni(e),b.instruction,o,a,l);break;default:h[b.type].render(p,e,b,o,a,l)}c.push(p)};return d(0),c}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(t){this.isBound=!1,this._innerBindings=[],this.locator=(this.$controller=(this._hydrationContext=t).controller).container}get(t){return this.locator.get(t)}bind(t){if(this.isBound)return;this.isBound=!0;const e=this.scope=this._hydrationContext.controller.scope.parent??void 0;if(e==null)throw B(9999);this._innerBindings.forEach(s=>s.bind(e))}unbind(){this._innerBindings.forEach(t=>t.unbind()),this.isBound=!1}addBinding(t){this._innerBindings.push(t)}addChild(t){if(t.vmKind!==$i)throw B(9998);this.$controller.addChild(t)}}class os{constructor(t,e,s,n,r,o,a,l){this.target=e,this.targetKeys=s,this.ast=n,this.strict=l,this.isBound=!1,this._scope=void 0,this.boundFn=!1,this._bindingCache={},this._scopeCache=new WeakMap,this._controller=t,this.oL=r,this.l=o,this._taskQueue=a}updateTarget(){this.obs.version++;const t=At(this.ast,this._scope,this,this);this.obs.clear(),this._createBindings(t,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(t){if(this.isBound){if(t===this._scope)return;this.unbind()}this.isBound=!0,this._scope=t,Ks(this.ast,t,this);const e=At(this.ast,t,this,this);this._createBindings(e,!1)}unbind(){if(!this.isBound)return;this.isBound=!1,Ys(this.ast,this._scope,this),this._scope=void 0;let t;for(t in this._bindingCache)this._bindingCache[t].unbind()}_createBindings(t,e){var o,a;let s;if(!Nh(t)){console.warn(`[DEV:aurelia] $bindable spread is given a non object for properties: "${this.targetKeys.join(", ")}" of ${this.target.constructor.name}`);for(s in this._bindingCache)(o=this._bindingCache[s])==null||o.unbind();return}let n,r=this._scopeCache.get(t);r==null&&this._scopeCache.set(t,r=zt.fromParent(this._scope,t));for(s of this.targetKeys)n=this._bindingCache[s],s in t?(n==null&&(n=this._bindingCache[s]=new he(this._controller,this.l,this.oL,this._taskQueue,(a=os._astCache)[s]??(a[s]=new lr(s,0)),this.target,s,dr.toView,this.strict)),n.bind(r)):e&&(n==null||n.unbind())}}os.mix=ei(()=>{Ai(os),Mi(os,()=>"updateTarget"),Ve(os,null),Is(os)}),os._astCache={};const Lf=(i,t,e,s)=>{i.addEventListener(t,e,s)},Bf=(i,t,e,s)=>{i.removeEventListener(t,e,s)},_c=i=>{let t;const e=i.prototype;_e(e,"subscribe",function(s){var n;if(this.subs.add(s)&&this.subs.count===1){for(t of this._config.events)Lf(this._el,t,this);this._listened=!0,(n=this._start)==null||n.call(this)}}),_e(e,"unsubscribe",function(s){var n;if(this.subs.remove(s)&&this.subs.count===0){for(t of this._config.events)Bf(this._el,t,this);this._listened=!1,(n=this._stop)==null||n.call(this)}}),_e(e,"useConfig",function(s){if(this._config=s,this._listened){for(t of this._config.events)Bf(this._el,t,this);for(t of this._config.events)Lf(this._el,t,this)}})},jo=i=>{_e(i.prototype,"subscribe",Ge),_e(i.prototype,"unsubscribe",Ge)};class zo{get doNotCache(){return!0}constructor(t,e={}){this.obj=t,this.mapping=e,this.type=Gs|ns,this._value="",this._nameIndex={},this._version=0}getValue(){return this._value}setValue(t){t!==this._value&&(this._value=t,this._flushChanges())}_flushChanges(){const t=this._nameIndex,e=++this._version,s=this.obj.classList,n=Ff(this._value),r=n.length;let o=0,a;if(r>0)for(;o<r;o++)a=n[o],a=this.mapping[a]||a,a.length!==0&&(t[a]=this._version,s.add(a));if(e!==1)for(a in t)a=this.mapping[a]||a,t[a]!==e&&s.remove(a)}}jo(zo);function Ff(i){if(at(i))return Vf(i);if(typeof i!="object")return tt;if(Dt(i)){const s=i.length;if(s>0){const n=[];let r=0;for(;s>r;++r)n.push(...Ff(i[r]));return n}else return tt}const t=[];let e;for(e in i)i[e]&&(e.includes(" ")?t.push(...Vf(e)):t.push(e));return t}function Vf(i){const t=i.match(/\S+/g);return t===null?tt:t}const Nf=i=>({$isResolver:!0,resolve(t,e){return e.get(Bi).controller.container.get(n_(i))}}),jf=vt("IRenderer");function Yt(i,t){var s;const e=i[s=Symbol.metadata]??(i[s]=Object.create(null));return e[Qe]={register(n){rs(jf,i).register(n)}},i}function as(i,t,e){return at(t)?i.parse(t,e):t}function Ho(i){return i.viewModel!=null?i.viewModel:i}function Gy(i,t){if(t==="element")return i;switch(t){case"controller":return Ni(i);case"view":throw B(750);case"component":return Ni(i).viewModel;default:{const e=Mf(i,t);if(e!==void 0)return e.viewModel;const s=Ni(i,{name:t});if(s===void 0)throw B(751,t);return s.viewModel}}}const Zy=Yt(class{constructor(){this.target=jt.setProperty}render(t,e,s){var r;const n=Ho(e);((r=n.$observers)==null?void 0:r[s.to])!==void 0?n.$observers[s.to].setValue(s.value):n[s.to]=s.value}}),Jy=Yt(class{constructor(){this._rendering=D(si),this.target=jt.hydrateElement}render(t,e,s,n,r,o){let a,l,c;const h=s.res,u=s.projections,d=t.container;switch(typeof h){case"string":if(a=Ee.find(d,h),a==null)throw B(752,s,t);break;default:a=h}const g=s.containerless||a.containerless?Tr(e):null,p=ww(n,t,e,s,g,u==null?void 0:new $f(Zl(u)));l=p.invoke(a.Type),c=de.$el(p,l,e,s,a,g),ie(e,a.key,c);const m=this._rendering.renderers,b=s.props,_=b.length;let w=0,x;for(;_>w;)x=b[w],m[x.type].render(t,c,x,n,r,o),++w;t.addChild(c)}}),tw=Yt(class{constructor(){this._rendering=D(si),this.target=jt.hydrateAttribute}render(t,e,s,n,r,o){let a=t.container,l;switch(typeof s.res){case"string":if(l=hc.find(a,s.res),l==null)throw B(753,s,t);break;default:l=s.res}const c=qf(n,l,t,e,s,void 0,void 0),h=de.$attr(c.ctn,c.vm,e,l);ie(e,l.key,h);const u=this._rendering.renderers,d=s.props,f=d.length;let g=0,p;for(;f>g;)p=d[g],u[p.type].render(t,h,p,n,r,o),++g;t.addChild(h)}}),ew=Yt(class{constructor(){this._rendering=D(si),this.target=jt.hydrateTemplateController}render(t,e,s,n,r,o){var _,w;let a=t.container,l;switch(typeof s.res){case"string":if(l=hc.find(a,s.res),l==null)throw B(754,s,t);break;default:l=s.res}const c=this._rendering.getViewFactory(s.def,l.containerStrategy==="new"?a.createChild({inheritParentResources:!0}):a),h=Tr(e),u=qf(n,l,t,e,s,c,h),d=de.$attr(u.ctn,u.vm,e,l);ie(h,l.key,d),(w=(_=u.vm).link)==null||w.call(_,t,d,e,s);const f=this._rendering.renderers,g=s.props,p=g.length;let m=0,b;for(;p>m;)b=g[m],f[b.type].render(t,d,b,n,r,o),++m;t.addChild(d)}}),sw=Yt(class{constructor(){this.target=jt.hydrateLetElement,Ei.mix()}render(t,e,s,n,r,o){e.remove();const a=s.instructions,l=s.toBindingContext,c=t.container,h=a.length;let u,d,f=0;for(;h>f;)u=a[f],d=as(r,u.from,is),t.addBinding(new Ei(c,o,d,u.to,l,t.strict??!1)),++f}}),iw=Yt(class{constructor(){this.target=jt.refBinding}render(t,e,s,n,r){t.addBinding(new fc(t.container,as(r,s.from,is),Gy(e,s.to),t.strict??!1))}}),nw=Yt(class{constructor(){this.target=jt.interpolation,Pi.mix()}render(t,e,s,n,r,o){const a=t.container,l=new zy(t,a,o,n.domQueue,as(r,s.from,yy),Ho(e),s.to,Ot,t.strict??!1);if(s.to==="class"&&l.target.nodeType>0){const c=a.get(Nf(Uo));l.useAccessor(new zo(l.target,c))}t.addBinding(l)}}),rw=Yt(class{constructor(){this.target=jt.propertyBinding,he.mix()}render(t,e,s,n,r,o){const a=t.container,l=new he(t,a,o,n.domQueue,as(r,s.from,is),Ho(e),s.to,s.mode,t.strict??!1);if(s.to==="class"&&l.target.nodeType>0){const c=a.get(Nf(Uo));l.useTargetObserver(new zo(l.target,c))}t.addBinding(l)}}),ow=Yt(class{constructor(){this.target=jt.iteratorBinding,he.mix()}render(t,e,s,n,r,o){t.addBinding(new he(t,t.container,o,n.domQueue,as(r,s.forOf,wy),Ho(e),s.to,Ot,t.strict??!1))}}),aw=Yt(class{constructor(){this.target=jt.textBinding,Ii.mix()}render(t,e,s,n,r,o){t.addBinding(new Ii(t,t.container,o,n.domQueue,n,as(r,s.from,is),e,t.strict??!1))}}),lw=vt("IListenerBindingOptions",i=>i.singleton(class{constructor(){this.p=D(te),this.prevent=!1,this.onError=(t,e)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:t,error:e}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw e}}})),cw=Yt(class{constructor(){this.target=jt.listenerBinding,this._modifierHandler=D(Ef),this._defaultOptions=D(lw),On.mix()}render(t,e,s,n,r){t.addBinding(new On(t.container,as(r,s.from,xy),e,s.to,new Uy(this._defaultOptions.prevent,s.capture,this._defaultOptions.onError),this._modifierHandler.getHandler(s.to,s.modifier),t.strict??!1))}}),hw=Yt(class{constructor(){this.target=jt.setAttribute}render(t,e,s){e.setAttribute(s.to,s.value)}}),uw=Yt(class{constructor(){this.target=jt.setClassAttribute}render(t,e,s){vw(e.classList,s.value)}}),dw=Yt(class{constructor(){this.target=jt.setStyleAttribute}render(t,e,s){e.style.cssText+=s.value}}),fw=["height","width","border-width","padding","padding-left","padding-right","padding-top","padding-right","padding-inline","padding-block","margin","margin-left","margin-right","margin-top","margin-bottom","margin-inline","margin-block","top","right","bottom","left"],pw=Yt(class{constructor(){this.target=jt.stylePropertyBinding,he.mix()}render(t,e,s,n,r,o){if(fw.includes(s.to)){t.addBinding(new gw(t,t.container,o,n.domQueue,as(r,s.from,is),e.style,s.to,Ot,t.strict??!1));return}t.addBinding(new he(t,t.container,o,n.domQueue,as(r,s.from,is),e.style,s.to,Ot,t.strict??!1))}});class gw extends he{updateTarget(t){return typeof t=="number"&&t>0&&console.warn(`[DEV]: Setting number ${t} as value for style.${this.targetProperty}. Did you meant "${t}px"?`),super.updateTarget(t)}}const mw=Yt(class{constructor(){this.target=jt.attributeBinding,Ti.mix()}render(t,e,s,n,r,o){const a=t.container,l=a.has(Uo,!1)?a.get(Uo):null;t.addBinding(new Ti(t,a,o,n.domQueue,as(r,s.from,is),e,s.attr,l==null?s.to:s.to.split(/\s/g).map(c=>l[c]??c).join(" "),Ot,t.strict??!1))}}),bw=Yt(class{constructor(){this._compiler=D(_o),this._rendering=D(si),this.target=jt.spreadTransferedBinding}render(t,e,s,n,r,o){No.create(t.container.get(Bi),e,void 0,this._rendering,this._compiler,n,r,o).forEach(a=>t.addBinding(a))}}),_w=Yt(class{constructor(){this.target=jt.spreadValueBinding,os.mix()}render(t,e,s,n,r,o){const a=s.target;if(a==="$bindables")t.addBinding(new os(t,e.viewModel,Zl(e.definition.bindables),r.parse(s.from,is),o,t.container,n.domQueue,t.strict??!1));else throw B(820,a)}});function vw(i,t){const e=t.length;let s=0;for(let n=0;n<e;++n)t.charCodeAt(n)===32?(n!==s&&i.add(t.slice(s,n)),s=n+1):n+1===e&&i.add(t.slice(s))}const zf="IController",Hf="IInstruction",yw="IRenderLocation",Wf="ISlotsInfo";function ww(i,t,e,s,n,r){const o=t.container.createChild();return Yo(o,e,i),xt(o,Wo,new $t(zf,t)),xt(o,_n,new $t(Hf,s)),xt(o,ue,n==null?Yf:new Kf(n)),xt(o,ye,Qf),xt(o,Df,r==null?Xf:new $t(Wf,r)),o}class Uf{get $isResolver(){return!0}constructor(t){this.f=t}resolve(){const t=this.f;if(t===null)throw B(755);if(!at(t.name)||t.name.length===0)throw B(756);return t}}function qf(i,t,e,s,n,r,o,a){const l=e instanceof de?e:e.$controller,c=l.container.createChild();return Yo(c,s,i),xt(c,Wo,new $t(zf,l)),xt(c,_n,new $t(Hf,n)),xt(c,ue,o==null?Yf:new $t(yw,o)),xt(c,ye,r==null?Qf:new Uf(r)),xt(c,Df,Xf),{vm:c.invoke(t.Type),ctn:c}}class Kf{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(t){this._location=t}resolve(){return this._location}}const Yf=new Kf(null),Qf=new Uf(null),Xf=new $t(Wf,new $f(tt)),si=vt("IRendering",i=>i.singleton(xw));class xw{get renderers(){return this._renderers??(this._renderers=this._ctn.getAll(jf,!1).reduce((t,e)=>{var s;return t[e.target]!==void 0&&console.warn(`[DEV:aurelia] Renderer for target ${e.target} already exists.`),t[s=e.target]??(t[s]=e),t},mt()))}constructor(){this._compilationCache=new WeakMap,this._fragmentCache=new WeakMap;const t=this._ctn=D(cn).root,e=this._platform=t.get(te);this._exprParser=t.get(pn),this._observerLocator=t.get(Sn),this._marker=e.document.createElement("au-m"),this._empty=new kc(e,e.document.createDocumentFragment())}compile(t,e){const s=e.get(_o),n=this._compilationCache;let r=n.get(t);return r==null&&n.set(t,r=ne.create(t.needsCompile?s.compile(t,e):t)),r}getViewFactory(t,e){return new Fo(e,ne.getOrCreate(t))}createNodes(t){if(t.enhance===!0)return new kc(this._platform,this._transformMarker(t.template));let e,s=!1;const n=this._fragmentCache,r=this._platform,o=r.document;if(n.has(t))e=n.get(t);else{const a=t.template;let l;a==null?e=null:a instanceof r.Node?a.nodeName==="TEMPLATE"?(e=a.content,s=!0):(e=o.createDocumentFragment()).appendChild(a.cloneNode(!0)):(l=o.createElement("template"),at(a)&&(l.innerHTML=a),e=l.content,s=!0),this._transformMarker(e),n.set(t,e)}return e==null?this._empty:new kc(this._platform,s?o.importNode(e,!0):o.adoptNode(e.cloneNode(!0)))}render(t,e,s,n){const r=s.instructions,o=this.renderers,a=e.length;let l=0,c=0,h=r.length,u,d,f;if(a!==h)throw B(757,a,h);if(a>0)for(;a>l;){for(u=r[l],f=e[l],c=0,h=u.length;h>c;)d=u[c],o[d.type].render(t,f,d,this._platform,this._exprParser,this._observerLocator),++c;++l}if(n!=null&&(u=s.surrogates,(h=u.length)>0))for(c=0;h>c;)d=u[c],o[d.type].render(t,n,d,this._platform,this._exprParser,this._observerLocator),++c}_transformMarker(t){if(t==null)return null;const e=this._platform.document.createTreeWalker(t,128);let s;for(;(s=e.nextNode())!=null;)s.nodeValue==="au*"&&s.parentNode.replaceChild(e.currentNode=this._marker.cloneNode(),s);return t}}const Gf=vt("IShadowDOMStyles"),kw=vt("IShadowDOMGlobalStyles",i=>i.instance({applyTo:Ge})),{enter:Cw,exit:Sw}=w0,{wrap:Aw,unwrap:Mw}=ny;class Zf{get value(){return this._value}constructor(t,e,s,n,r){this.obj=t,this.$get=s,this.useProxy=r,this.isBound=!1,this.running=!1,this._value=void 0,this._callback=n,this.oL=e}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this._value,s=this.compute();bs(s,e)||this._callback.call(t,s,e,t)}compute(){this.running=!0,this.obs.version++;try{return Cw(this),this._value=Mw(this.$get.call(void 0,this.useProxy?Aw(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,Sw(this)}}}Ve(Zf,null);class vc{get value(){return this._value}constructor(t,e,s,n,r){this.scope=t,this.l=e,this.oL=s,this.isBound=!1,this.boundFn=!1,this.obj=t.bindingContext,this._expression=n,this._callback=r}handleChange(t){const e=this._expression,s=this.obj,n=this._value;e.$kind==="AccessScope"&&this.obs.count===1||(this.obs.version++,t=At(e,this.scope,this,this),this.obs.clear()),bs(t,n)||(this._value=t,this._callback.call(s,t,n,s))}bind(){this.isBound||(this.obs.version++,this._value=At(this._expression,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this._value=void 0)}}Ve(vc,null),Is(vc);class de{get lifecycleHooks(){return this._lifecycleHooks}get isActive(){return(this.state&(we|Li))>0&&(this.state&Ar)===0}get name(){var t;if(this.parent===null)switch(this.vmKind){case $i:return`[${this.definition.name}]`;case Te:return this.definition.name;case se:return this.viewFactory.name}switch(this.vmKind){case $i:return`${this.parent.name}>[${this.definition.name}]`;case Te:return`${this.parent.name}>${this.definition.name}`;case se:return this.viewFactory.name===((t=this.parent.definition)==null?void 0:t.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this._vm}set viewModel(t){this._vm=t,this._vmHooks=t==null||this.vmKind===se?Rn.none:new Rn(t)}get strict(){var t;return(t=this.definition)==null?void 0:t.strict}constructor(t,e,s,n,r,o,a){this.container=t,this.vmKind=e,this.definition=s,this.viewFactory=n,this.host=o,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this._isBindingDone=!1,this.hostController=null,this.mountTarget=Jf,this.shadowRoot=null,this.nodes=null,this.location=null,this._lifecycleHooks=null,this.state=yc,this._fullyNamed=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._activatingStack=0,this._detachingStack=0,this._unbindingStack=0,this._vm=r,this._vmHooks=e===se?Rn.none:new Rn(r),this.logger=null,this.debug=!1,this.location=a,this._rendering=t.root.get(si),this.coercion=e===se?void 0:t.get(Iw)}static getCached(t){return ii.get(t)}static getCachedOrThrow(t){const e=de.getCached(t);if(e===void 0)throw B(500,t);return e}static $el(t,e,s,n,r=void 0,o=null){if(ii.has(e))return ii.get(e);if(r==null)try{r=lp(e.constructor)}catch(c){throw console.error(`[DEV:aurelia] Custom element definition not found for creating a controller with host: <${s.nodeName} /> and component ${e.constructor.name||"(Anonymous) class"}`),c}xt(t,r.Type,new $t(r.key,e,r.Type));const a=new de(t,Te,r,null,e,s,o),l=t.get(su(Bi));return r.dependencies.length>0&&t.register(...r.dependencies),xt(t,Bi,new $t("IHydrationContext",new ip(a,n,l))),ii.set(e,a),(n==null||n.hydrate!==!1)&&a._hydrateCustomElement(n),a}static $attr(t,e,s,n){if(ii.has(e))return ii.get(e);n=n??cc(e.constructor),xt(t,n.Type,new $t(n.key,e,n.Type));const r=new de(t,$i,n,null,e,s,null);return n.dependencies.length>0&&t.register(...n.dependencies),ii.set(e,r),r._hydrateCustomAttribute(),r}static $view(t,e=void 0){const s=new de(t.container,se,null,t,null,null,null);return s.parent=e??null,s._hydrateSynthetic(),s}_hydrateCustomElement(t){this.logger=this.container.get(bi).root,this.debug=this.logger.config.level<=l_.debug,this.debug&&(this.logger=this.logger.scopeTo(this.name));const e=this.container,s=this._vm,n=this.definition;this.scope=zt.create(s,null,!0),n.watches.length>0&&sp(this,e,n,s),tp(this,n,s),this._lifecycleHooks=Tf.resolve(e),e.register(n.Type),n.injectable!==null&&xt(e,n.injectable,new $t("definition.injectable",s)),(t==null||t.hydrate!==!1)&&(this._hydrate(t==null?void 0:t.hostController),this._hydrateChildren())}_hydrate(t){this._lifecycleHooks.hydrating!=null&&this._lifecycleHooks.hydrating.forEach($w,this),this._vmHooks._hydrating&&(this.debug&&this.logger.trace("invoking hydrating() hook"),this._vm.hydrating(this));const e=this.definition,s=this._compiledDef=this._rendering.compile(e,this.container),n=s.shadowOptions,r=s.hasSlots,o=s.containerless;let a=this.host,l=this.location,c=!1;if(t!=null?(this.hostController=t,c=!0):(this.hostController=Ni(a,Pw))!==null&&(a=this.host=this.container.root.get(te).document.createElement(e.name),c=!0),c&&o&&l==null&&(l=this.location=Tr(a)),ie(a,Xt,this),ie(a,e.key,this),n!==null||r){if(l!=null)throw B(501);ie(this.shadowRoot=a.attachShadow(n??Ow),Xt,this),ie(this.shadowRoot,e.key,this),this.mountTarget=Ri}else l!=null?(ie(l,Xt,this),ie(l,e.key,this),this.mountTarget=Di):this.mountTarget=Oi;this._vm.$controller=this,this.nodes=this._rendering.createNodes(s),this._lifecycleHooks.hydrated!==void 0&&this._lifecycleHooks.hydrated.forEach(Lw,this),this._vmHooks._hydrated&&(this.debug&&this.logger.trace("invoking hydrated() hook"),this._vm.hydrated(this))}_hydrateChildren(){this._rendering.render(this,this.nodes.findTargets(),this._compiledDef,this.host),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(np,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateCustomAttribute(){const t=this.definition,e=this._vm;t.watches.length>0&&sp(this,this.container,t,e),tp(this,t,e),e.$controller=this,this._lifecycleHooks=Tf.resolve(this.container),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(np,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateSynthetic(){this._compiledDef=this._rendering.compile(this.viewFactory.def,this.container),this._rendering.render(this,(this.nodes=this._rendering.createNodes(this._compiledDef)).findTargets(),this._compiledDef,void 0)}activate(t,e,s){switch(this.state){case yc:case Dn:if(!(e===null||e.isActive))return;this.state=we;break;case Li:return;case ni:throw B(502,this.name);default:throw B(503,this.name,Rw(this.state))}switch(this.parent=e,this.debug&&!this._fullyNamed&&(this._fullyNamed=!0,(this.logger??(this.logger=this.container.get(bi).root.scopeTo(this.name))).trace("activate()")),this.vmKind){case Te:this.scope.parent=s??null;break;case $i:this.scope=s??null;break;case se:if(s==null)throw B(504,this.name);this.hasLockedScope||(this.scope=s);break}this.$initiator=t,this._enterActivating();let n;return this.vmKind!==se&&this._lifecycleHooks.binding!=null&&(this.debug&&this.logger.trace("lifecycleHooks.binding()"),n=Wt(...this._lifecycleHooks.binding.map(Bw,this))),this._vmHooks._binding&&(this.debug&&this.logger.trace("binding()"),n=Wt(n,this._vm.binding(this.$initiator,this.parent))),Ft(n)?(this._ensurePromise(),n.then(()=>{this._isBindingDone=!0,this.state!==we?this._leaveActivating():this.bind()}).catch(r=>{this._reject(r)}),this.$promise):(this._isBindingDone=!0,this.bind(),this.$promise)}bind(){this.debug&&this.logger.trace("bind()");let t=0,e=0,s;if(this.bindings!==null)for(t=0,e=this.bindings.length;e>t;)this.bindings[t].bind(this.scope),++t;if(this.vmKind!==se&&this._lifecycleHooks.bound!=null&&(this.debug&&this.logger.trace("lifecycleHooks.bound()"),s=Wt(...this._lifecycleHooks.bound.map(Fw,this))),this._vmHooks._bound&&(this.debug&&this.logger.trace("bound()"),s=Wt(s,this._vm.bound(this.$initiator,this.parent))),Ft(s)){this._ensurePromise(),s.then(()=>{this.isBound=!0,this.state!==we?this._leaveActivating():this._attach()}).catch(n=>{this._reject(n)});return}this.isBound=!0,this._attach()}_append(...t){switch(this.mountTarget){case Oi:this.host.append(...t);break;case Ri:this.shadowRoot.append(...t);break;case Di:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}_attach(){if(this.debug&&this.logger.trace("attach()"),this.hostController!==null)switch(this.mountTarget){case Oi:case Ri:this.hostController._append(this.host);break;case Di:this.hostController._append(this.location.$start,this.location);break}switch(this.mountTarget){case Oi:this.nodes.appendTo(this.host,this.definition!=null&&this.definition.enhance);break;case Ri:{const s=this.container;(s.has(Gf,!1)?s.get(Gf):s.get(kw)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case Di:this.nodes.insertBefore(this.location);break}let t=0,e;if(this.vmKind!==se&&this._lifecycleHooks.attaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.attaching()"),e=Wt(...this._lifecycleHooks.attaching.map(Vw,this))),this._vmHooks._attaching&&(this.debug&&this.logger.trace("attaching()"),e=Wt(e,this._vm.attaching(this.$initiator,this.parent))),Ft(e)&&(this._ensurePromise(),this._enterActivating(),e.then(()=>{this._leaveActivating()}).catch(s=>{this._reject(s)})),this.children!==null)for(;t<this.children.length;++t)this.children[t].activate(this.$initiator,this,this.scope);this._leaveActivating()}deactivate(t,e){var o;let s;switch(this.state&~$n){case Li:this.state=Ar;break;case we:this.state=Ar,s=(o=this.$promise)==null?void 0:o.catch(a=>{this.logger.warn("The activation error will be ignored, as the controller is already scheduled for deactivation. The activation was rejected with: %s",a)});break;case yc:case Dn:case ni:case Dn|ni:return;default:throw B(505,this.name,this.state)}this.debug&&this.logger.trace("deactivate()"),this.$initiator=t,t===this&&this._enterDetaching();let n=0,r;if(this.children!==null)for(n=0;n<this.children.length;++n)this.children[n].deactivate(t,this);return Q(s,()=>{if(this.isBound&&(this.vmKind!==se&&this._lifecycleHooks.detaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.detaching()"),r=Wt(...this._lifecycleHooks.detaching.map(jw,this))),this._vmHooks._detaching&&(this.debug&&this.logger.trace("detaching()"),r=Wt(r,this._vm.detaching(this.$initiator,this.parent)))),Ft(r)&&(this._ensurePromise(),t._enterDetaching(),r.then(()=>{t._leaveDetaching()}).catch(a=>{t._reject(a)})),t.head===null?t.head=this:t.tail.next=this,t.tail=this,t===this)return this._leaveDetaching(),this.$promise})}removeNodes(){switch(this.vmKind){case Te:case se:this.nodes.remove(),this.nodes.unlink()}if(this.hostController!==null)switch(this.mountTarget){case Oi:case Ri:this.host.remove();break;case Di:this.location.$start.remove(),this.location.remove();break}}unbind(){this.debug&&this.logger.trace("unbind()");let t=0;if(this.bindings!==null)for(;t<this.bindings.length;++t)this.bindings[t].unbind();switch(this.parent=null,this.vmKind){case $i:this.scope=null;break;case se:this.hasLockedScope||(this.scope=null),(this.state&$n)===$n&&!this.viewFactory.tryReturnToCache(this)&&this.$initiator===this&&this.dispose();break;case Te:this.scope.parent=null;break}this.state=Dn,this.$initiator=null,this._resolve()}_ensurePromise(){this.$promise===void 0&&(this.$promise=new Promise((t,e)=>{this.$resolve=t,this.$reject=e}),this.$initiator!==this&&this.parent._ensurePromise())}_resolve(){this.$promise!==void 0&&(wc=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,wc(),wc=void 0)}_reject(t){this.$promise!==void 0&&(xc=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,xc(t),xc=void 0),this.$initiator!==this&&this.parent._reject(t)}_enterActivating(){++this._activatingStack,this.$initiator!==this&&this.parent._enterActivating()}_leaveActivating(){if(this.state!==we){--this._activatingStack,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating();return}if(--this._activatingStack===0){if(this.vmKind!==se&&this._lifecycleHooks.attached!=null&&(Fi=Wt(...this._lifecycleHooks.attached.map(Nw,this))),this._vmHooks._attached&&(this.debug&&this.logger.trace("attached()"),Fi=Wt(Fi,this._vm.attached(this.$initiator))),Ft(Fi)){this._ensurePromise(),Fi.then(()=>{this.state=Li,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating()}).catch(t=>{this._reject(t)}),Fi=void 0;return}Fi=void 0,this.state=Li,this._resolve()}this.$initiator!==this&&this.parent._leaveActivating()}_enterDetaching(){++this._detachingStack}_leaveDetaching(){if(--this._detachingStack===0){this.debug&&this.logger.trace("detach()"),this._enterUnbinding(),this.removeNodes();let t=this.$initiator.head,e;for(;t!==null;)t!==this&&(t.debug&&t.logger.trace("detach()"),t.removeNodes()),t._isBindingDone&&(t.vmKind!==se&&t._lifecycleHooks.unbinding!=null&&(e=Wt(...t._lifecycleHooks.unbinding.map(zw,t))),t._vmHooks._unbinding&&(t.debug&&t.logger.trace("unbinding()"),e=Wt(e,t.viewModel.unbinding(t.$initiator,t.parent)))),Ft(e)&&(this._ensurePromise(),this._enterUnbinding(),e.then(()=>{this._leaveUnbinding()}).catch(s=>{this._reject(s)})),e=void 0,t=t.next;this._leaveUnbinding()}}_enterUnbinding(){++this._unbindingStack}_leaveUnbinding(){if(--this._unbindingStack===0){this.debug&&this.logger.trace("unbind()");let t=this.$initiator.head,e=null;for(;t!==null;)t!==this&&(t._isBindingDone=!1,t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this._isBindingDone=!1,this.isBound=!1,this.unbind()}}addBinding(t){this.bindings===null?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){this.children===null?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case $i:case Te:return this.definition.name===t;case se:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return this.vmKind===Te&&(ie(t,Xt,this),ie(t,this.definition.key,this)),this.host=t,this.mountTarget=Oi,this}setShadowRoot(t){return this.vmKind===Te&&(ie(t,Xt,this),ie(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=Ri,this}setLocation(t){return this.vmKind===Te&&(ie(t,Xt,this),ie(t,this.definition.key,this)),this.location=t,this.mountTarget=Di,this}release(){this.state|=$n}dispose(){this.debug&&this.logger.trace("dispose()"),(this.state&ni)!==ni&&(this.state|=ni,this._vmHooks._dispose&&this._vm.dispose(),this.children!==null&&(this.children.forEach(Dw),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,this._vm!==null&&(ii.delete(this._vm),this._vm=null),this._vm=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(t(this)===!0||this._vmHooks._accept&&this._vm.accept(t)===!0)return!0;if(this.children!==null){const{children:e}=this;for(let s=0,n=e.length;s<n;++s)if(e[s].accept(t)===!0)return!0}}}const ii=new WeakMap,Jf=0,Oi=1,Ri=2,Di=3,Tw=Ts({none:Jf,host:Oi,shadowRoot:Ri,location:Di}),Pw={optional:!0},Iw=r_(Wd);function tp(i,t,e){var c,h;const s=t.bindables,n=hf(s),r=n.length,o=i.container.get(Sn),a="propertiesChanged"in e;if(r===0)return;const l=a?(()=>{let u={},d,f=0;const g=Promise.resolve(),p=()=>{d==null&&(d=g.then(()=>{var b;const m=u;u={},f=0,d=void 0,i.isBound&&((b=e.propertiesChanged)==null||b.call(e,m),f>0&&p())}))};return(m,b,_)=>{u[m]={newValue:b,oldValue:_},f++,p()}})():Ge;for(let u=0;u<r;++u){const d=n[u],f=s[d],g=f.callback,p=o.getObserver(e,d);if(f.set!==Ge&&((c=p.useCoercer)==null?void 0:c.call(p,f.set,i.coercion))!==!0)throw B(507,d);if(e[g]!=null||e.propertyChanged!=null||a){const m=(b,_)=>{var w,x;i.isBound&&((w=e[g])==null||w.call(e,b,_),(x=e.propertyChanged)==null||x.call(e,d,b,_),l(d,b,_))};if(((h=p.useCallback)==null?void 0:h.call(p,m))!==!0)throw B(508,d)}}}const ep=new Map,Ew=i=>{let t=ep.get(i);return t==null&&(t=new lr(i,0),ep.set(i,t)),t};function sp(i,t,e,s){const n=t.get(Sn),r=t.get(pn),o=e.watches,a=i.vmKind===Te?i.scope:zt.create(s,null,!0),l=o.length;let c,h,u,d=0;for(;l>d;++d){if({expression:c,callback:h}=o[d],h=pt(h)?h:Reflect.get(s,h),!pt(h))throw B(506,h);pt(c)?i.addBinding(new Zf(s,n,c,h,!0)):(u=at(c)?r.parse(c,is):Ew(c),i.addBinding(new vc(a,t,n,u,h)))}}class Rn{constructor(t){this._define="define"in t,this._hydrating="hydrating"in t,this._hydrated="hydrated"in t,this._created="created"in t,this._binding="binding"in t,this._bound="bound"in t,this._attaching="attaching"in t,this._attached="attached"in t,this._detaching="detaching"in t,this._unbinding="unbinding"in t,this._dispose="dispose"in t,this._accept="accept"in t}}Rn.none=new Rn({});const Ow={mode:"open"},Te="customElement",$i="customAttribute",se="synthetic",yc=0,we=1,Li=2,Ar=4,Dn=8,$n=16,ni=32;function Rw(i){const t=[];return(i&we)===we&&t.push("activating"),(i&Li)===Li&&t.push("activated"),(i&Ar)===Ar&&t.push("deactivating"),(i&Dn)===Dn&&t.push("deactivated"),(i&$n)===$n&&t.push("released"),(i&ni)===ni&&t.push("disposed"),t.length===0?"none":t.join("|")}const Wo=vt("IController"),Bi=vt("IHydrationContext");class ip{constructor(t,e,s){this.instruction=e,this.parent=s,this.controller=t}}function Dw(i){i.dispose()}function np(i){i.instance.created(this._vm,this)}function $w(i){i.instance.hydrating(this._vm,this)}function Lw(i){i.instance.hydrated(this._vm,this)}function Bw(i){return i.instance.binding(this._vm,this.$initiator,this.parent)}function Fw(i){return i.instance.bound(this._vm,this.$initiator,this.parent)}function Vw(i){return i.instance.attaching(this._vm,this.$initiator,this.parent)}function Nw(i){return i.instance.attached(this._vm,this.$initiator)}function jw(i){return i.instance.detaching(this._vm,this.$initiator,this.parent)}function zw(i){return i.instance.unbinding(this._vm,this.$initiator,this.parent)}let wc,xc,Fi;class Hw{}function Ln(i,t){var e;return((e=i.$au)==null?void 0:e[t])??null}function ie(i,t,e){(i.$au??(i.$au=new Hw))[t]=e}const Mr=vt("INode"),Ww=vt("IEventTarget",i=>i.cachedCallback(t=>t.has(Xo,!0)?t.get(Xo).host:t.get(te).document)),ue=vt("IRenderLocation"),Uo=vt("ICssClassMapping"),qo=new WeakMap;function Ko(i){if(qo.has(i))return qo.get(i);let t=0,e=i.nextSibling;for(;e!==null;){if(e.nodeType===8)switch(e.textContent){case"au-start":++t;break;case"au-end":if(t--===0)return e}e=e.nextSibling}if(i.parentNode===null&&i.nodeType===11){const s=Ni(i,{optional:!0});if(s==null)return null;if(s.mountTarget===Tw.shadowRoot)return Ko(s.host)}return i.parentNode}function Uw(i,t){if(i.platform!==void 0&&!(i instanceof i.platform.Node)){const e=i.childNodes;for(let s=0,n=e.length;s<n;++s)qo.set(e[s],t)}else qo.set(i,t)}function Tr(i){if(rp(i))return i;const t=i.ownerDocument.createComment("au-end"),e=t.$start=i.ownerDocument.createComment("au-start"),s=i.parentNode;return s!==null&&(s.replaceChild(t,i),s.insertBefore(e,t)),t}function rp(i){return i.textContent==="au-end"}class kc{get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}constructor(t,e){this.platform=t,this.next=void 0,this._isMounted=!1,this._isLinked=!1,this.ref=null;const s=(this.f=e).querySelectorAll("au-m");let n=0,r=s.length,o=this.t=Array(r),a,l;for(;r>n;)l=s[n],a=l.nextSibling,l.remove(),a.nodeType===8&&(l=a,(a=a.nextSibling).$start=l),o[n]=a,++n;const c=e.childNodes,h=this.childNodes=Array(r=c.length);for(n=0;r>n;)h[n]=c[n],++n;this._firstChild=e.firstChild,this._lastChild=e.lastChild}findTargets(){return this.t}insertBefore(t){if(this._isLinked&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,e.insertBefore(s,t),s!==r);)s=n}else this._isMounted=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,t.appendChild(s),s!==r);)s=n}else this._isMounted=!0,e||t.appendChild(this.f)}remove(){if(this._isMounted){this._isMounted=!1;const t=this.f,e=this._lastChild;let s,n=this._firstChild;for(;n!==null&&(s=n.nextSibling,t.appendChild(n),n!==e);)n=s}}addToLinked(){const t=this.ref,e=t.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,e.insertBefore(s,t),s!==r);)s=n}else this._isMounted=!0,e.insertBefore(this.f,t)}unlink(){this._isLinked=!1,this.next=void 0,this.ref=void 0}link(t){this._isLinked=!0,rp(t)?this.ref=t:(this.next=t,this._obtainRefNode())}_obtainRefNode(){this.next!==void 0?this.ref=this.next.firstChild:this.ref=void 0}}const Yo=(i,t,e=i.get(te))=>(xt(i,e.HTMLElement,xt(i,e.Element,xt(i,Mr,new $t("ElementResolver",t)))),i);function op(i){return function(t,e){return e.addInitializer(function(){ap(i,this)}),t}}const Cc=new WeakMap;class ne{get type(){return Ty}constructor(t,e,s,n,r,o,a,l,c,h,u,d,f,g,p,m,b,_,w){this.Type=t,this.name=e,this.aliases=s,this.key=n,this.capture=r,this.template=o,this.instructions=a,this.dependencies=l,this.injectable=c,this.needsCompile=h,this.surrogates=u,this.bindables=d,this.containerless=f,this.shadowOptions=g,this.hasSlots=p,this.enhance=m,this.watches=b,this.strict=_,this.processContent=w}static create(t,e=null){if(e===null){const n=t;if(at(n))throw B(761,t);const r=De("name",n,Qo);pt(n.Type)?e=n.Type:e=cp(zh(r));for(const o of Object.values(ve.from(n.bindables)))ve._add(o,e);return new ne(e,r,Nt(n.aliases),De("key",n,()=>Bn(r)),Se("capture",n,e,Ie),De("template",n,Pe),Nt(n.instructions),Nt(xe(e,"dependencies"),n.dependencies),De("injectable",n,Pe),De("needsCompile",n,Ac),Nt(n.surrogates),ve.from(xe(e,"bindables"),n.bindables),Se("containerless",n,e,Ie),De("shadowOptions",n,Pe),De("hasSlots",n,Ie),De("enhance",n,Ie),De("watches",n,Kw),De("strict",n,Sc),Re("processContent",e,Pe))}if(at(t))return new ne(e,t,Nt(xe(e,"aliases"),e.aliases),Bn(t),Re("capture",e,Ie),Re("template",e,Pe),Nt(xe(e,"instructions"),e.instructions),Nt(xe(e,"dependencies"),e.dependencies),Re("injectable",e,Pe),Re("needsCompile",e,Ac),Nt(xe(e,"surrogates"),e.surrogates),ve.from(...ve.getAll(e),xe(e,"bindables"),e.bindables),Re("containerless",e,Ie),Re("shadowOptions",e,Pe),Re("hasSlots",e,Ie),Re("enhance",e,Ie),Nt(ac.getDefinitions(e),e.watches),Re("strict",e,Sc),Re("processContent",e,Pe));const s=De("name",t,Qo);for(const n of Object.values(ve.from(t.bindables)))ve._add(n,e);return new ne(e,s,Nt(xe(e,"aliases"),t.aliases,e.aliases),Bn(s),Se("capture",t,e,Ie),Se("template",t,e,Pe),Nt(xe(e,"instructions"),t.instructions,e.instructions),Nt(xe(e,"dependencies"),t.dependencies,e.dependencies),Se("injectable",t,e,Pe),Se("needsCompile",t,e,Ac),Nt(xe(e,"surrogates"),t.surrogates,e.surrogates),ve.from(...ve.getAll(e),xe(e,"bindables"),e.bindables,t.bindables),Se("containerless",t,e,Ie),Se("shadowOptions",t,e,Pe),Se("hasSlots",t,e,Ie),Se("enhance",t,e,Ie),Nt(t.watches,ac.getDefinitions(e),e.watches),Se("strict",t,e,Sc),Se("processContent",t,e,Pe))}static getOrCreate(t){if(t instanceof ne)return t;if(Cc.has(t))return Cc.get(t);const e=ne.create(t);return Cc.set(t,e),Ne(e,e.Type,Xt),e}register(t,e){const s=this.Type,n=typeof e=="string"?Bn(e):this.key,r=this.aliases;if(t.has(n,!1)){console.warn(B(153,this.name));return}t.register(t.has(s,!1)?null:rs(s,s),Js(s,n),...r.map(o=>Js(s,Bn(o))))}toString(){return`au:ce:${this.name}`}}const qw={name:void 0,searchParents:!1,optional:!1},Pe=()=>null,Sc=()=>{},Ie=()=>!1,Ac=()=>!0,Kw=()=>tt,Vi="custom-element",Xt=mi(Vi),Bn=i=>`${Xt}:${i}`,Qo=(i=>()=>`unnamed-${++i}`)(0),Yw=(i,t,e)=>{Ne(e,i,Ms(t))},ap=(i,t)=>{const e=ne.create(i,t),s=e.Type;return Ne(e,s,Xt,Ye),s},Qw=i=>{var t;return pt(i)&&(Ro(Xt,i)||((t=i.$au)==null?void 0:t.type)===Vi)},Ni=(i,t=qw)=>{if(t.name===void 0&&t.searchParents!==!0){const s=Ln(i,Xt);if(s===null){if(t.optional===!0)return null;throw B(762,i)}return s}if(t.name!==void 0){if(t.searchParents!==!0){const r=Ln(i,Xt);if(r===null)throw B(763,i);return r.is(t.name)?r:void 0}let s=i,n=!1;for(;s!==null;){const r=Ln(s,Xt);if(r!==null&&(n=!0,r.is(t.name)))return r;s=Ko(s)}if(n)return;throw B(764,i)}let e=i;for(;e!==null;){const s=Ln(e,Xt);if(s!==null)return s;e=Ko(e)}throw B(765,i)},xe=(i,t)=>Jt(Ms(t),i),lp=i=>{const t=Jt(Xt,i)??ti(i,Vi,ne.create);if(t==null)throw B(760,i);return t},Xw=()=>{const i={$isInterface:!1,register(){return{$isResolver:!0,resolve(t,e){return e.has(i,!0)?e.get(i):null}}}};return i},cp=function(){const i={value:"",writable:!1,enumerable:!1,configurable:!0},t={};return function(e,s=t){const n=class{};return i.value=e,df(n,"name",i),s!==t&&cf(n.prototype,s),n}}(),Ee=Ts({name:Xt,keyFrom:Bn,isType:Qw,for:Ni,define:ap,getDefinition:lp,annotate:Yw,getAnnotation:xe,generateName:Qo,createInjectable:Xw,generateType:cp,find(i,t){const e=i.find(Vi,t);return e==null?null:Jt(Xt,e)??ti(e,Vi,ne.create)??null}}),Xo=vt("IAppRoot");class hp{get controller(){return this._controller}constructor(t,e,s,n=!1){this.config=t,this.container=e,this._hydratePromise=void 0,this._useOwnAppTasks=n;const r=this.host=t.host;s.prepare(this),xt(e,Ww,new $t("IEventTarget",r)),Yo(e,r,this.platform=this._createPlatform(e,r)),this._hydratePromise=Q(this._runAppTasks("creating"),()=>{t.allowActionlessForm||r.addEventListener("submit",d=>{const f=d.target,g=!f.getAttribute("action");f.tagName==="FORM"&&g&&d.preventDefault()},!1);const o=n?e:e.createChild(),a=t.component;let l;pt(a)?l=o.invoke(a):l=t.component;const c={hydrate:!1,projections:null},h=n?ne.create({name:Qo(),template:this.host,enhance:!0,strict:t.strictBinding}):void 0,u=this._controller=de.$el(o,l,r,c,h);return u._hydrateCustomElement(c),Q(this._runAppTasks("hydrating"),()=>(u._hydrate(),Q(this._runAppTasks("hydrated"),()=>{u._hydrateChildren(),this._hydratePromise=void 0})))})}activate(){return Q(this._hydratePromise,()=>Q(this._runAppTasks("activating"),()=>Q(this._controller.activate(this._controller,null,void 0),()=>this._runAppTasks("activated"))))}deactivate(){return Q(this._runAppTasks("deactivating"),()=>Q(this._controller.deactivate(this._controller,null),()=>this._runAppTasks("deactivated")))}_runAppTasks(t){const e=this.container,s=this._useOwnAppTasks&&!e.has(Af,!1)?[]:e.getAll(Af);return Wt(...s.reduce((n,r)=>(r.slot===t&&n.push(r.run()),n),[]))}_createPlatform(t,e){let s;if(t.has(te,!1))s=t.get(te);else{if(e.ownerDocument.defaultView===null)throw B(769);s=new Xs(e.ownerDocument.defaultView),t.register(mf(te,s))}return s}dispose(){var t;(t=this._controller)==null||t.dispose()}}const up=vt("IAurelia");let Gw=class Fh{get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(this._root==null){if(this.next==null)throw B(767);return this.next}return this._root}constructor(t=Ws.createContainer()){if(this.container=t,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this._startPromise=void 0,this._stopPromise=void 0,t.has(up,!0)||t.has(Fh,!0))throw B(768);xt(t,up,new $t("IAurelia",this)),xt(t,Fh,new $t("Aurelia",this)),xt(t,Xo,this._rootProvider=new $t("IAppRoot"))}register(...t){return this.container.register(...t),this}app(t){return this.next=new hp(t,this.container,this._rootProvider),this}enhance(t){const e=t.container??this.container.createChild(),s=xt(e,Xo,new $t("IAppRoot")),n=new hp({host:t.host,component:t.component},e,s,!0);return Q(n.activate(),()=>n)}async waitForIdle(){const t=this.root.platform;await t.domQueue.yield(),await t.taskQueue.yield()}start(t=this.next){if(t==null)throw B(770);return Ft(this._startPromise)?this._startPromise:this._startPromise=Q(this.stop(),()=>(Reflect.set(t.host,"$aurelia",this),this._rootProvider.prepare(this._root=t),this._isStarting=!0,Q(t.activate(),()=>{this._isRunning=!0,this._isStarting=!1,this._startPromise=void 0,this._dispatchEvent(t,"au-started",t.host)})))}stop(t=!1){if(Ft(this._stopPromise))return this._stopPromise;if(this._isRunning===!0){const e=this._root;return this._isRunning=!1,this._isStopping=!0,this._stopPromise=Q(e.deactivate(),()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this._root=void 0,this._rootProvider.dispose(),this._isStopping=!1,this._dispatchEvent(e,"au-stopped",e.host)})}}dispose(){if(this._isRunning||this._isStopping)throw B(771);this.container.dispose()}_dispatchEvent(t,e,s){const n=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(n)}};const dp=vt("ISVGAnalyzer",i=>i.singleton(Zw));class Zw{isStandardSvgAttribute(t,e){return!1}}class fp{constructor(){this.fns=[],this._tagAttrMap=mt(),this._globalAttrMap=mt(),this.svg=D(dp),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(t){var o;let e,s,n,r;for(n in t){e=t[n],s=(o=this._tagAttrMap)[n]??(o[n]=mt());for(r in e){if(s[r]!==void 0)throw pp(r,n);s[r]=e[r]}}}useGlobalMapping(t){const e=this._globalAttrMap;for(const s in t){if(e[s]!==void 0)throw pp(s,"*");e[s]=t[s]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return Jw(t,e)||this.fns.length>0&&this.fns.some(s=>s(t,e))}map(t,e){var s;return((s=this._tagAttrMap[t.nodeName])==null?void 0:s[e])??this._globalAttrMap[e]??(Jl(t,e,this.svg)?e:null)}}fp.register=Qn($u);function Jw(i,t){switch(i.nodeName){case"INPUT":switch(i.type){case"checkbox":case"radio":return t==="checked";default:return t==="value"||t==="files"||t==="value-as-number"||t==="value-as-date"}case"TEXTAREA":case"SELECT":return t==="value";default:switch(t){case"textcontent":case"innerhtml":return i.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}function pp(i,t){return B(719,i,t)}const tx={register(i){i.register(Ld,fp,gp)}};class ex{constructor(t,e,s){this.attrs=t,this.bindables=e,this.primary=s}}class gp{constructor(){this._resourceCache=new WeakMap,this._bindableCache=new WeakMap}el(t,e){let s=this._resourceCache.get(t);return s==null&&this._resourceCache.set(t,s=new mp),e in s._element?s._element[e]:s._element[e]=Ee.find(t,e)}attr(t,e){let s=this._resourceCache.get(t);return s==null&&this._resourceCache.set(t,s=new mp),e in s._attr?s._attr[e]:s._attr[e]=hc.find(t,e)}bindables(t){let e=this._bindableCache.get(t);if(e==null){const s=t.bindables,n=mt();let r,o,a=!1,l,c;for(o in s){if(r=s[o],c=r.attribute,r.primary===!0){if(a)throw B(714,t);a=!0,l=r}else!a&&l==null&&(l=r);n[c]=Zs.create(o,r)}r==null&&t.type==="custom-attribute"&&(l=n.value=Zs.create("value",{mode:t.defaultBindingMode??Gl})),this._bindableCache.set(t,e=new ex(n,s,l??null))}return e}}gp.register=Qn(Fd);class mp{constructor(){this._element=mt(),this._attr=mt()}}const Mc=mt();class Pr{static forNs(t){return Mc[t]??(Mc[t]=new Pr(t))}constructor(t){this.ns=t,this.type=Gs|ns}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,s){t==null?e.removeAttributeNS(this.ns,s):e.setAttributeNS(this.ns,s,t)}}jo(Pr);class bp{constructor(){this.type=Gs|ns}getValue(t,e){return t.getAttribute(e)}setValue(t,e,s){t==null?e.removeAttribute(s):e.setAttribute(s,t)}}jo(bp);const Go=new bp;class ji{static _getSelectedOptions(t){const e=[];if(t.length===0)return e;const s=t.length;let n=0,r;for(;s>n;)r=t[n],r.selected&&(e[e.length]=Ci.call(r,"model")?r.model:r.value),++n;return e}static _defaultMatcher(t,e){return t===e}constructor(t,e,s,n){this.type=Gs|sc|ns,this._value=void 0,this._oldValue=void 0,this._hasChanges=!1,this._arrayObserver=void 0,this._nodeObserver=void 0,this._observing=!1,this._listened=!1,this._el=t,this._observerLocator=n,this._config=s}getValue(){return this._observing?this._value:this._el.multiple?ji._getSelectedOptions(this._el.options):this._el.value}setValue(t){this._oldValue=this._value,this._value=t,this._hasChanges=t!==this._oldValue,this._observeArray(t instanceof Array?t:null),this._flushChanges()}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this._value,e=this._el,s=Dt(t),n=e.matcher??ji._defaultMatcher,r=e.options;let o=r.length;for(;o-- >0;){const a=r[o],l=Ci.call(a,"model")?a.model:a.value;if(s){a.selected=t.findIndex(c=>!!n(l,c))!==-1;continue}a.selected=!!n(l,t)}}syncValue(){const t=this._el,e=t.options,s=e.length,n=this._value;let r=0;if(t.multiple){if(!(n instanceof Array))return!0;let l;const c=t.matcher||ji._defaultMatcher,h=[];for(;r<s;)l=e[r],l.selected&&h.push(Ci.call(l,"model")?l.model:l.value),++r;let u;for(r=0;r<n.length;)u=n[r],h.findIndex(d=>!!c(u,d))===-1?n.splice(r,1):++r;for(r=0;r<h.length;)u=h[r],n.findIndex(d=>!!c(u,d))===-1&&n.push(u),++r;return!1}let o=null,a;for(;r<s;){if(a=e[r],a.selected){o=Ci.call(a,"model")?a.model:a.value;break}++r}return this._oldValue=this._value,this._value=o,!0}_start(){(this._nodeObserver=Of(this._el,this._handleNodeChange.bind(this))).observe(this._el,{childList:!0,subtree:!0,characterData:!0}),this._observeArray(this._value instanceof Array?this._value:null),this._observing=!0}_stop(){var t;this._nodeObserver.disconnect(),(t=this._arrayObserver)==null||t.unsubscribe(this),this._nodeObserver=this._arrayObserver=void 0,this._observing=!1}_observeArray(t){var e;if((e=this._arrayObserver)==null||e.unsubscribe(this),this._arrayObserver=void 0,t!=null){if(!this._el.multiple)throw B(654);(this._arrayObserver=this._observerLocator.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this._flush()}_handleNodeChange(t){this.syncOptions(),this.syncValue()&&this._flush()}_flush(){const t=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,t)}}_c(ji),Fe(ji,null);const sx="--";class _p{constructor(t){this.obj=t,this.type=Gs|ns,this._value="",this._oldValue="",this.styles={},this.version=0,this._hasChanges=!1}getValue(){return this.obj.style.cssText}setValue(t){this._value=t,this._hasChanges=t!==this._oldValue,this._flushChanges()}_getStyleTuplesFromString(t){const e=[],s=/url\([^)]+$/;let n=0,r="",o,a,l,c;for(;n<t.length;){if(o=t.indexOf(";",n),o===-1&&(o=t.length),r+=t.substring(n,o),n=o+1,s.test(r)){r+=";";continue}a=r.indexOf(":"),l=r.substring(0,a).trim(),c=r.substring(a+1).trim(),e.push([l,c]),r=""}return e}_getStyleTuplesFromObject(t){let e,s;const n=[];for(s in t)if(e=t[s],e!=null){if(at(e)){if(s.startsWith(sx)){n.push([s,e]);continue}n.push([Hh(s),e]);continue}n.push(...this._getStyleTuples(e))}return n}_getStyleTuplesFromArray(t){const e=t.length;if(e>0){const s=[];let n=0;for(;e>n;++n)s.push(...this._getStyleTuples(t[n]));return s}return tt}_getStyleTuples(t){return at(t)?this._getStyleTuplesFromString(t):t instanceof Array?this._getStyleTuplesFromArray(t):t instanceof Object?this._getStyleTuplesFromObject(t):tt}_flushChanges(){if(this._hasChanges){this._hasChanges=!1;const t=this._value,e=this.styles,s=this._getStyleTuples(t);let n,r=this.version;this._oldValue=t;let o,a,l,c=0;const h=s.length;for(;c<h;++c)o=s[c],a=o[0],l=o[1],this.setProperty(a,l),e[a]=r;if(this.styles=e,this.version+=1,r===0)return;r-=1;for(n in e)!Ci.call(e,n)||e[n]!==r||this.obj.style.removeProperty(n)}}setProperty(t,e){let s="";e!=null&&pt(e.indexOf)&&e.includes("!important")&&(s="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,s)}bind(){this._value=this._oldValue=this.obj.style.cssText}}jo(_p);class Tc{constructor(t,e,s){this.type=Gs|sc|ns,this._value="",this._oldValue="",this._hasChanges=!1,this._listened=!1,this._el=t,this._key=e,this._config=s}getValue(){return this._value}setValue(t){bs(t,this._value)||(this._oldValue=this._value,this._value=t,this._hasChanges=!0,this._config.readonly||this._flushChanges())}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this._el[this._key]=this._value??this._config.default,this._flush())}handleEvent(){this._oldValue=this._value,this._value=this._el[this._key],this._oldValue!==this._value&&(this._hasChanges=!1,this._flush())}_start(){this._value=this._oldValue=this._el[this._key]}_flush(){const t=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,t)}}_c(Tc),Fe(Tc,null);const vp=(()=>{const i="http://www.w3.org/1999/xlink",t="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/2000/xmlns/";return cf(mt(),{"xlink:actuate":["actuate",i],"xlink:arcrole":["arcrole",i],"xlink:href":["href",i],"xlink:role":["role",i],"xlink:show":["show",i],"xlink:title":["title",i],"xlink:type":["type",i],"xml:lang":["lang",t],"xml:space":["space",t],xmlns:["xmlns",e],"xmlns:xlink":["xlink",e]})})(),yp=new Gd;yp.type=Gs|ns;class Pc{constructor(){this.allowDirtyCheck=!0,this._events=mt(),this._globalEvents=mt(),this._overrides=mt(),this._globalOverrides=mt(),this._locator=D(Jb),this._platform=D(te),this._dirtyChecker=D(Nl),this.svg=D(dp);const t=["change","input"],e={events:t,default:""};this.useConfig({INPUT:{value:e,valueAsNumber:{events:t,default:0},checked:{type:Ic,events:t},files:{events:t,readonly:!0}},SELECT:{value:{type:ji,events:["change"],default:""}},TEXTAREA:{value:e}});const s={events:["change","input","blur","keyup","paste"],default:""},n={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:n,scrollLeft:n,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(t,e){return t instanceof this._platform.Node}useConfig(t,e,s){const n=this._events;let r;if(at(t))r=n[t]??(n[t]=mt()),r[e]==null?r[e]=s:Zo(t,e);else for(const o in t){r=n[o]??(n[o]=mt());const a=t[o];for(e in a)r[e]==null?r[e]=a[e]:Zo(o,e)}}useConfigGlobal(t,e){const s=this._globalEvents;if(typeof t=="object")for(const n in t)s[n]==null?s[n]=t[n]:Zo("*",n);else s[t]==null?s[t]=e:Zo("*",t)}getAccessor(t,e,s){if(e in this._globalOverrides||e in(this._overrides[t.tagName]??i_))return this.getObserver(t,e,s);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return(e==="popovertarget"||e==="popovertargetaction")&&t.nodeName!=="INPUT"&&t.nodeName!=="BUTTON"&&console.warn(`[aurelia] Popover API are only valid on <input> or <button>. Detected ${e} on <${t.nodeName.toLowerCase()}>`),Go;default:{const n=vp[e];return n!==void 0?Pr.forNs(n[1]):Jl(t,e,this.svg)?Go:yp}}}overrideAccessor(t,e){var n,r;let s;if(at(t))s=(n=this._overrides)[t]??(n[t]=mt()),s[e]=!0;else for(const o in t)for(const a of t[o])s=(r=this._overrides)[o]??(r[o]=mt()),s[a]=!0}overrideAccessorGlobal(...t){for(const e of t)this._globalOverrides[e]=!0}getNodeObserverConfig(t,e){var s;return((s=this._events[t.tagName])==null?void 0:s[e])??this._globalEvents[e]}getNodeObserver(t,e,s){var o;const n=((o=this._events[t.tagName])==null?void 0:o[e])??this._globalEvents[e];let r;return n!=null?(r=new(n.type??Tc)(t,e,n,s,this._locator),r.doNotCache||(tf(t)[e]=r),r):null}getObserver(t,e,s){switch(e){case"class":return new zo(t);case"css":case"style":return new _p(t)}const n=this.getNodeObserver(t,e,s);if(n!=null)return n;const r=vp[e];if(r!==void 0)return Pr.forNs(r[1]);if(Jl(t,e,this.svg))return Go;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this._dirtyChecker.createProperty(t,e);throw B(652,e)}else return new jl(t,e)}}Pc.register=Qn(Hl);function ix(i,t){if(i instanceof Array)return t.getArrayObserver(i);if(i instanceof Map)return t.getMapObserver(i);if(i instanceof Set)return t.getSetObserver(i)}function Zo(i,t){throw B(653,i,t)}function wp(i,t){return i===t}class Ic{constructor(t,e,s,n){this.type=Gs|sc|ns,this._value=void 0,this._oldValue=void 0,this._collectionObserver=void 0,this._valueObserver=void 0,this._listened=!1,this._el=t,this.oL=n,this._config=s}getValue(){return this._value}setValue(t){const e=this._value;t!==e&&(this._value=t,this._oldValue=e,this._observe(),this._synchronizeElement(),this._flush())}handleCollectionChange(){this._synchronizeElement()}handleChange(t,e){this._synchronizeElement()}_synchronizeElement(){const t=this._value,e=this._el,s=Ci.call(e,"model")?e.model:e.value,n=e.type==="radio",r=e.matcher!==void 0?e.matcher:wp;if(n)e.checked=!!r(t,s);else if(t===!0)e.checked=!0;else{let o=!1;if(Dt(t))o=t.findIndex(a=>!!r(a,s))!==-1;else if(t instanceof Set){for(const a of t)if(r(a,s)){o=!0;break}}else if(t instanceof Map)for(const a of t){const l=a[0],c=a[1];if(r(l,s)&&c===!0){o=!0;break}}e.checked=o}}handleEvent(){let t=this._oldValue=this._value;const e=this._el,s=Ci.call(e,"model")?e.model:e.value,n=e.checked,r=e.matcher!==void 0?e.matcher:wp;if(e.type==="checkbox"){if(Dt(t)){const o=t.findIndex(a=>!!r(a,s));n&&o===-1?t.push(s):!n&&o!==-1&&t.splice(o,1);return}else if(t instanceof Set){const o={};let a=o;for(const l of t)if(r(l,s)===!0){a=l;break}n&&a===o?t.add(s):!n&&a!==o&&t.delete(a);return}else if(t instanceof Map){let o;for(const a of t){const l=a[0];if(r(l,s)===!0){o=l;break}}t.set(o,n);return}t=n}else if(n)t=s;else return;this._value=t,this._flush()}_start(){this._observe()}_stop(){var t,e;this._value=this._oldValue=void 0,(t=this._collectionObserver)==null||t.unsubscribe(this),(e=this._valueObserver)==null||e.unsubscribe(this),this._collectionObserver=this._valueObserver=void 0}_flush(){Ec=this._oldValue,this._oldValue=this._value,this.subs.notify(this._value,Ec),Ec=void 0}_observe(){var e,s,n,r,o;const t=this._el;(n=this._valueObserver??(this._valueObserver=((e=t.$observers)==null?void 0:e.model)??((s=t.$observers)==null?void 0:s.value)))==null||n.subscribe(this),(r=this._collectionObserver)==null||r.unsubscribe(this),this._collectionObserver=void 0,t.type==="checkbox"&&((o=this._collectionObserver=ix(this._value,this.oL))==null||o.subscribe(this))}}_c(Ic),Fe(Ic,null);let Ec;class xp{bind(t,e){if(!(e instanceof he))throw B(9994,e);e.useTargetObserver(Go)}}xp.$au={type:Me,name:"attr"};class kp{bind(t,e){if(!("handleEvent"in e))throw B(801);e.self=!0}unbind(t,e){e.self=!1}}kp.$au={type:Me,name:"self"};class Cp{constructor(){this._observerLocator=D(Sn),this._nodeObserverLocator=D(Hl)}bind(t,e,...s){if(!(this._nodeObserverLocator instanceof Pc))throw B(9993);if(s.length===0)throw B(802);if(!(e instanceof he)||!(e.mode&As))throw B(803);const n=this._nodeObserverLocator.getNodeObserverConfig(e.target,e.targetProperty);if(n==null)throw B(9992,e);const r=this._nodeObserverLocator.getNodeObserver(e.target,e.targetProperty,this._observerLocator);r.useConfig({readonly:n.readonly,default:n.default,events:s}),e.useTargetObserver(r)}}Cp.$au={type:Me,name:"updateTrigger"};class Jo{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this._wantsDeactivate=!1,this._swapId=0,this._ifFactory=D(ye),this._location=D(ue)}attaching(t,e){return this._swap(this.value)}detaching(t,e){return this._wantsDeactivate=!0,Q(this.pending,()=>{var s;this._wantsDeactivate=!1,this.pending=void 0,(s=this.view)==null||s.deactivate(t,this.$controller)})}valueChanged(t,e){if(this.$controller.isActive&&(t=!!t,e=!!e,t!==e))return this._swap(t)}_swap(t){const e=this.view,s=this.$controller,n=this._swapId++,r=()=>!this._wantsDeactivate&&this._swapId===n+1;let o;return Q(this.pending,()=>this.pending=Q(e==null?void 0:e.deactivate(e,s),()=>{var a;if(r()&&(t?o=this.view=this.ifView=this.cache&&this.ifView!=null?this.ifView:this._ifFactory.create():o=this.view=this.elseView=this.cache&&this.elseView!=null?this.elseView:(a=this.elseFactory)==null?void 0:a.create(),o!=null))return o.setLocation(this._location),Q(o.activate(o,s,s.scope),()=>{r()&&(this.pending=void 0)})}))}dispose(){var t,e;(t=this.ifView)==null||t.dispose(),(e=this.elseView)==null||e.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){var e;if(((e=this.view)==null?void 0:e.accept(t))===!0)return!0}}Jo.$au={type:ee,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:i=>i===""||!!i&&i!=="false"}}};class Sp{constructor(){this._factory=D(ye)}link(t,e,s,n){const r=t.children,o=r[r.length-1];if(o instanceof Jo)o.elseFactory=this._factory;else if(o.viewModel instanceof Jo)o.viewModel.elseFactory=this._factory;else throw B(810)}}Sp.$au={type:"custom-attribute",name:"else",isTemplateController:!0};function nx(i){i.dispose()}const rx=["BindingBehavior","ValueConverter"];class Ap{constructor(){this.views=[],this.key=null,this._oldViews=[],this._scopes=[],this._oldScopes=[],this._scopeMap=new Map,this._observer=void 0,this._observingInnerItems=!1,this._reevaluating=!1,this._innerItemsExpression=null,this._normalizedItems=void 0,this._hasDestructuredLocal=!1,this._location=D(ue),this._parent=D(Wo),this._factory=D(ye),this._resolver=D(ax);const e=D(_n).props[0].props[0];if(e!==void 0){const{to:s,value:n,command:r}=e;if(s==="key")if(r===null)this.key=n;else if(r==="bind")this.key=D(pn).parse(n,is);else throw B(775,r);else throw B(776,s)}}binding(t,e){const s=this._parent.bindings,n=s.length;let r,o,a=0;for(;n>a;++a)if(r=s[a],r.target===this&&r.targetProperty==="items"){o=this.forOf=r.ast,this._forOfBinding=r;let c=o.iterable;for(;c!=null&&rx.includes(c.$kind);)c=c.expression,this._observingInnerItems=!0;this._innerItemsExpression=c;break}this._refreshCollectionObserver();const l=o.declaration;(this._hasDestructuredLocal=l.$kind==="ArrayDestructuring"||l.$kind==="ObjectDestructuring")||(this.local=At(l,this.$controller.scope,r,null))}attaching(t,e){return this._normalizeToArray(),this._createScopes(),this._activateAllViews(t,this._normalizedItems??tt)}detaching(t,e){return this._refreshCollectionObserver(),this._deactivateAllViews(t)}unbinding(t,e){this._scopeMap.clear()}itemsChanged(){this.$controller.isActive&&(this._refreshCollectionObserver(),this._normalizeToArray(),this._createScopes(),this._applyIndexMap(void 0))}handleCollectionChange(t,e){const s=this.$controller;if(s.isActive){if(this._observingInnerItems){if(this._reevaluating)return;this._reevaluating=!0,this.items=At(this.forOf.iterable,s.scope,this._forOfBinding,null),this._reevaluating=!1;return}this._normalizeToArray(),this._createScopes(),this._applyIndexMap(e)}}_applyIndexMap(t){const e=this.views;this._oldViews=e.slice();const s=e.length,n=this.key,r=n!==null,o=this._oldScopes,a=this._scopes;if(r||t===void 0){const l=this.local,h=this._normalizedItems.length,d=this.forOf.declaration,f=this._forOfBinding,g=this._hasDestructuredLocal;t=wi(h);let p=0;if(s===0)for(;p<h;++p)t[p]=-2;else if(h===0)for(p=0;p<s;++p)t.deletedIndices.push(p),t.deletedItems.push(ia(g,d,o[p],f,l));else if(r){const m=Array(s);for(p=0;p<s;++p)m[p]=Rp(g,n,d,o[p],f,l);const b=Array(s);for(p=0;p<h;++p)b[p]=Rp(g,n,d,a[p],f,l);for(p=0;p<h;++p)m.includes(b[p])?t[p]=m.indexOf(b[p]):t[p]=-2;for(p=0;p<s;++p)b.includes(m[p])||(t.deletedIndices.push(p),t.deletedItems.push(ia(g,d,o[p],f,l)))}else{for(p=0;p<h;++p)o.includes(a[p])?t[p]=o.indexOf(a[p]):t[p]=-2;for(p=0;p<s;++p)a.includes(o[p])||(t.deletedIndices.push(p),t.deletedItems.push(ia(g,d,o[p],f,l)))}}if(t.deletedIndices.length>0){const l=Q(this._deactivateAndRemoveViewsByKey(t),()=>this._createAndActivateAndSortViewsByKey(t));Ft(l)&&l.catch(tc)}else this._createAndActivateAndSortViewsByKey(t)}_refreshCollectionObserver(){var o,a;const t=this.$controller.scope;let e=this._innerItems,s=this._observingInnerItems,n;s&&(e=this._innerItems=At(this._innerItemsExpression,t,this._forOfBinding,null)??null,s=this._observingInnerItems=!bs(this.items,e));const r=this._observer;if(this.$controller.isActive){const l=s?e:this.items;n=this._observer=(a=(o=this._resolver.resolve(l)).getObserver)==null?void 0:a.call(o,l),r!==n&&(r==null||r.unsubscribe(this),n==null||n.subscribe(this))}else r==null||r.unsubscribe(this),this._observer=void 0}_createScopes(){const t=this._scopes;this._oldScopes=t.slice();const e=this._normalizedItems,s=e.length,n=this._scopes=Array(e.length),r=this._scopeMap,o=new Map,a=this.$controller.scope,l=this._forOfBinding,c=this.forOf,h=this.local,u=this._hasDestructuredLocal;for(let d=0;d<s;++d)n[d]=dx(r,o,e[d],c,a,l,h,u);r.clear(),this._scopeMap=o}_normalizeToArray(){const t=this.items;if(Dt(t)){this._normalizedItems=t.slice(0);return}const e=[];this._resolver.resolve(t).iterate(t,(s,n)=>{e[n]=s}),this._normalizedItems=e}_activateAllViews(t,e){let s,n,r,o;const{$controller:a,_factory:l,_location:c,_scopes:h}=this,u=e.length,d=this.views=Array(u);for(let f=0;f<u;++f)r=d[f]=l.create().setLocation(c),r.nodes.unlink(),o=h[f],sa(o.overrideContext,f,u),n=r.activate(t??r,a,o),Ft(n)&&(s??(s=[])).push(n);if(s!==void 0)return s.length===1?s[0]:Promise.all(s)}_deactivateAllViews(t){let e,s,n,r=0;const{views:o,$controller:a}=this,l=o.length;for(;l>r;++r)n=o[r],n.release(),s=n.deactivate(t??n,a),Ft(s)&&(e??(e=[])).push(s);if(e!==void 0)return e.length===1?e[0]:Promise.all(e)}_deactivateAndRemoveViewsByKey(t){let e,s,n;const{$controller:r,views:o}=this,a=t.deletedIndices.slice().sort(px),l=a.length;let c=0;for(;l>c;++c)n=o[a[c]],n.release(),s=n.deactivate(n,r),Ft(s)&&(e??(e=[])).push(s);for(c=0;l>c;++c)o.splice(a[c]-c,1);if(e!==void 0)return e.length===1?e[0]:Promise.all(e)}_createAndActivateAndSortViewsByKey(t){let e,s,n,r=0;const{$controller:o,_factory:a,_location:l,views:c,_scopes:h,_oldViews:u}=this,d=t.length;for(;d>r;++r)t[r]===-2&&(n=a.create(),c.splice(r,0,n));if(c.length!==d)throw B(814,[c.length,d]);let f=0;for(r=0;r<t.length;++r)(f=t[r])!==-2&&(c[r]=u[f]);const g=ox(t),p=g.length;let m,b=p-1;for(r=d-1;r>=0;--r)n=c[r],m=c[r+1],n.nodes.link((m==null?void 0:m.nodes)??l),t[r]===-2?(n.setLocation(l),sa(h[r].overrideContext,r,d),s=n.activate(n,o,h[r]),Ft(s)&&(e??(e=[])).push(s)):b<0||p===1||r!==g[b]?(sa(n.scope.overrideContext,r,d),n.nodes.insertBefore(n.location)):(sa(n.scope.overrideContext,r,d),--b);if(e!==void 0)return e.length===1?e[0]:Promise.all(e)}dispose(){this.views.forEach(nx),this.views=void 0}accept(t){const{views:e}=this;if(e!==void 0){for(let s=0,n=e.length;s<n;++s)if(e[s].accept(t)===!0)return!0}}}Ap.$au={type:ee,name:"repeat",isTemplateController:!0,bindables:["items"]};let ta=16,Es=new Int32Array(ta),ea=new Int32Array(ta);function ox(i){const t=i.length;t>ta&&(ta=t,Es=new Int32Array(t),ea=new Int32Array(t));let e=0,s=0,n=0,r=0,o=0,a=0,l=0,c=0;for(;r<t;r++)if(s=i[r],s!==-2){if(o=Es[e],n=i[o],n!==-2&&n<s){ea[r]=o,Es[++e]=r;continue}for(a=0,l=e;a<l;)c=a+l>>1,n=i[Es[c]],n!==-2&&n<s?a=c+1:l=c;n=i[Es[a]],(s<n||n===-2)&&(a>0&&(ea[r]=Es[a-1]),Es[a]=r)}r=++e;const h=new Int32Array(r);for(s=Es[e-1];e-- >0;)h[e]=s,s=ea[s];for(;r-- >0;)Es[r]=0;return h}class Mp{get $odd(){return!this.$even}get $even(){return this.$index%2===0}get $first(){return this.$index===0}get $middle(){return!this.$first&&!this.$last}get $last(){return this.$index===this.$length-1}constructor(t=0,e=1){this.$index=t,this.$length=e}}const sa=(i,t,e)=>{i.$index=t,i.$length=e},ax=vt("IRepeatableHandlerResolver",i=>i.singleton(lx));class lx{constructor(){this._handlers=D(Ya(cx))}resolve(t){if(Tp.handles(t))return Tp;if(Pp.handles(t))return Pp;if(Ip.handles(t))return Ip;if(Ep.handles(t))return Ep;if(Op.handles(t))return Op;const e=this._handlers.find(s=>s.handles(t));return e!==void 0?e:hx}}const cx=vt("IRepeatableHandler"),Tp={handles:Dt,getObserver:Wl,iterate(i,t){const e=i.length;let s=0;for(;s<e;++s)t(i[s],s,i)}},Pp={handles:rn,getObserver:Wl,iterate(i,t){let e=0,s;for(s of i.keys())t(s,e++,i)}},Ip={handles:Ns,getObserver:Wl,iterate(i,t){let e=0,s;for(s of i.entries())t(s,e++,i)}},Ep={handles:Db,iterate(i,t){let e=0;for(;e<i;++e)t(e,e,i)}},Op={handles:i=>i==null,iterate(){}},hx={handles(i){return!1},iterate(i,t){throw B(777,i)}},ux=(i,t,e,s,n,r)=>{i?mr(t,e,s,r):e.bindingContext[n]=r},ia=(i,t,e,s,n)=>i?At(t,e,s,null):e.bindingContext[n],Rp=(i,t,e,s,n,r)=>typeof t=="string"?ia(i,e,s,n,r)[t]:At(t,s,n,null),dx=(i,t,e,s,n,r,o,a)=>{let l=i.get(e);if(l===void 0?l=fx(e,s,n,r,o,a):l instanceof zt?i.delete(e):l.length===1?(l=l[0],i.delete(e)):l=l.shift(),t.has(e)){const c=t.get(e);c instanceof zt?t.set(e,[c,l]):c.push(l)}else t.set(e,l);return ux(a,s.declaration,l,r,o,e),l},fx=(i,t,e,s,n,r)=>{if(r){const o=zt.fromParent(e,new zd,new Mp);mr(t.declaration,o,s,i)}return zt.fromParent(e,new zd(n,i),new Mp)},px=(i,t)=>i-t;class Dp{constructor(){this.view=D(ye).create().setLocation(D(ue))}valueChanged(t,e){const s=this.$controller,n=this.view.bindings;let r,o=0,a=0;if(s.isActive&&n!=null)for(r=zt.fromParent(s.scope,t===void 0?{}:t),a=n.length;a>o;++o)n[o].bind(r)}attaching(t,e){const{$controller:s,value:n}=this,r=zt.fromParent(s.scope,n===void 0?{}:n);return this.view.activate(t,s,r)}detaching(t,e){return this.view.deactivate(t,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(((e=this.view)==null?void 0:e.accept(t))===!0)return!0}}Dp.$au={type:ee,name:"with",isTemplateController:!0,bindables:["value"]};class Oc{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this._factory=D(ye),this._location=D(ue)}link(t,e,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(t,e){const s=this.view,n=this.$controller;return this.queue(()=>s.activate(t,n,n.scope)),this.queue(()=>this.swap(t,this.value)),this.promise}detaching(t,e){return this.queue(()=>this.view.deactivate(t,this.$controller)),this.promise}dispose(){var t;(t=this.view)==null||t.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(t){this.queue(()=>this._handleCaseChange(t))}_handleCaseChange(t){const e=t.isMatch(this.value),s=this.activeCases,n=s.length;if(!e)return n>0&&s[0].id===t.id?this._clearActiveCases(null):void 0;if(n>0&&s[0].id<t.id)return;const r=[];let o=t.fallThrough;if(!o)r.push(t);else{const a=this.cases,l=a.indexOf(t);for(let c=l,h=a.length;c<h&&o;c++){const u=a[c];r.push(u),o=u.fallThrough}}return Q(this._clearActiveCases(null,r),()=>(this.activeCases=r,this._activateCases(null)))}swap(t,e){const s=[];let n=!1;for(const o of this.cases)if((n||o.isMatch(e))&&(s.push(o),n=o.fallThrough),s.length>0&&!n)break;const r=this.defaultCase;return s.length===0&&r!==void 0&&s.push(r),Q(this.activeCases.length>0?this._clearActiveCases(t,s):void 0,()=>{if(this.activeCases=s,s.length!==0)return this._activateCases(t)})}_activateCases(t){const e=this.$controller;if(!e.isActive)return;const s=this.activeCases,n=s.length;if(n===0)return;const r=e.scope;return n===1?s[0].activate(t,r):Wt(...s.map(o=>o.activate(t,r)))}_clearActiveCases(t,e=[]){const s=this.activeCases,n=s.length;if(n!==0){if(n===1){const r=s[0];return e.includes(r)?void 0:(s.length=0,r.deactivate(t))}return Q(Wt(...s.reduce((r,o)=>(e.includes(o)||r.push(o.deactivate(t)),r),[])),()=>{s.length=0})}}queue(t){const e=this.promise;let s;s=this.promise=Q(Q(e,t),()=>{this.promise===s&&(this.promise=void 0)})}accept(t){if(this.$controller.accept(t)===!0||this.activeCases.some(e=>e.accept(t)))return!0}}Oc.$au={type:ee,name:"switch",isTemplateController:!0,bindables:["value"]};let gx=0;const $p=["value",{name:"fallThrough",mode:Oo,set(i){switch(i){case"true":return!0;case"false":return!1;default:return!!i}}}];class Rc{constructor(){this.id=++gx,this.fallThrough=!1,this.view=void 0,this._factory=D(ye),this._locator=D(Sn),this._location=D(ue),this._logger=D(bi).scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,s,n){const r=t.parent,o=r==null?void 0:r.viewModel;if(o instanceof Oc)this.$switch=o,this.linkToSwitch(o);else throw B(815)}detaching(t,e){return this.deactivate(t)}isMatch(t){this._logger.debug("isMatch()");const e=this.value;return Dt(e)?(this._observer===void 0&&(this._observer=this._observeCollection(e)),e.includes(t)):e===t}valueChanged(t,e){var s;Dt(t)?((s=this._observer)==null||s.unsubscribe(this),this._observer=this._observeCollection(t)):this._observer!==void 0&&this._observer.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(t??s,this.$controller,e)}deactivate(t){const e=this.view;if(!(e===void 0||!e.isActive))return e.deactivate(t??e,this.$controller)}dispose(){var t,e;(t=this._observer)==null||t.unsubscribe(this),(e=this.view)==null||e.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}_observeCollection(t){const e=this._locator.getArrayObserver(t);return e.subscribe(this),e}accept(t){var e;return this.$controller.accept(t)===!0?!0:(e=this.view)==null?void 0:e.accept(t)}}lc({name:"case",bindables:$p,isTemplateController:!0},Rc);class Lp extends Rc{linkToSwitch(t){if(t.defaultCase!==void 0)throw B(816);t.defaultCase=this}}lc({name:"default-case",bindables:$p,isTemplateController:!0},Lp);var Bp,Fp,Vp;class Dc{constructor(){this.preSettledTask=null,this.postSettledTask=null,this._factory=D(ye),this._location=D(ue),this._platform=D(te),this.logger=D(bi).scopeTo("promise.resolve")}link(t,e,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(t,e){const s=this.view,n=this.$controller;return Q(s.activate(t,n,this.viewScope=zt.fromParent(n.scope,{})),()=>this.swap(t))}valueChanged(t,e){this.$controller.isActive&&this.swap(null)}swap(t){var h,u;const e=this.value;if(!Ft(e)){this.logger.warn(`The value '${ki(e)}' is not a promise. No change will be done.`);return}const s=this._platform.domQueue,n=this.fulfilled,r=this.rejected,o=this.pending,a=this.viewScope;let l;const c=()=>{Wt(l=(this.preSettledTask=s.queueTask(()=>Wt(n==null?void 0:n.deactivate(t),r==null?void 0:r.deactivate(t),o==null?void 0:o.activate(t,a)))).result.catch(d=>{if(!(d instanceof Ql))throw d}),e.then(d=>{if(this.value!==e)return;const f=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask(()=>Wt(o==null?void 0:o.deactivate(t),r==null?void 0:r.deactivate(t),n==null?void 0:n.activate(t,a,d)))).result};this.preSettledTask.status===ec?l.then(f):(this.preSettledTask.cancel(),f())},d=>{if(this.value!==e)return;const f=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask(()=>Wt(o==null?void 0:o.deactivate(t),n==null?void 0:n.deactivate(t),r==null?void 0:r.activate(t,a,d)))).result};this.preSettledTask.status===ec?l.then(f):(this.preSettledTask.cancel(),f())}))};((h=this.postSettledTask)==null?void 0:h.status)===ec?this.postSettlePromise.then(c):((u=this.postSettledTask)==null||u.cancel(),c())}detaching(t,e){var s,n;return(s=this.preSettledTask)==null||s.cancel(),(n=this.postSettledTask)==null||n.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller)}dispose(){var t;(t=this.view)==null||t.dispose(),this.view=void 0}}Dc.$au={type:ee,name:"promise",isTemplateController:!0,bindables:["value"]};class Np{constructor(){this.view=void 0,this._factory=D(ye),this._location=D(ue)}link(t,e,s,n){$c(t).pending=this}activate(t,e){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(s,this.$controller,e)}deactivate(t){const e=this.view;if(!(e===void 0||!e.isActive))return e.deactivate(e,this.$controller)}detaching(t){return this.deactivate(t)}dispose(){var t;(t=this.view)==null||t.dispose(),this.view=void 0}}Np.$au={type:ee,name:"pending",isTemplateController:!0,bindables:{value:{mode:Ot}}};class jp{constructor(){this.view=void 0,this._factory=D(ye),this._location=D(ue)}link(t,e,s,n){$c(t).fulfilled=this}activate(t,e,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,e)}deactivate(t){const e=this.view;if(!(e===void 0||!e.isActive))return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){var t;(t=this.view)==null||t.dispose(),this.view=void 0}}jp.$au={type:ee,name:"then",isTemplateController:!0,bindables:{value:{mode:As}}};class zp{constructor(){this.view=void 0,this._factory=D(ye),this._location=D(ue)}link(t,e,s,n){$c(t).rejected=this}activate(t,e,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,e)}deactivate(t){const e=this.view;if(!(e===void 0||!e.isActive))return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){var t;(t=this.view)==null||t.dispose(),this.view=void 0}}zp.$au={type:ee,name:"catch",isTemplateController:!0,bindables:{value:{mode:As}}};function $c(i){const t=i.parent,e=t==null?void 0:t.viewModel;if(e instanceof Dc)return e;throw B(813)}class Lc{"promise.resolve"(t,e){return new be(t,e,"promise","bind")}}Bp=Symbol.metadata,Lc[Bp]={[Qe]:Us.create([{pattern:"promise.resolve",symbols:""}],Lc)};class Bc{then(t,e){return new be(t,e,"then","from-view")}}Fp=Symbol.metadata,Bc[Fp]={[Qe]:Us.create([{pattern:"then",symbols:""}],Bc)};class Fc{catch(t,e){return new be(t,e,"catch","from-view")}}Vp=Symbol.metadata,Fc[Vp]={[Qe]:Us.create([{pattern:"catch",symbols:""}],Fc)};class Hp{constructor(){this._needsApply=!1,this._element=D(Mr),this._platform=D(te)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this._apply():this._needsApply=!0}attached(){this._needsApply&&(this._needsApply=!1,this._apply()),this._element.addEventListener("focus",this),this._element.addEventListener("blur",this)}detaching(){const t=this._element;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){t.type==="focus"?this.value=!0:this._isElFocused||(this.value=!1)}_apply(){const t=this._element,e=this._isElFocused,s=this.value;s&&!e?t.focus():!s&&e&&t.blur()}get _isElFocused(){return this._element===this._platform.document.activeElement}}Hp.$au={type:ee,name:"focus",bindables:{value:{mode:af}}};class Wp{constructor(){this.position="beforeend",this.strict=!1;const t=D(ye),e=D(ue),s=D(te);this._platform=s,this._resolvedTarget=s.document.createElement("div"),(this.view=t.create()).setLocation(this._targetLocation=Ky(s)),Uw(this.view.nodes,e)}attaching(t){this.callbackContext==null&&(this.callbackContext=this.$controller.scope.bindingContext);const e=this._resolvedTarget=this._getTarget();return this._moveLocation(e,this.position),this._activating(t,e)}detaching(t){return this._deactivating(t,this._resolvedTarget)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this._getTarget();if(this._resolvedTarget===e)return;this._resolvedTarget=e;const s=Q(this._deactivating(null,e),()=>(this._moveLocation(e,this.position),this._activating(null,e)));Ft(s)&&s.catch(tc)}positionChanged(){const{$controller:t,_resolvedTarget:e}=this;if(!t.isActive)return;const s=Q(this._deactivating(null,e),()=>(this._moveLocation(e,this.position),this._activating(null,e)));Ft(s)&&s.catch(tc)}_activating(t,e){const{activating:s,callbackContext:n,view:r}=this;return Q(s==null?void 0:s.call(n,e,r),()=>this._activate(t,e))}_activate(t,e){const{$controller:s,view:n}=this;if(t===null)n.nodes.insertBefore(this._targetLocation);else return Q(n.activate(t??n,s,s.scope),()=>this._activated(e));return this._activated(e)}_activated(t){const{activated:e,callbackContext:s,view:n}=this;return e==null?void 0:e.call(s,t,n)}_deactivating(t,e){const{deactivating:s,callbackContext:n,view:r}=this;return Q(s==null?void 0:s.call(n,e,r),()=>this._deactivate(t,e))}_deactivate(t,e){const{$controller:s,view:n}=this;if(t===null)n.nodes.remove();else return Q(n.deactivate(t,s),()=>this._deactivated(e));return this._deactivated(e)}_deactivated(t){const{deactivated:e,callbackContext:s,view:n}=this;return Q(e==null?void 0:e.call(s,t,n),()=>this._removeLocation())}_getTarget(){const t=this._platform,e=t.document;let s=this.target,n=this.renderContext;if(s===""){if(this.strict)throw B(811);return e.body}if(at(s)){let r=e;at(n)&&(n=e.querySelector(n)),n instanceof t.Node&&(r=n),s=r.querySelector(s)}if(s instanceof t.Node)return s;if(s==null){if(this.strict)throw B(812);return e.body}return s}_removeLocation(){this._targetLocation.remove(),this._targetLocation.$start.remove()}_moveLocation(t,e){const s=this._targetLocation,n=s.$start,r=t.parentNode,o=[n,s];switch(e){case"beforeend":Vo(t,null,o);break;case"afterbegin":Vo(t,t.firstChild,o);break;case"beforebegin":Vo(r,t,o);break;case"afterend":Vo(r,t.nextSibling,o);break;default:throw B(779,e)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){var e;if(((e=this.view)==null?void 0:e.accept(t))===!0)return!0}}Wp.$au={type:ee,name:"portal",isTemplateController:!0,bindables:[{name:"target",primary:!0},"position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};let mx;class na{constructor(){var u,d,f,g;this._parentScope=null,this._outerScope=null,this._attached=!1,this.expose=null,this.slotchange=null,this._subs=new Set,this._observer=null;const t=D(Bi),e=D(ue),s=D(_n),n=D(si),r=this.name=s.data.name,o=(u=s.projections)==null?void 0:u[Rf],a=(f=(d=t.instruction)==null?void 0:d.projections)==null?void 0:f[r],l=t.controller.container;let c,h;a==null?(h=l.createChild({inheritParentResources:!0}),c=n.getViewFactory(o??mx??(mx=ne.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),h),this._hasProjection=!1):(h=l.createChild(),h.useResources(t.parent.controller.container),xt(h,Bi,new $t(void 0,t.parent)),c=n.getViewFactory(a,h),this._hasProjection=!0,this._slotwatchers=((g=l.getAll(Xy,!1))==null?void 0:g.filter(p=>p.slotName==="*"||p.slotName===r))??tt),this._hasSlotWatcher=(this._slotwatchers??(this._slotwatchers=tt)).length>0,this._hdrContext=t,this.view=c.create().setLocation(this._location=e)}get nodes(){const t=[],e=this._location;let s=e.$start.nextSibling;for(;s!=null&&s!==e;)s.nodeType!==8&&t.push(s),s=s.nextSibling;return t}subscribe(t){this._subs.add(t)}unsubscribe(t){this._subs.delete(t)}binding(t,e){var r;for(this._parentScope=e.scope;e.vmKind==="synthetic"&&((r=e.parent)==null?void 0:r.viewModel)instanceof na;)e=e.parent.parent;const s=e.scope.bindingContext;let n;this._hasProjection&&(n=this._hdrContext.controller.scope.parent,(this._outerScope=zt.fromParent(n,n.bindingContext)).overrideContext.$host=this.expose??s)}attaching(t,e){return Q(this.view.activate(t,this.$controller,this._hasProjection?this._outerScope:this._parentScope),()=>{this._hasSlotWatcher&&(this._slotwatchers.forEach(s=>s.watch(this)),this._observe(),this._notifySlotChange(),this._attached=!0)})}detaching(t,e){return this._attached=!1,this._unobserve(),this._slotwatchers.forEach(s=>s.unwatch(this)),this.view.deactivate(t,this.$controller)}exposeChanged(t){this._hasProjection&&this._outerScope!=null&&(this._outerScope.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(((e=this.view)==null?void 0:e.accept(t))===!0)return!0}_observe(){if(this._observer!=null)return;const t=this._location,e=t.parentElement;e!=null&&(this._observer=Of(e,s=>{bx(t,s)&&this._notifySlotChange()})).observe(e,{childList:!0})}_unobserve(){var t;(t=this._observer)==null||t.disconnect(),this._observer=null}_notifySlotChange(){var n;const t=this.nodes,e=new Set(this._subs);let s;this._attached&&((n=this.slotchange)==null||n.call(void 0,this.name,t));for(s of e)s.handleSlotChange(this,t)}}na.$au={type:Vi,name:"au-slot",template:null,containerless:!0,processContent(i,t,e){e.name=i.getAttribute("name")??Rf;let s=i.firstChild,n=null;for(;s!==null;)n=s.nextSibling,Yy(s)&&s.hasAttribute(Qy)&&(console.warn("[DEV:aurelia] detected [au-slot] attribute on a child node",`of an <au-slot> element: "<${s.nodeName} au-slot>".`,"This element will be ignored and removed"),i.removeChild(s)),s=n},bindables:["expose","slotchange"]};const ra=(i,t)=>i.compareDocumentPosition(t),bx=(i,t)=>{for(const{addedNodes:e,removedNodes:s,nextSibling:n}of t){let r=0,o=e.length,a;for(;r<o;++r)if(a=e[r],ra(i.$start,a)===4&&ra(i,a)===2)return!0;if(s.length>0&&n!=null&&ra(i.$start,n)===4&&ra(i,n)===2)return!0}};class Up{constructor(){this.scopeBehavior="auto",this._composition=void 0,this.tag=null,this._container=D(cn),this.parent=D(Wo),this._host=D(Mr),this._location=D(ue),this._platform=D(te),this._rendering=D(si),this._instruction=D(_n),this._contextFactory=D(t_(vx)),this._compiler=D(_o),this._hydrationContext=D(Bi),this._exprParser=D(pn),this._observerLocator=D(Sn)}get composing(){return this._composing}get composition(){return this._composition}attaching(t,e){return this._composing=Q(this.queue(new qp(this.template,this.component,this.model,void 0),t),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)})}detaching(t){const e=this._composition,s=this._composing;return this._contextFactory.invalidate(),this._composition=this._composing=void 0,Q(s,()=>e==null?void 0:e.deactivate(t))}propertyChanged(t){var e;if(!(t==="composing"||t==="composition")){if(t==="model"&&this._composition!=null){this._composition.update(this.model);return}if(t==="tag"&&((e=this._composition)==null?void 0:e.controller.vmKind)===Te){console.warn("[DEV:aurelia] Changing tag name of a custom element composition is ignored.");return}this._composing=Q(this._composing,()=>Q(this.queue(new qp(this.template,this.component,this.model,t),void 0),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)}))}}queue(t,e){const s=this._contextFactory,n=this._composition;return Q(s.create(t),r=>s._isCurrent(r)?Q(this.compose(r),o=>s._isCurrent(r)?Q(o.activate(e),()=>s._isCurrent(r)?(this._composition=o,Q(n==null?void 0:n.deactivate(e),()=>r)):Q(o.controller.deactivate(o.controller,this.$controller),()=>(o.controller.dispose(),r))):(o.controller.dispose(),r)):r)}compose(t){const{_template:e,_component:s,_model:n}=t.change,{_container:r,$controller:o,_location:a,_instruction:l}=this,c=this._getDefinition(this._hydrationContext.controller.container,s),h=r.createChild(),u=this._platform.document.createElement(c==null?this.tag??"div":c.name);a.parentNode.insertBefore(u,a);let d;c==null?d=this.tag==null?Tr(u):null:d=c.containerless?Tr(u):null;const f=()=>{var m;if(u.remove(),d!=null){let b=d.$start.nextSibling,_=null;for(;b!==null&&b!==d;)_=b.nextSibling,b.remove(),b=_;(m=d.$start)==null||m.remove(),d.remove()}},g=this._createComponentInstance(h,typeof s=="string"?c.Type:s,u,d),p=()=>{const m=l.captures??tt;if(c!==null){const b=c.capture,[_,w]=m.reduce((v,y)=>{const k=!(y.target in c.bindables)&&(b===!0||pt(b)&&!!b(y.target));return v[k?0:1].push(y),v},[[],[]]),x=de.$el(h,g,u,{projections:l.projections,captures:_},c,d);return this._createSpreadBindings(u,c,w).forEach(v=>x.addBinding(v)),new Yp(x,v=>x.activate(v??x,o,o.scope.parent),v=>Q(x.deactivate(v??x,o),f),v=>{var y;return(y=g.activate)==null?void 0:y.call(g,v)},t)}else{const b=ne.create({name:Ee.generateName(),template:e}),_=this._rendering.getViewFactory(b,h),w=de.$view(_,o),x=this.scopeBehavior==="auto"?zt.fromParent(this.parent.scope,g):zt.create(g);return w.setHost(u),d==null?this._createSpreadBindings(u,b,m).forEach(v=>w.addBinding(v)):w.setLocation(d),new Yp(w,v=>w.activate(v??w,o,x),v=>Q(w.deactivate(v??w,o),f),v=>{var y;return(y=g.activate)==null?void 0:y.call(g,v)},t)}};return"activate"in g?Q(g.activate(n),()=>p()):p()}_createComponentInstance(t,e,s,n){if(e==null)return new _x;if(typeof e=="object")return e;const r=this._platform;Yo(t,s,r),xt(t,ue,new $t("IRenderLocation",n));const o=t.invoke(e);return xt(t,e,new $t("au-compose.component",o)),o}_getDefinition(t,e){if(typeof e=="string"){const n=Ee.find(t,e);if(n==null)throw B(806,e);return n}const s=pt(e)?e:e==null?void 0:e.constructor;return Ee.isType(s,void 0)?Ee.getDefinition(s,null):null}_createSpreadBindings(t,e,s){const n=new ip(this.$controller,{projections:null,captures:s},this._hydrationContext.parent);return No.create(n,t,e,this._rendering,this._compiler,this._platform,this._exprParser,this._observerLocator)}}Up.$au={type:Vi,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:i=>{if(i==="scoped"||i==="auto")return i;throw B(805,i)}},{name:"composing",mode:As},{name:"composition",mode:As},"tag"]};class _x{}class vx{constructor(){this.id=0}_isCurrent(t){return t.id===this.id}create(t){return Q(t.load(),e=>new yx(++this.id,e))}invalidate(){this.id++}}class qp{constructor(t,e,s,n){this._template=t,this._component=e,this._model=s,this._src=n}load(){return Ft(this._template)||Ft(this._component)?Promise.all([this._template,this._component]).then(([t,e])=>new Kp(t,e,this._model,this._src)):new Kp(this._template,this._component,this._model,this._src)}}class Kp{constructor(t,e,s,n){this._template=t,this._component=e,this._model=s,this._src=n}}class yx{constructor(t,e){this.id=t,this.change=e}}class Yp{constructor(t,e,s,n,r){this.controller=t,this.start=e,this.stop=s,this.update=n,this.context=r,this.state=0}activate(t){if(this.state!==0)throw B(807,this);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw B(808);default:this.state=-1}}}const wx=vt("ISanitizer",i=>i.singleton(class{sanitize(){throw B(99,"sanitize")}}));class Qp{constructor(){this._sanitizer=D(wx)}toView(t){return t==null?null:this._sanitizer.sanitize(t)}}Qp.$au={type:In,name:"sanitize"};class Xp{constructor(){this.el=D(Mr),this.p=D(te),this._isActive=!1,this._task=null,this.$val="",this.$prio="",this.update=()=>{this._task=null,!!this.value!==this._isToggled&&(this._isToggled===this._base?(this._isToggled=!this._base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this._isToggled=this._base,this.el.style.setProperty("display",this.$val,this.$prio),this.el.getAttribute("style")===""&&this.el.removeAttribute("style")))};const t=D(_n);this._isToggled=this._base=t.alias!=="hide"}binding(){this._isActive=!0,this.update()}detaching(){var t;this._isActive=!1,(t=this._task)==null||t.cancel(),this._task=null}valueChanged(){this._isActive&&this._task===null&&(this._task=this.p.domQueue.queueTask(this.update))}}Xp.$au={type:ee,name:"show",bindables:["value"],aliases:["hide"]};const xx=[tx,oy,Pc],kx=[ml,gl,bl,qy],Cx=[wd,bd,vd,_d,yd,xd,Td,kd,Cd,Md,Ad,Sd,Pd],Sx=[kf,vf,yf,wf,Cf,Sf,xf,Qp,Jo,Sp,Ap,Dp,Oc,Rc,Lp,Dc,Np,jp,zp,Lc,Bc,Fc,xp,kp,Cp,Up,Wp,Hp,Xp,na],Ax=[rw,ow,iw,nw,Zy,Jy,tw,ew,sw,cw,mw,hw,uw,dw,pw,aw,bw,_w],Mx=Gp(Ge);function Gp(i){return{optionsProvider:i,register(t){const e={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return i(e),t.register(mf(Wd,e.coercingOptions),_u,...xx,...Sx,...kx,...Cx,...Ax)},customize(t){return Gp(t??i)}}}class Tx{constructor(){this.ctn=D(cn),this.p=D(te),this.r=D(si)}define(t,e,s){if(!t.includes("-"))throw Nc('Invalid web-components custom element name. It must include a "-"');let n;if(e==null)throw Nc("Invalid custom element definition");switch(typeof e){case"function":n=Ee.isType(e)?Ee.getDefinition(e):ne.create(Ee.generateName(),e);break;default:n=ne.getOrCreate(e);break}if(n.containerless)throw Nc("Containerless custom element is not supported. Consider using buitl-in extends instead");const r=s!=null&&s.extends?this.p.document.createElement(s.extends).constructor:this.p.HTMLElement,o=this.ctn,a=this.r,l=n.bindables,c=this.p;class h extends r{auInit(){if(this.auInited)return;this.auInited=!0;const d=o.createChild();Vc(d,c.HTMLElement,Vc(d,c.Element,Vc(d,Mr,new $t("ElementProvider",this))));const f=a.compile(n,d),g=d.invoke(f.Type),p=this.auCtrl=de.$el(d,g,this,null,f);ie(this,f.key,p)}connectedCallback(){this.auInit(),this.auCtrl.activate(this.auCtrl,null)}disconnectedCallback(){this.auCtrl.deactivate(this.auCtrl,null)}adoptedCallback(){this.auInit()}attributeChangedCallback(d,f,g){this.auInit(),this.auCtrl.viewModel[d]=g}}h.observedAttributes=Object.keys(l);for(const u in l)Object.defineProperty(h.prototype,u,{configurable:!0,enumerable:!1,get(){return this.auCtrl.viewModel[u]},set(d){this.auInited||this.auInit(),this.auCtrl.viewModel[u]=d}});return this.p.customElements.define(t,h,s),h}}const Vc=(i,t,e)=>i.registerResolver(t,e),Nc=i=>new Error(i),Zp="chartjs",jc=`<div>
    <canvas ref="mychart"></canvas>
</div>
`,Jp=[],tg={};let zc;function Px(i){zc||(zc=Ee.define({name:Zp,template:jc,dependencies:Jp,bindables:tg})),i.register(zc)}const Ix=Object.freeze(Object.defineProperty({__proto__:null,bindables:tg,default:jc,dependencies:Jp,name:Zp,register:Px,template:jc},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ir(i){return i+.5|0}const ri=(i,t,e)=>Math.max(Math.min(i,e),t);function Er(i){return ri(Ir(i*2.55),0,255)}function oi(i){return ri(Ir(i*255),0,255)}function Os(i){return ri(Ir(i/2.55)/100,0,1)}function eg(i){return ri(Ir(i*100),0,100)}const Oe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hc=[..."0123456789ABCDEF"],Ex=i=>Hc[i&15],Ox=i=>Hc[(i&240)>>4]+Hc[i&15],oa=i=>(i&240)>>4===(i&15),Rx=i=>oa(i.r)&&oa(i.g)&&oa(i.b)&&oa(i.a);function Dx(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Oe[i[1]]*17,g:255&Oe[i[2]]*17,b:255&Oe[i[3]]*17,a:t===5?Oe[i[4]]*17:255}:(t===7||t===9)&&(e={r:Oe[i[1]]<<4|Oe[i[2]],g:Oe[i[3]]<<4|Oe[i[4]],b:Oe[i[5]]<<4|Oe[i[6]],a:t===9?Oe[i[7]]<<4|Oe[i[8]]:255})),e}const $x=(i,t)=>i<255?t(i):"";function Lx(i){var t=Rx(i)?Ex:Ox;return i?"#"+t(i.r)+t(i.g)+t(i.b)+$x(i.a,t):void 0}const Bx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sg(i,t,e){const s=t*Math.min(e,1-e),n=(r,o=(r+i/30)%12)=>e-s*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Fx(i,t,e){const s=(n,r=(n+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Vx(i,t,e){const s=sg(i,1,.5);let n;for(t+e>1&&(n=1/(t+e),t*=n,e*=n),n=0;n<3;n++)s[n]*=1-t-e,s[n]+=t;return s}function Nx(i,t,e,s,n){return i===n?(t-e)/s+(t<e?6:0):t===n?(e-i)/s+2:(i-t)/s+4}function Wc(i){const e=i.r/255,s=i.g/255,n=i.b/255,r=Math.max(e,s,n),o=Math.min(e,s,n),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=Nx(e,s,n,h,r),l=l*60+.5),[l|0,c||0,a]}function Uc(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(oi)}function qc(i,t,e){return Uc(sg,i,t,e)}function jx(i,t,e){return Uc(Vx,i,t,e)}function zx(i,t,e){return Uc(Fx,i,t,e)}function ig(i){return(i%360+360)%360}function Hx(i){const t=Bx.exec(i);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Er(+t[5]):oi(+t[5]));const n=ig(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=jx(n,r,o):t[1]==="hsv"?s=zx(n,r,o):s=qc(n,r,o),{r:s[0],g:s[1],b:s[2],a:e}}function Wx(i,t){var e=Wc(i);e[0]=ig(e[0]+t),e=qc(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Ux(i){if(!i)return;const t=Wc(i),e=t[0],s=eg(t[1]),n=eg(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${n}%, ${Os(i.a)})`:`hsl(${e}, ${s}%, ${n}%)`}const ng={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qx(){const i={},t=Object.keys(rg),e=Object.keys(ng);let s,n,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],n=0;n<e.length;n++)r=e[n],a=a.replace(r,ng[r]);r=parseInt(rg[o],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}let aa;function Kx(i){aa||(aa=qx(),aa.transparent=[0,0,0,0]);const t=aa[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Yx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qx(i){const t=Yx.exec(i);let e=255,s,n,r;if(t){if(t[7]!==s){const o=+t[7];e=t[8]?Er(o):ri(o*255,0,255)}return s=+t[1],n=+t[3],r=+t[5],s=255&(t[2]?Er(s):ri(s,0,255)),n=255&(t[4]?Er(n):ri(n,0,255)),r=255&(t[6]?Er(r):ri(r,0,255)),{r:s,g:n,b:r,a:e}}}function Xx(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Os(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Kc=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Fn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Gx(i,t,e){const s=Fn(Os(i.r)),n=Fn(Os(i.g)),r=Fn(Os(i.b));return{r:oi(Kc(s+e*(Fn(Os(t.r))-s))),g:oi(Kc(n+e*(Fn(Os(t.g))-n))),b:oi(Kc(r+e*(Fn(Os(t.b))-r))),a:i.a+e*(t.a-i.a)}}function la(i,t,e){if(i){let s=Wc(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=qc(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function og(i,t){return i&&Object.assign(t||{},i)}function ag(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=oi(i[3]))):(t=og(i,{r:0,g:0,b:0,a:1}),t.a=oi(t.a)),t}function Zx(i){return i.charAt(0)==="r"?Qx(i):Hx(i)}class Or{constructor(t){if(t instanceof Or)return t;const e=typeof t;let s;e==="object"?s=ag(t):e==="string"&&(s=Dx(t)||Kx(t)||Zx(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=og(this._rgb);return t&&(t.a=Os(t.a)),t}set rgb(t){this._rgb=ag(t)}rgbString(){return this._valid?Xx(this._rgb):void 0}hexString(){return this._valid?Lx(this._rgb):void 0}hslString(){return this._valid?Ux(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,n=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=s.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*n.r+.5,s.g=255&c*s.g+r*n.g+.5,s.b=255&c*s.b+r*n.b+.5,s.a=o*s.a+(1-o)*n.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=Gx(this._rgb,t._rgb,e)),this}clone(){return new Or(this.rgb)}alpha(t){return this._rgb.a=oi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ir(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return la(this._rgb,2,t),this}darken(t){return la(this._rgb,2,-t),this}saturate(t){return la(this._rgb,1,t),this}desaturate(t){return la(this._rgb,1,-t),this}rotate(t){return Wx(this._rgb,t),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Rs(){}const Jx=(()=>{let i=0;return()=>i++})();function ut(i){return i===null||typeof i>"u"}function Mt(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ot(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Rt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function ke(i,t){return Rt(i)?i:t}function Z(i,t){return typeof i>"u"?t:i}const tk=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,lg=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function wt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function gt(i,t,e,s){let n,r,o;if(Mt(i))for(r=i.length,n=0;n<r;n++)t.call(e,i[n],n);else if(ot(i))for(o=Object.keys(i),r=o.length,n=0;n<r;n++)t.call(e,i[o[n]],o[n])}function ca(i,t){let e,s,n,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,s=i.length;e<s;++e)if(n=i[e],r=t[e],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function ha(i){if(Mt(i))return i.map(ha);if(ot(i)){const t=Object.create(null),e=Object.keys(i),s=e.length;let n=0;for(;n<s;++n)t[e[n]]=ha(i[e[n]]);return t}return i}function cg(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ek(i,t,e,s){if(!cg(i))return;const n=t[i],r=e[i];ot(n)&&ot(r)?Rr(n,r,s):t[i]=ha(r)}function Rr(i,t,e){const s=Mt(t)?t:[t],n=s.length;if(!ot(i))return i;e=e||{};const r=e.merger||ek;let o;for(let a=0;a<n;++a){if(o=s[a],!ot(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],i,o,e)}return i}function Dr(i,t){return Rr(i,t,{merger:sk})}function sk(i,t,e){if(!cg(i))return;const s=t[i],n=e[i];ot(s)&&ot(n)?Dr(s,n):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=ha(n))}const hg={"":i=>i,x:i=>i.x,y:i=>i.y};function ik(i){const t=i.split("."),e=[];let s="";for(const n of t)s+=n,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function nk(i){const t=ik(i);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function ai(i,t){return(hg[t]||(hg[t]=nk(t)))(i)}function Yc(i){return i.charAt(0).toUpperCase()+i.slice(1)}const $r=i=>typeof i<"u",li=i=>typeof i=="function",ug=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function rk(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const kt=Math.PI,Ct=2*kt,ok=Ct+kt,ua=Number.POSITIVE_INFINITY,ak=kt/180,Lt=kt/2,zi=kt/4,dg=kt*2/3,ci=Math.log10,ls=Math.sign;function Lr(i,t,e){return Math.abs(i-t)<e}function fg(i){const t=Math.round(i);i=Lr(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(ci(i))),s=i/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function lk(i){const t=[],e=Math.sqrt(i);let s;for(s=1;s<e;s++)i%s===0&&(t.push(s),t.push(i/s));return e===(e|0)&&t.push(e),t.sort((n,r)=>n-r).pop(),t}function Vn(i){return!isNaN(parseFloat(i))&&isFinite(i)}function ck(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function pg(i,t,e){let s,n,r;for(s=0,n=i.length;s<n;s++)r=i[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function je(i){return i*(kt/180)}function Qc(i){return i*(180/kt)}function gg(i){if(!Rt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function mg(i,t){const e=t.x-i.x,s=t.y-i.y,n=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*kt&&(r+=Ct),{angle:r,distance:n}}function Xc(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function hk(i,t){return(i-t+ok)%Ct-kt}function Ce(i){return(i%Ct+Ct)%Ct}function Br(i,t,e,s){const n=Ce(i),r=Ce(t),o=Ce(e),a=Ce(r-n),l=Ce(o-n),c=Ce(n-r),h=Ce(n-o);return n===r||n===o||s&&r===o||a>l&&c<h}function Qt(i,t,e){return Math.max(t,Math.min(e,i))}function uk(i){return Qt(i,-32768,32767)}function Ds(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function Gc(i,t,e){e=e||(o=>i[o]<t);let s=i.length-1,n=0,r;for(;s-n>1;)r=n+s>>1,e(r)?n=r:s=r;return{lo:n,hi:s}}const $s=(i,t,e,s)=>Gc(i,e,s?n=>{const r=i[n][t];return r<e||r===e&&i[n+1][t]===e}:n=>i[n][t]<e),dk=(i,t,e)=>Gc(i,e,s=>i[s][t]>=e);function fk(i,t,e){let s=0,n=i.length;for(;s<n&&i[s]<t;)s++;for(;n>s&&i[n-1]>e;)n--;return s>0||n<i.length?i.slice(s,n):i}const bg=["push","pop","shift","splice","unshift"];function pk(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),bg.forEach(e=>{const s="_onData"+Yc(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function _g(i,t){const e=i._chartjs;if(!e)return;const s=e.listeners,n=s.indexOf(t);n!==-1&&s.splice(n,1),!(s.length>0)&&(bg.forEach(r=>{delete i[r]}),delete i._chartjs)}function vg(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const yg=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function wg(i,t){let e=[],s=!1;return function(...n){e=n,s||(s=!0,yg.call(window,()=>{s=!1,i.apply(t,e)}))}}function gk(i,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(i,t,s)):i.apply(this,s),t}}const Zc=i=>i==="start"?"left":i==="end"?"right":"center",re=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,mk=(i,t,e,s)=>i===(s?"left":"right")?e:i==="center"?(t+e)/2:t;function xg(i,t,e){const s=t.length;let n=0,r=s;if(i._sorted){const{iScale:o,_parsed:a}=i,l=o.axis,{min:c,max:h,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(n=Qt(Math.min($s(a,l,c).lo,e?s:$s(t,l,o.getPixelForValue(c)).lo),0,s-1)),d?r=Qt(Math.max($s(a,o.axis,h,!0).hi+1,e?0:$s(t,l,o.getPixelForValue(h),!0).hi+1),n,s)-n:r=s-n}return{start:n,count:r}}function kg(i){const{xScale:t,yScale:e,_scaleRanges:s}=i,n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return i._scaleRanges=n,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,n),r}const da=i=>i===0||i===1,Cg=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Ct/e)),Sg=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Ct/e)+1,Fr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Lt)+1,easeOutSine:i=>Math.sin(i*Lt),easeInOutSine:i=>-.5*(Math.cos(kt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>da(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>da(i)?i:Cg(i,.075,.3),easeOutElastic:i=>da(i)?i:Sg(i,.075,.3),easeInOutElastic(i){return da(i)?i:i<.5?.5*Cg(i*2,.1125,.45):.5+.5*Sg(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Fr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Fr.easeInBounce(i*2)*.5:Fr.easeOutBounce(i*2-1)*.5+.5};function Jc(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ag(i){return Jc(i)?i:new Or(i)}function th(i){return Jc(i)?i:new Or(i).saturate(.5).darken(.1).hexString()}const bk=["x","y","borderWidth","radius","tension"],_k=["color","borderColor","backgroundColor"];function vk(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:_k},numbers:{type:"number",properties:bk}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yk(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mg=new Map;function wk(i,t){t=t||{};const e=i+JSON.stringify(t);let s=Mg.get(e);return s||(s=new Intl.NumberFormat(i,t),Mg.set(e,s)),s}function Vr(i,t,e){return wk(t,e).format(i)}const Tg={values(i){return Mt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const s=this.chart.options.locale;let n,r=i;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=xk(i,e)}const o=ci(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Vr(i,s,l)},logarithmic(i,t,e){if(i===0)return"0";const s=e[t].significand||i/Math.pow(10,Math.floor(ci(i)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?Tg.numeric.call(this,i,t,e):""}};function xk(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var fa={formatters:Tg};function kk(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fa.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Hi=Object.create(null),eh=Object.create(null);function Nr(i,t){if(!t)return i;const e=t.split(".");for(let s=0,n=e.length;s<n;++s){const r=e[s];i=i[r]||(i[r]=Object.create(null))}return i}function sh(i,t,e){return typeof t=="string"?Rr(Nr(i,t),e):Rr(Nr(i,""),t)}class Ck{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,n)=>th(n.backgroundColor),this.hoverBorderColor=(s,n)=>th(n.borderColor),this.hoverColor=(s,n)=>th(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return sh(this,t,e)}get(t){return Nr(this,t)}describe(t,e){return sh(eh,t,e)}override(t,e){return sh(Hi,t,e)}route(t,e,s,n){const r=Nr(this,t),o=Nr(this,s),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[n];return ot(l)?Object.assign({},c,l):Z(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var Tt=new Ck({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vk,yk,kk]);function Sk(i){return!i||ut(i.size)||ut(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function pa(i,t,e,s,n){let r=t[n];return r||(r=t[n]=i.measureText(n).width,e.push(n)),r>s&&(s=r),s}function Ak(i,t,e,s){s=s||{};let n=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(n=s.data={},r=s.garbageCollect=[],s.font=t),i.save(),i.font=t;let o=0;const a=e.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=e[l],u!=null&&!Mt(u))o=pa(i,n,r,o,u);else if(Mt(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!Mt(d)&&(o=pa(i,n,r,o,d));i.restore();const f=r.length/2;if(f>e.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function Wi(i,t,e){const s=i.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*s)/s+n}function Pg(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function ih(i,t,e,s){Ig(i,t,e,s,null)}function Ig(i,t,e,s,n){let r,o,a,l,c,h,u,d;const f=t.pointStyle,g=t.rotation,p=t.radius;let m=(g||0)*ak;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,s),i.rotate(m),i.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),i.restore();return}if(!(isNaN(p)||p<=0)){switch(i.beginPath(),f){default:n?i.ellipse(e,s,n/2,p,0,0,Ct):i.arc(e,s,p,0,Ct),i.closePath();break;case"triangle":h=n?n/2:p,i.moveTo(e+Math.sin(m)*h,s-Math.cos(m)*p),m+=dg,i.lineTo(e+Math.sin(m)*h,s-Math.cos(m)*p),m+=dg,i.lineTo(e+Math.sin(m)*h,s-Math.cos(m)*p),i.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+zi)*l,u=Math.cos(m+zi)*(n?n/2-c:l),a=Math.sin(m+zi)*l,d=Math.sin(m+zi)*(n?n/2-c:l),i.arc(e-u,s-a,c,m-kt,m-Lt),i.arc(e+d,s-o,c,m-Lt,m),i.arc(e+u,s+a,c,m,m+Lt),i.arc(e-d,s+o,c,m+Lt,m+kt),i.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,h=n?n/2:l,i.rect(e-h,s-l,2*h,2*l);break}m+=zi;case"rectRot":u=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(n?n/2:p),i.moveTo(e-u,s-a),i.lineTo(e+d,s-o),i.lineTo(e+u,s+a),i.lineTo(e-d,s+o),i.closePath();break;case"crossRot":m+=zi;case"cross":u=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(n?n/2:p),i.moveTo(e-u,s-a),i.lineTo(e+u,s+a),i.moveTo(e+d,s-o),i.lineTo(e-d,s+o);break;case"star":u=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(n?n/2:p),i.moveTo(e-u,s-a),i.lineTo(e+u,s+a),i.moveTo(e+d,s-o),i.lineTo(e-d,s+o),m+=zi,u=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(n?n/2:p),i.moveTo(e-u,s-a),i.lineTo(e+u,s+a),i.moveTo(e+d,s-o),i.lineTo(e-d,s+o);break;case"line":o=n?n/2:Math.cos(m)*p,a=Math.sin(m)*p,i.moveTo(e-o,s-a),i.lineTo(e+o,s+a);break;case"dash":i.moveTo(e,s),i.lineTo(e+Math.cos(m)*(n?n/2:p),s+Math.sin(m)*p);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Ls(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function ga(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ma(i){i.restore()}function Mk(i,t,e,s,n){if(!t)return i.lineTo(e.x,e.y);if(n==="middle"){const r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else n==="after"!=!!s?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Tk(i,t,e,s){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function Pk(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),ut(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Ik(i,t,e,s,n){if(n.strikethrough||n.underline){const r=i.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=n.decorationWidth||2,i.moveTo(o,h),i.lineTo(a,h),i.stroke()}}function Ek(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Ui(i,t,e,s,n,r={}){const o=Mt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(i.save(),i.font=n.string,Pk(i,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Ek(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),ut(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(c,e,s,r.maxWidth)),i.fillText(c,e,s,r.maxWidth),Ik(i,e,s,c,r),s+=Number(n.lineHeight);i.restore()}function jr(i,t){const{x:e,y:s,w:n,h:r,radius:o}=t;i.arc(e+o.topLeft,s+o.topLeft,o.topLeft,1.5*kt,kt,!0),i.lineTo(e,s+r-o.bottomLeft),i.arc(e+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,kt,Lt,!0),i.lineTo(e+n-o.bottomRight,s+r),i.arc(e+n-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Lt,0,!0),i.lineTo(e+n,s+o.topRight),i.arc(e+n-o.topRight,s+o.topRight,o.topRight,0,-Lt,!0),i.lineTo(e+o.topLeft,s)}const Ok=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Rk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Dk(i,t){const e=(""+i).match(Ok);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const $k=i=>+i||0;function nh(i,t){const e={},s=ot(t),n=s?Object.keys(t):t,r=ot(i)?s?o=>Z(i[o],i[t[o]]):o=>i[o]:()=>i;for(const o of n)e[o]=$k(r(o));return e}function Eg(i){return nh(i,{top:"y",right:"x",bottom:"y",left:"x"})}function qi(i){return nh(i,["topLeft","topRight","bottomLeft","bottomRight"])}function oe(i){const t=Eg(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ut(i,t){i=i||{},t=t||Tt.font;let e=Z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Z(i.style,t.style);s&&!(""+s).match(Rk)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:Z(i.family,t.family),lineHeight:Dk(Z(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:Z(i.weight,t.weight),string:""};return n.string=Sk(n),n}function zr(i,t,e,s){let n,r,o;for(n=0,r=i.length;n<r;++n)if(o=i[n],o!==void 0&&o!==void 0)return o}function Lk(i,t,e){const{min:s,max:n}=i,r=lg(t,(n-s)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(n,r)}}function hi(i,t){return Object.assign(Object.create(i),t)}function rh(i,t=[""],e,s,n=()=>i[0]){const r=e||i;typeof s>"u"&&(s=Lg("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:s,_getTarget:n,override:a=>rh([a,...i],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return Rg(a,l,()=>Wk(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return Bg(a).includes(l)},ownKeys(a){return Bg(a)},set(a,l,c){const h=a._storage||(a._storage=n());return a[l]=h[l]=c,delete a._keys,!0}})}function Nn(i,t,e,s){const n={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Og(i,s),setContext:r=>Nn(i,r,e,s),override:r=>Nn(i.override(r),t,e,s)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete i[o],!0},get(r,o,a){return Rg(r,o,()=>Fk(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(r,o,a){return i[o]=a,delete r[o],!0}})}function Og(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=i;return{allKeys:n,scriptable:e,indexable:s,isScriptable:li(e)?e:()=>e,isIndexable:li(s)?s:()=>s}}const Bk=(i,t)=>i?i+Yc(t):t,oh=(i,t)=>ot(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Rg(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=e();return i[t]=s,s}function Fk(i,t,e){const{_proxy:s,_context:n,_subProxy:r,_descriptors:o}=i;let a=s[t];return li(a)&&o.isScriptable(t)&&(a=Vk(t,a,i,e)),Mt(a)&&a.length&&(a=Nk(t,a,i,o.isIndexable)),oh(t,a)&&(a=Nn(a,n,r&&r[t],o)),a}function Vk(i,t,e,s){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=t(r,o||s);return a.delete(i),oh(i,l)&&(l=ah(n._scopes,n,i,l)),l}function Nk(i,t,e,s){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&s(i))return t[r.index%t.length];if(ot(t[0])){const l=t,c=n._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=ah(c,n,i,h);t.push(Nn(u,r,o&&o[i],a))}}return t}function Dg(i,t,e){return li(i)?i(t,e):i}const jk=(i,t)=>i===!0?t:typeof i=="string"?ai(t,i):void 0;function zk(i,t,e,s,n){for(const r of t){const o=jk(e,r);if(o){i.add(o);const a=Dg(o._fallback,e,n);if(typeof a<"u"&&a!==e&&a!==s)return a}else if(o===!1&&typeof s<"u"&&e!==s)return null}return!1}function ah(i,t,e,s){const n=t._rootScopes,r=Dg(t._fallback,e,s),o=[...i,...n],a=new Set;a.add(s);let l=$g(a,o,e,r||e,s);return l===null||typeof r<"u"&&r!==e&&(l=$g(a,o,r,l,s),l===null)?!1:rh(Array.from(a),[""],n,r,()=>Hk(t,e,s))}function $g(i,t,e,s,n){for(;e;)e=zk(i,t,e,s,n);return e}function Hk(i,t,e){const s=i._getTarget();t in s||(s[t]={});const n=s[t];return Mt(n)&&ot(e)?e:n||{}}function Wk(i,t,e,s){let n;for(const r of t)if(n=Lg(Bk(r,i),e),typeof n<"u")return oh(i,n)?ah(e,s,i,n):n}function Lg(i,t){for(const e of t){if(!e)continue;const s=e[i];if(typeof s<"u")return s}}function Bg(i){let t=i._keys;return t||(t=i._keys=Uk(i._scopes)),t}function Uk(i){const t=new Set;for(const e of i)for(const s of Object.keys(e).filter(n=>!n.startsWith("_")))t.add(s);return Array.from(t)}function Fg(i,t,e,s){const{iScale:n}=i,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,h;for(a=0,l=s;a<l;++a)c=a+e,h=t[c],o[a]={r:n.parse(ai(h,r),c)};return o}const qk=Number.EPSILON||1e-14,jn=(i,t)=>t<i.length&&!i[t].skip&&i[t],Vg=i=>i==="x"?"y":"x";function Kk(i,t,e,s){const n=i.skip?t:i,r=t,o=e.skip?t:e,a=Xc(r,n),l=Xc(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=s*c,d=s*h;return{previous:{x:r.x-u*(o.x-n.x),y:r.y-u*(o.y-n.y)},next:{x:r.x+d*(o.x-n.x),y:r.y+d*(o.y-n.y)}}}function Yk(i,t,e){const s=i.length;let n,r,o,a,l,c=jn(i,0);for(let h=0;h<s-1;++h)if(l=c,c=jn(i,h+1),!(!l||!c)){if(Lr(t[h],0,qk)){e[h]=e[h+1]=0;continue}n=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=n*o*t[h],e[h+1]=r*o*t[h])}}function Qk(i,t,e="x"){const s=Vg(e),n=i.length;let r,o,a,l=jn(i,0);for(let c=0;c<n;++c){if(o=a,a=l,l=jn(i,c+1),!a)continue;const h=a[e],u=a[s];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${s}`]=u-r*t[c]),l&&(r=(l[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${s}`]=u+r*t[c])}}function Xk(i,t="x"){const e=Vg(t),s=i.length,n=Array(s).fill(0),r=Array(s);let o,a,l,c=jn(i,0);for(o=0;o<s;++o)if(a=l,l=c,c=jn(i,o+1),!!l){if(c){const h=c[t]-l[t];n[o]=h!==0?(c[e]-l[e])/h:0}r[o]=a?c?ls(n[o-1])!==ls(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}Yk(i,n,r),Qk(i,r,t)}function ba(i,t,e){return Math.max(Math.min(i,e),t)}function Gk(i,t){let e,s,n,r,o,a=Ls(i[0],t);for(e=0,s=i.length;e<s;++e)o=r,r=a,a=e<s-1&&Ls(i[e+1],t),r&&(n=i[e],o&&(n.cp1x=ba(n.cp1x,t.left,t.right),n.cp1y=ba(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=ba(n.cp2x,t.left,t.right),n.cp2y=ba(n.cp2y,t.top,t.bottom)))}function Zk(i,t,e,s,n){let r,o,a,l;if(t.spanGaps&&(i=i.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Xk(i,n);else{let c=s?i[i.length-1]:i[0];for(r=0,o=i.length;r<o;++r)a=i[r],l=Kk(c,a,i[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Gk(i,e)}function lh(){return typeof window<"u"&&typeof document<"u"}function ch(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function _a(i,t,e){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=i,s}const va=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Jk(i,t){return va(i).getPropertyValue(t)}const t1=["top","right","bottom","left"];function Ki(i,t,e){const s={};e=e?"-"+e:"";for(let n=0;n<4;n++){const r=t1[n];s[r]=parseFloat(i[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const e1=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function s1(i,t){const e=i.touches,s=e&&e.length?e[0]:i,{offsetX:n,offsetY:r}=s;let o=!1,a,l;if(e1(n,r,i.target))a=n,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Yi(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:s}=t,n=va(e),r=n.boxSizing==="border-box",o=Ki(n,"padding"),a=Ki(n,"border","width"),{x:l,y:c,box:h}=s1(i,e),u=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/f*e.width/s),y:Math.round((c-d)/g*e.height/s)}}function i1(i,t,e){let s,n;if(t===void 0||e===void 0){const r=i&&ch(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{const o=r.getBoundingClientRect(),a=va(r),l=Ki(a,"border","width"),c=Ki(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,s=_a(a.maxWidth,r,"clientWidth"),n=_a(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||ua,maxHeight:n||ua}}const ya=i=>Math.round(i*10)/10;function n1(i,t,e,s){const n=va(i),r=Ki(n,"margin"),o=_a(n.maxWidth,i,"clientWidth")||ua,a=_a(n.maxHeight,i,"clientHeight")||ua,l=i1(i,t,e);let{width:c,height:h}=l;if(n.boxSizing==="content-box"){const d=Ki(n,"border","width"),f=Ki(n,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,s?c/s:h-r.height),c=ya(Math.min(c,o,l.maxWidth)),h=ya(Math.min(h,a,l.maxHeight)),c&&!h&&(h=ya(c/2)),(t!==void 0||e!==void 0)&&s&&l.height&&h>l.height&&(h=l.height,c=ya(Math.floor(h*s))),{width:c,height:h}}function Ng(i,t,e){const s=t||1,n=Math.floor(i.height*s),r=Math.floor(i.width*s);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||o.height!==n||o.width!==r?(i.currentDevicePixelRatio=s,o.height=n,o.width=r,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const r1=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};lh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function jg(i,t){const e=Jk(i,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Qi(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function o1(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function a1(i,t,e,s){const n={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},o=Qi(i,n,e),a=Qi(n,r,e),l=Qi(r,t,e),c=Qi(o,a,e),h=Qi(a,l,e);return Qi(c,h,e)}const l1=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},c1=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function zn(i,t,e){return i?l1(t,e):c1()}function zg(i,t){let e,s;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=s)}function Hg(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Wg(i){return i==="angle"?{between:Br,compare:hk,normalize:Ce}:{between:Ds,compare:(t,e)=>t-e,normalize:t=>t}}function Ug({start:i,end:t,count:e,loop:s,style:n}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:n}}function h1(i,t,e){const{property:s,start:n,end:r}=e,{between:o,normalize:a}=Wg(s),l=t.length;let{start:c,end:h,loop:u}=i,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),n,r);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:i.style}}function qg(i,t,e){if(!e)return[i];const{property:s,start:n,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=Wg(s),{start:h,end:u,loop:d,style:f}=h1(i,t,e),g=[];let p=!1,m=null,b,_,w;const x=()=>l(n,w,b)&&a(n,w)!==0,v=()=>a(r,b)===0||l(r,w,b),y=()=>p||x(),k=()=>!p||v();for(let T=h,M=h;T<=u;++T)_=t[T%o],!_.skip&&(b=c(_[s]),b!==w&&(p=l(b,n,r),m===null&&y()&&(m=a(b,n)===0?T:M),m!==null&&k()&&(g.push(Ug({start:m,end:T,loop:d,count:o,style:f})),m=null),M=T,w=b));return m!==null&&g.push(Ug({start:m,end:u,loop:d,count:o,style:f})),g}function Kg(i,t){const e=[],s=i.segments;for(let n=0;n<s.length;n++){const r=qg(s[n],i.points,t);r.length&&e.push(...r)}return e}function u1(i,t,e,s){let n=0,r=t-1;if(e&&!s)for(;n<t&&!i[n].skip;)n++;for(;n<t&&i[n].skip;)n++;for(n%=t,e&&(r+=n);r>n&&i[r%t].skip;)r--;return r%=t,{start:n,end:r}}function d1(i,t,e,s){const n=i.length,r=[];let o=t,a=i[t],l;for(l=t+1;l<=e;++l){const c=i[l%n];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%n,end:(l-1)%n,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%n,end:o%n,loop:s}),r}function f1(i,t){const e=i.points,s=i.options.spanGaps,n=e.length;if(!n)return[];const r=!!i._loop,{start:o,end:a}=u1(e,n,r,s);if(s===!0)return Yg(i,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+n:a,c=!!i._fullLoop&&o===0&&a===n-1;return Yg(i,d1(e,o,l,c),e,t)}function Yg(i,t,e,s){return!s||!s.setContext||!e?t:p1(i,t,e,s)}function p1(i,t,e,s){const n=i._chart.getContext(),r=Qg(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,l=e.length,c=[];let h=r,u=t[0].start,d=u;function f(g,p,m,b){const _=a?-1:1;if(g!==p){for(g+=l;e[g%l].skip;)g-=_;for(;e[p%l].skip;)p+=_;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),h=b,u=p%l)}}for(const g of t){u=a?u:g.start;let p=e[u%l],m;for(d=u+1;d<=g.end;d++){const b=e[d%l];m=Qg(s.setContext(hi(n,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),g1(m,h)&&f(u,d-1,g.loop,h),p=b,h=m}u<d-1&&f(u,d-1,g.loop,h)}return c}function Qg(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function g1(i,t){if(!t)return!1;const e=[],s=function(n,r){return Jc(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class m1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,n){const r=e.listeners[n],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(s-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=yg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,s,t,"progress")),r.length||(s.running=!1,this._notify(n,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,n)=>Math.max(s,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Bs=new m1;const Xg="transparent",b1={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=Ag(i||Xg),n=s.valid&&Ag(t||Xg);return n&&n.valid?n.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class _1{constructor(t,e,s,n){const r=e[s];n=zr([t.to,n,r,t.from]);const o=zr([t.from,r,n]);this._active=!0,this._fn=t.fn||b1[t.type||typeof o],this._easing=Fr[t.easing]||Fr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const n=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=zr([t.to,e,n,t.from]),this._from=zr([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<s),!this._active){this._target[n]=a,this._notify(!0);return}if(e<0){this._target[n]=r;return}l=e/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][e]()}}class Gg{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ot(t))return;const e=Object.keys(Tt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!ot(r))return;const o={};for(const a of e)o[a]=r[a];(Mt(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,e){const s=e.options,n=y1(t,s);if(!n)return[];const r=this._createAnimations(n,s);return s.$shared&&v1(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,e));continue}const h=e[c];let u=r[c];const d=s.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=u=new _1(d,t,c,h),n.push(u)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Bs.add(this._chart,s),!0}}function v1(i,t){const e=[],s=Object.keys(t);for(let n=0;n<s.length;n++){const r=i[s[n]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function y1(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Zg(i,t){const e=i&&i.options||{},s=e.reverse,n=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:n,end:s?n:r}}function w1(i,t,e){if(e===!1)return!1;const s=Zg(i,e),n=Zg(t,e);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function x1(i){let t,e,s,n;return ot(i)?(t=i.top,e=i.right,s=i.bottom,n=i.left):t=e=s=n=i,{top:t,right:e,bottom:s,left:n,disabled:i===!1}}function Jg(i,t){const e=[],s=i._getSortedDatasetMetas(t);let n,r;for(n=0,r=s.length;n<r;++n)e.push(s[n].index);return e}function tm(i,t,e,s={}){const n=i.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let h=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===e){if(h=!0,s.all)continue;break}c=i.values[l],Rt(c)&&(r||t===0||ls(t)===ls(c))&&(t+=c)}return!h&&!s.all?0:t}function k1(i,t){const{iScale:e,vScale:s}=t,n=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[n]:h,[r]:i[h]};return a}function hh(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function C1(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function S1(i){const{min:t,max:e,minDefined:s,maxDefined:n}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function A1(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function em(i,t,e,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const r=i[n.index];if(e&&r>0||!e&&r<0)return n.index}return null}function sm(i,t){const{chart:e,_cachedMeta:s}=i,n=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,h=C1(r,o,s),u=t.length;let d;for(let f=0;f<u;++f){const g=t[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});d=b[c]=A1(n,h,p),d[a]=m,d._top=em(d,o,!0,s.type),d._bottom=em(d,o,!1,s.type);const _=d._visualValues||(d._visualValues={});_[a]=m}}function uh(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function M1(i,t){return hi(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function T1(i,t,e){return hi(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hr(i,t){const e=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const n of t){const r=n._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const dh=i=>i==="reset"||i==="none",im=(i,t)=>t?i:Object.assign({},i),P1=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Jg(e,!0),values:null};class ze{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),n=(u,d,f,g)=>u==="x"?d:u==="r"?g:f,r=e.xAxisID=Z(s.xAxisID,uh(t,"x")),o=e.yAxisID=Z(s.yAxisID,uh(t,"y")),a=e.rAxisID=Z(s.rAxisID,uh(t,"r")),l=e.indexAxis,c=e.iAxisID=n(l,r,o,a),h=e.vAxisID=n(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_g(this._data,this),t._stacked&&Hr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(ot(e)){const n=this._cachedMeta;this._data=k1(e,n)}else if(s!==e){if(s){_g(s,this);const n=this._cachedMeta;Hr(n),n._parsed=[]}e&&Object.isExtensible(e)&&pk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=hh(e.vScale,e),e.stack!==s.stack&&(n=!0,Hr(e),e.stack=s.stack),this._resyncElements(t),(n||r!==e._stacked)&&(sm(this,e._parsed),e._stacked=hh(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:n}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&e===n.length?!0:s._sorted,c=t>0&&s._parsed[t-1],h,u,d;if(this._parsing===!1)s._parsed=n,s._sorted=!0,d=n;else{Mt(n[t])?d=this.parseArrayData(s,n,t,e):ot(n[t])?d=this.parseObjectData(s,n,t,e):d=this.parsePrimitiveData(s,n,t,e);const f=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)s._parsed[h+t]=u=d[h],l&&(f()&&(l=!1),c=u);s._sorted=l}o&&sm(this,d)}parsePrimitiveData(t,e,s,n){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(n);let d,f,g;for(d=0,f=n;d<f;++d)g=d+s,u[d]={[a]:h||r.parse(c[g],g),[l]:o.parse(e[g],g)};return u}parseArrayData(t,e,s,n){const{xScale:r,yScale:o}=t,a=new Array(n);let l,c,h,u;for(l=0,c=n;l<c;++l)h=l+s,u=e[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,e,s,n){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let h,u,d,f;for(h=0,u=n;h<u;++h)d=h+s,f=e[d],c[h]={x:r.parse(ai(f,a),d),y:o.parse(ai(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const n=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:Jg(n,!0),values:e._stacks[t.axis]._visualValues};return tm(a,o,r.index,{mode:s})}updateRangeFromParsed(t,e,s,n){const r=s[e.axis];let o=r===null?NaN:r;const a=n&&s._stacks[e.axis];n&&a&&(n.values=a,o=tm(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const s=this._cachedMeta,n=s._parsed,r=s._sorted&&t===s.iScale,o=n.length,a=this._getOtherScale(t),l=P1(e,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=S1(a);let d,f;function g(){f=n[d];const p=f[a.axis];return!Rt(f[t.axis])||h>p||u<p}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n][t.axis],Rt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=x1(Z(this.options.clip,w1(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,n=s.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const u=n[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=T1(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=M1(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const n=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&$r(s);if(a)return im(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(Tt.elements[t]),g=()=>this.getContext(s,n,e),p=c.resolveNamedOptions(d,f,g,u);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(im(p,l))),p}_resolveAnimations(t,e,s){const n=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(t,s,e))}const c=new Gg(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||dh(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:o}}updateElement(t,e,s,n){dh(n)?Object.assign(t,s):this._resolveAnimations(e,n).update(t,s)}updateSharedOptions(t,e,s){t&&!dh(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,s,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=s.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,s=!0){const n=this._cachedMeta,r=n.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,n){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,e);s._stacked&&Hr(s,n)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,n]=t;this[e](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ze.defaults={},ze.datasetElementType=null,ze.dataElementType=null;function I1(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let s=[];for(let n=0,r=e.length;n<r;n++)s=s.concat(e[n].controller.getAllParsedValues(i));i._cache.$bar=vg(s.sort((n,r)=>n-r))}return i._cache.$bar}function E1(i){const t=i.iScale,e=I1(t,i.type);let s=t._length,n,r,o,a;const l=()=>{o===32767||o===-32768||($r(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(n=0,r=e.length;n<r;++n)o=t.getPixelForValue(e[n]),l();for(a=void 0,n=0,r=t.ticks.length;n<r;++n)o=t.getPixelForTick(n),l();return s}function O1(i,t,e,s){const n=e.barThickness;let r,o;return ut(n)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=n*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[i]-r/2}}function R1(i,t,e,s){const n=t.pixels,r=n[i];let o=i>0?n[i-1]:null,a=i<n.length-1?n[i+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:e.barPercentage,start:c}}function D1(i,t,e,s){const n=e.parse(i[0],s),r=e.parse(i[1],s),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}function nm(i,t,e,s){return Mt(i)?D1(i,t,e,s):t[e.axis]=e.parse(i,s),t}function rm(i,t,e,s){const n=i.iScale,r=i.vScale,o=n.getLabels(),a=n===r,l=[];let c,h,u,d;for(c=e,h=e+s;c<h;++c)d=t[c],u={},u[n.axis]=a||n.parse(o[c],c),l.push(nm(d,u,r,c));return l}function fh(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function $1(i,t,e){return i!==0?ls(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function L1(i){let t,e,s,n,r;return i.horizontal?(t=i.base>i.x,e="left",s="right"):(t=i.base<i.y,e="bottom",s="top"),t?(n="end",r="start"):(n="start",r="end"),{start:e,end:s,reverse:t,top:n,bottom:r}}function B1(i,t,e,s){let n=t.borderSkipped;const r={};if(!n){i.borderSkipped=r;return}if(n===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=L1(i);n==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===s?n=c:(e._bottom||0)===s?n=h:(r[om(h,o,a,l)]=!0,n=c)),r[om(n,o,a,l)]=!0,i.borderSkipped=r}function om(i,t,e,s){return s?(i=F1(i,t,e),i=am(i,e,t)):i=am(i,t,e),i}function F1(i,t,e){return i===t?e:i===e?t:i}function am(i,t,e){return i==="start"?t:i==="end"?e:i}function V1(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class wa extends ze{parsePrimitiveData(t,e,s,n){return rm(t,e,s,n)}parseArrayData(t,e,s,n){return rm(t,e,s,n)}parseObjectData(t,e,s,n){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[];let d,f,g,p;for(d=s,f=s+n;d<f;++d)p=e[d],g={},g[r.axis]=r.parse(ai(p,c),d),u.push(nm(ai(p,h),g,o,d));return u}updateRangeFromParsed(t,e,s,n){super.updateRangeFromParsed(t,e,s,n);const r=s._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:n}=e,r=this.getParsed(t),o=r._custom,a=fh(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,n);for(let f=e;f<e+s;f++){const g=this.getParsed(f),p=r||ut(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,h),b=(g._stacks||{})[a.axis],_={horizontal:c,base:p.base,enableBorderRadius:!b||fh(g._custom)||o===b._top||o===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(_.options=u||this.resolveDataElementOptions(f,t[f].active?"active":n));const w=_.options||t[f].options;B1(_,w,b,o),V1(_,w,h.ratio),this.updateElement(t[f],f,_,n)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[s.axis],c=h=>{const u=h._parsed.find(f=>f[s.axis]===l),d=u&&u[h.vScale.axis];if(ut(d)||isNaN(d))return!0};for(const h of n)if(!(e!==void 0&&c(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){const n=this._getStacks(t,s),r=e!==void 0?n.indexOf(e):-1;return r===-1?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||E1(e),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,h=fh(c);let u=l[e.axis],d=0,f=s?this.applyStack(e,l,s):u,g,p;f!==u&&(d=f-u,f=u),h&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&ls(u)!==ls(c.barEnd)&&(d=0),d+=u);const m=!ut(r)&&!h?r:d;let b=e.getPixelForValue(m);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(d+f):g=b,p=g-b,Math.abs(p)<o){p=$1(p,e,a)*o,u===a&&(b-=p/2);const _=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),x=Math.min(_,w),v=Math.max(_,w);b=Math.max(Math.min(b,v),x),g=b+p,s&&!h&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(g)-e.getValueForPixel(b))}if(b===e.getPixelForValue(a)){const _=ls(p)*e.getLineWidthForValue(a)/2;b+=_,p-=_}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(t,e){const s=e.scale,n=this.options,r=n.skipNull,o=Z(n.maxBarThickness,1/0);let a,l;if(e.grouped){const c=r?this._getStackCount(t):e.stackCount,h=n.barThickness==="flex"?R1(t,e,n,c):O1(t,e,n,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,n=s.length;let r=0;for(;r<n;++r)this.getParsed(r)[e.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}wa.id="bar",wa.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},wa.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class xa extends ze{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,n){const r=super.parsePrimitiveData(t,e,s,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,e,s,n){const r=super.parseArrayData(t,e,s,n);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=Z(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,e,s,n){const r=super.parseObjectData(t,e,s,n);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=Z(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,n){const r=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,n),h=o.axis,u=a.axis;for(let d=e;d<e+s;d++){const f=t[d],g=!r&&this.getParsed(d),p={},m=p[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[h]),b=p[u]=r?a.getBasePixel():a.getPixelForValue(g[u]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":n),r&&(p.options.radius=0)),this.updateElement(f,d,p,n)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return e!=="active"&&(n.radius=0),n.radius+=Z(s&&s._custom,r),n}}xa.id="bubble",xa.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},xa.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};function N1(i,t,e){let s=1,n=1,r=0,o=0;if(t<Ct){const a=i,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(w,x,v)=>Br(w,a,l,!0)?1:Math.max(x,x*e,v,v*e),g=(w,x,v)=>Br(w,a,l,!0)?-1:Math.min(x,x*e,v,v*e),p=f(0,c,u),m=f(Lt,h,d),b=g(kt,c,u),_=g(kt+Lt,h,d);s=(p-b)/2,n=(m-_)/2,r=-(p+b)/2,o=-(m+_)/2}return{ratioX:s,ratioY:n,offsetX:r,offsetY:o}}class Xi extends ze{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=s;else{let r=l=>+s[l];if(ot(s[t])){const{key:l="value"}=this._parsing;r=c=>+ai(s[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)n._parsed[o]=r(o)}}_getRotation(){return je(this.options.rotation-90)}_getCircumference(){return je(this.options.circumference)}_getRotationExtents(){let t=Ct,e=-Ct;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,r=n._getRotation(),o=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(tk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=N1(u,h,l),m=(s.width-o)/d,b=(s.height-o)/f,_=Math.max(Math.min(m,b)/2,0),w=lg(this.options.radius,_),x=Math.max(w*l,0),v=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,n.total=this.calculateTotal(),this.outerRadius=w-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/Ct)}updateElements(t,e,s,n){const r=n==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,n);let b=this._getRotation(),_;for(_=0;_<e;++_)b+=this._circumference(_,r);for(_=e;_<e+s;++_){const w=this._circumference(_,r),x=t[_],v={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:f};m&&(v.options=p||this.resolveDataElementOptions(_,x.active?"active":n)),b+=w,this.updateElement(x,_,v,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,n;for(n=0;n<e.length;n++){const r=t._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!e[n].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ct*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,n=s.data.labels||[],r=Vr(e._parsed[t],s.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let n,r,o,a,l;if(!t){for(n=0,r=s.data.datasets.length;n<r;++n)if(s.isDatasetVisible(n)){o=s.getDatasetMeta(n),t=o.data,a=o.controller;break}}if(!t)return 0;for(n=0,r=t.length;n<r;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,n=t.length;s<n;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Xi.id="doughnut",Xi.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Xi.descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")},Xi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e,color:s}}=i.legend.options;return t.labels.map((n,r)=>{const a=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:s,lineWidth:a.borderWidth,pointStyle:e,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}}}};class ka extends ze{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=xg(e,n,o);this._drawStart=a,this._drawCount=l,kg(e)&&(a=0,l=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(n,a,l,t)}updateElements(t,e,s,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,n),d=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Vn(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||n==="none",_=e+s,w=t.length;let x=e>0&&this.getParsed(e-1);for(let v=0;v<w;++v){const y=t[v],k=b?y:{};if(v<e||v>=_){k.skip=!0;continue}const T=this.getParsed(v),M=ut(T[f]),O=k[d]=o.getPixelForValue(T[d],v),$=k[f]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],v);k.skip=isNaN(O)||isNaN($)||M,k.stop=v>0&&Math.abs(T[d]-x[d])>m,p&&(k.parsed=T,k.raw=c.data[v]),u&&(k.options=h||this.resolveDataElementOptions(v,y.active?"active":n)),b||this.updateElement(y,v,k,n),x=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ka.id="line",ka.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},ka.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Wr extends ze{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,n=s.data.labels||[],r=Vr(e._parsed[t].r,s.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,s,n){return Fg.bind(this)(t,e,s,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,s,n){const r=n==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*kt;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<e;++g)f+=this._computeAngle(g,n,p);for(g=e;g<e+s;g++){const m=t[g];let b=f,_=f+this._computeAngle(g,n,p),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=_,r&&(l.animateScale&&(w=0),l.animateRotate&&(b=_=d));const x={x:h,y:u,innerRadius:0,outerRadius:w,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(g,m.active?"active":n)};this.updateElement(m,g,x,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((s,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?je(this.resolveDataElementOptions(t,e).angle||s):0}}Wr.id="polarArea",Wr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Wr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e,color:s}}=i.legend.options;return t.labels.map((n,r)=>{const a=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:s,lineWidth:a.borderWidth,pointStyle:e,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ph extends Xi{}ph.id="pie",ph.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ca extends ze{getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,n){return Fg.bind(this)(t,e,s,n)}update(t){const e=this._cachedMeta,s=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(s.points=n,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,s,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let a=e;a<e+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":n),h=r.getPointPositionForValue(a,this.getParsed(a).r),u=o?r.xCenter:h.x,d=o?r.yCenter:h.y,f={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,a,f,n)}}}Ca.id="radar",Ca.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Ca.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Sa extends ze{getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:o}=xg(e,s,n);if(this._drawStart=r,this._drawCount=o,kg(e)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(h),d=this.includeOptions(n,u),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=Vn(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||n==="none";let w=e>0&&this.getParsed(e-1);for(let x=e;x<e+s;++x){const v=t[x],y=this.getParsed(x),k=_?v:{},T=ut(y[g]),M=k[f]=o.getPixelForValue(y[f],x),O=k[g]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,y,l):y[g],x);k.skip=isNaN(M)||isNaN(O)||T,k.stop=x>0&&Math.abs(y[f]-w[f])>b,m&&(k.parsed=y,k.raw=c.data[x]),d&&(k.options=u||this.resolveDataElementOptions(x,v.active?"active":n)),_||this.updateElement(v,x,k,n),w=y}this.updateSharedOptions(u,n,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,n=s.options&&s.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,o)/2}}Sa.id="scatter",Sa.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Sa.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};var j1=Object.freeze({__proto__:null,BarController:wa,BubbleController:xa,DoughnutController:Xi,LineController:ka,PieController:ph,PolarAreaController:Wr,RadarController:Ca,ScatterController:Sa});function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gh{static override(t){Object.assign(gh.prototype,t)}constructor(t){this.options=void 0,this.options=t||{}}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var z1={_date:gh};function H1(i,t,e,s){const{controller:n,data:r,_sorted:o}=i,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?dk:$s;if(s){if(n._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const u=l(r,t,e-h),d=l(r,t,e+h);return{lo:u.lo,hi:d.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Ur(i,t,e,s,n){const r=i.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:d}=H1(r[a],t,o,n);for(let f=u;f<=d;++f){const g=h[f];g.skip||s(g,c,f)}}}function W1(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,n){const r=t?Math.abs(s.x-n.x):0,o=e?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function mh(i,t,e,s,n){const r=[];return!n&&!i.isPointInArea(t)||Ur(i,e,t,function(a,l,c){!n&&!Ls(a,i.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function U1(i,t,e,s){let n=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:u}=mg(o,{x:t.x,y:t.y});Br(u,c,h)&&n.push({element:o,datasetIndex:a,index:l})}return Ur(i,e,t,r),n}function q1(i,t,e,s,n,r){let o=[];const a=W1(e);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(t.x,t.y,n);if(s&&!f)return;const g=h.getCenterPoint(n);if(!(!!r||i.isPointInArea(g))&&!f)return;const m=a(t,g);m<l?(o=[{element:h,datasetIndex:u,index:d}],l=m):m===l&&o.push({element:h,datasetIndex:u,index:d})}return Ur(i,e,t,c),o}function bh(i,t,e,s,n,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!s?U1(i,t,e,n):q1(i,t,e,s,n,r)}function lm(i,t,e,s,n){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return Ur(i,e,t,(l,c,h)=>{l[o]&&l[o](t[e],n)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,n))}),s&&!a?[]:r}var K1={evaluateInteractionItems:Ur,modes:{index(i,t,e,s){const n=Yi(t,i),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?mh(i,n,r,s,o):bh(i,n,r,!1,s,o),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(i,t,e,s){const n=Yi(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?mh(i,n,r,s,o):bh(i,n,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(i,t,e,s){const n=Yi(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return mh(i,n,r,s,o)},nearest(i,t,e,s){const n=Yi(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return bh(i,n,r,e.intersect,s,o)},x(i,t,e,s){const n=Yi(t,i);return lm(i,n,"x",e.intersect,s)},y(i,t,e,s){const n=Yi(t,i);return lm(i,n,"y",e.intersect,s)}}};const cm=["left","top","right","bottom"];function qr(i,t){return i.filter(e=>e.pos===t)}function hm(i,t){return i.filter(e=>cm.indexOf(e.pos)===-1&&e.box.axis===t)}function Kr(i,t){return i.sort((e,s)=>{const n=t?s:e,r=t?e:s;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function Y1(i){const t=[];let e,s,n,r,o,a;for(e=0,s=(i||[]).length;e<s;++e)n=i[e],{position:r,options:{stack:o,stackWeight:a=1}}=n,t.push({index:e,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return t}function Q1(i){const t={};for(const e of i){const{stack:s,pos:n,stackWeight:r}=e;if(!s||!cm.includes(n))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function X1(i,t){const e=Q1(i),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let r,o,a;for(r=0,o=i.length;r<o;++r){a=i[r];const{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*s:l&&t.availableWidth,a.height=n):(a.width=s,a.height=h?h*n:l&&t.availableHeight)}return e}function G1(i){const t=Y1(i),e=Kr(t.filter(c=>c.box.fullSize),!0),s=Kr(qr(t,"left"),!0),n=Kr(qr(t,"right")),r=Kr(qr(t,"top"),!0),o=Kr(qr(t,"bottom")),a=hm(t,"x"),l=hm(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:qr(t,"chartArea"),vertical:s.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function um(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function dm(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Z1(i,t,e,s){const{pos:n,box:r}=e,o=i.maxPadding;if(!ot(n)){e.size&&(i[n]-=e.size);const u=s[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,i[n]+=e.size}r.getPadding&&dm(o,r.getPadding());const a=Math.max(0,t.outerWidth-um(o,i,"left","right")),l=Math.max(0,t.outerHeight-um(o,i,"top","bottom")),c=a!==i.w,h=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function J1(i){const t=i.maxPadding;function e(s){const n=Math.max(t[s]-i[s],0);return i[s]+=n,n}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function tC(i,t){const e=t.maxPadding;function s(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return s(i?["left","right"]:["top","bottom"])}function Yr(i,t,e,s){const n=[];let r,o,a,l,c,h;for(r=0,o=i.length,c=0;r<o;++r){a=i[r],l=a.box,l.update(a.width||t.w,a.height||t.h,tC(a.horizontal,t));const{same:u,other:d}=Z1(t,e,a,s);c|=u&&n.length,h=h||d,l.fullSize||n.push(a)}return c&&Yr(n,t,e,s)||h}function Aa(i,t,e,s,n){i.top=e,i.left=t,i.right=t+s,i.bottom=e+n,i.width=s,i.height=n}function fm(i,t,e,s){const n=e.padding;let{x:r,y:o}=t;for(const a of i){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,d=c.size||l.height;$r(c.start)&&(o=c.start),l.fullSize?Aa(l,n.left,o,e.outerWidth-n.right-n.left,d):Aa(l,t.left+c.placed,o,u,d),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*h,d=c.size||l.width;$r(c.start)&&(r=c.start),l.fullSize?Aa(l,r,n.top,d,e.outerHeight-n.bottom-n.top):Aa(l,r,t.top+c.placed,d,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var ae={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,s){if(!i)return;const n=oe(i.options.layout.padding),r=Math.max(t-n.width,0),o=Math.max(e-n.height,0),a=G1(i.boxes),l=a.vertical,c=a.horizontal;gt(i.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},n);dm(d,oe(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),g=X1(l.concat(c),u);Yr(a.fullSize,f,u,g),Yr(l,f,u,g),Yr(c,f,u,g)&&Yr(l,f,u,g),J1(f),fm(a.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,fm(a.rightAndBottom,f,u,g),i.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gt(a.chartArea,p=>{const m=p.box;Object.assign(m,i.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class pm{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,n){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):s)}}isAttached(t){return!0}updateConfig(t){}}class eC extends pm{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ma="$chartjs",sC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gm=i=>i===null||i==="";function iC(i,t){const e=i.style,s=i.getAttribute("height"),n=i.getAttribute("width");if(i[Ma]={initial:{height:s,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",gm(n)){const r=jg(i,"width");r!==void 0&&(i.width=r)}if(gm(s))if(i.style.height==="")i.height=i.width/(t||2);else{const r=jg(i,"height");r!==void 0&&(i.height=r)}return i}const mm=r1?{passive:!0}:!1;function nC(i,t,e){i&&i.addEventListener(t,e,mm)}function rC(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,mm)}function oC(i,t){const e=sC[i.type]||i.type,{x:s,y:n}=Yi(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:n!==void 0?n:null}}function Ta(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function aC(i,t,e){const s=i.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ta(a.addedNodes,s),o=o&&!Ta(a.removedNodes,s);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function lC(i,t,e){const s=i.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ta(a.removedNodes,s),o=o&&!Ta(a.addedNodes,s);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}const Qr=new Map;let bm=0;function _m(){const i=window.devicePixelRatio;i!==bm&&(bm=i,Qr.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function cC(i,t){Qr.size||window.addEventListener("resize",_m),Qr.set(i,t)}function hC(i){Qr.delete(i),Qr.size||window.removeEventListener("resize",_m)}function uC(i,t,e){const s=i.canvas,n=s&&ch(s);if(!n)return;const r=wg((a,l)=>{const c=n.clientWidth;e(a,l),c<n.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(n),cC(i,r),o}function _h(i,t,e){e&&e.disconnect(),t==="resize"&&hC(i)}function dC(i,t,e){const s=i.canvas,n=wg(r=>{i.ctx!==null&&e(oC(r,i))},i);return nC(s,t,n),n}class fC extends pm{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(iC(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Ma])return!1;const s=e[Ma].initial;["height","width"].forEach(r=>{const o=s[r];ut(o)?e.removeAttribute(r):e.setAttribute(r,o)});const n=s.style||{};return Object.keys(n).forEach(r=>{e.style[r]=n[r]}),e.width=e.width,delete e[Ma],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),o={attach:aC,detach:lC,resize:uC}[e]||dC;n[e]=o(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),n=s[e];if(!n)return;({attach:_h,detach:_h,resize:_h}[e]||rC)(t,e,n),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,n){return n1(t,e,s,n)}isAttached(t){const e=t&&ch(t);return!!(e&&e.isConnected)}}function pC(i){return!lh()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?eC:fC}class He{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Vn(this.x)&&Vn(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const n={};return t.forEach(r=>{n[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),n}}He.defaults={},He.defaultRoutes=void 0;function gC(i,t){const e=i.options.ticks,s=mC(i),n=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?_C(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return vC(t,c,r,o/n),c;const h=bC(r,t,n);if(o>0){let u,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Pa(t,c,h,ut(f)?0:a-f,a),u=0,d=o-1;u<d;u++)Pa(t,c,h,r[u],r[u+1]);return Pa(t,c,h,l,ut(f)?t.length:l+f),c}return Pa(t,c,h),c}function mC(i){const t=i.options.offset,e=i._tickSize(),s=i._length/e+(t?0:1),n=i._maxLength/e;return Math.floor(Math.min(s,n))}function bC(i,t,e){const s=yC(i),n=t.length/e;if(!s)return Math.max(n,1);const r=lk(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function _C(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++)i[e].major&&t.push(e);return t}function vC(i,t,e,s){let n=0,r=e[0],o;for(s=Math.ceil(s),o=0;o<i.length;o++)o===r&&(t.push(i[o]),n++,r=e[n*s])}function Pa(i,t,e,s,n){const r=Z(s,0),o=Math.min(Z(n,i.length),i.length);let a=0,l,c,h;for(e=Math.ceil(e),n&&(l=n-s,e=l/Math.floor(l/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(i[c]),a++,h=Math.round(r+a*e))}function yC(i){const t=i.length;let e,s;if(t<2)return!1;for(s=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==s)return!1;return s}const wC=i=>i==="left"?"right":i==="right"?"left":i,vm=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,ym=(i,t)=>Math.min(t||i,i);function wm(i,t){const e=[],s=i.length/t,n=i.length;let r=0;for(;r<n;r+=s)e.push(i[Math.floor(r)]);return e}function xC(i,t,e){const s=i.ticks.length,n=Math.min(t,s-1),r=i._startPixel,o=i._endPixel,a=1e-6;let l=i.getPixelForTick(n),c;if(!(e&&(s===1?c=Math.max(l-r,o-l):t===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<r-a||l>o+a)))return l}function kC(i,t){gt(i,e=>{const s=e.gc,n=s.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[s[r]];s.splice(0,n)}})}function Xr(i){return i.drawTicks?i.tickLength:0}function xm(i,t){if(!i.display)return 0;const e=Ut(i.font,t),s=oe(i.padding);return(Mt(i.text)?i.text.length:1)*e.lineHeight+s.height}function CC(i,t){return hi(i,{scale:t,type:"scale"})}function SC(i,t,e){return hi(i,{tick:e,index:t,type:"tick"})}function AC(i,t,e){let s=Zc(i);return(e&&t!=="right"||!e&&t==="right")&&(s=wC(s)),s}function MC(i,t,e,s){const{top:n,left:r,bottom:o,right:a,chart:l}=i,{chartArea:c,scales:h}=l;let u=0,d,f,g;const p=o-n,m=a-r;if(i.isHorizontal()){if(f=re(s,r,a),ot(e)){const b=Object.keys(e)[0],_=e[b];g=h[b].getPixelForValue(_)+p-t}else e==="center"?g=(c.bottom+c.top)/2+p-t:g=vm(i,e,t);d=a-r}else{if(ot(e)){const b=Object.keys(e)[0],_=e[b];f=h[b].getPixelForValue(_)-m+t}else e==="center"?f=(c.left+c.right)/2-m+t:f=vm(i,e,t);g=re(s,o,n),u=e==="left"?-Lt:Lt}return{titleX:f,titleY:g,maxWidth:d,rotation:u}}class Zi extends He{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:n}=this;return t=ke(t,Number.POSITIVE_INFINITY),e=ke(e,Number.NEGATIVE_INFINITY),s=ke(s,Number.POSITIVE_INFINITY),n=ke(n,Number.NEGATIVE_INFINITY),{min:ke(t,s),max:ke(e,n),minDefined:Rt(t),maxDefined:Rt(e)}}getMinMax(t){let{min:e,max:s,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:e,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),n||(e=Math.min(e,o.min)),r||(s=Math.max(s,o.max));return e=r&&e>s?s:e,s=n&&e>s?e:s,{min:ke(e,ke(s,e)),max:ke(s,ke(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Lk(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=gC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,n,r;for(s=0,n=t.length;s<n;s++)r=t[s],r.label=wt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=ym(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!e.display||n>=r||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=Qt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),u+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-Xr(t.grid)-e.padding-xm(t.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),o=Qc(Math.min(Math.asin(Qt((h.highest.height+6)/a,-1,1)),Math.asin(Qt(l/c,-1,1))-Math.asin(Qt(d/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=xm(n,e.options.font);if(a?(t.width=this.maxWidth,t.height=Xr(r)+l):(t.height=this.maxHeight,t.width=Xr(r)+l),s.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=s.padding*2,g=je(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=s.mirror?0:m*u.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:p*u.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,h,m,p)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*t.width,f=s*e.height):(d=s*t.height,f=n*e.width):r==="start"?f=e.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=e.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=e.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)ut(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=wm(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/ym(e,s));let c=0,h=0,u,d,f,g,p,m,b,_,w,x,v;for(u=0;u<e;u+=l){if(g=t[u].label,p=this._resolveTickFontOptions(u),n.font=m=p.string,b=r[m]=r[m]||{data:{},gc:[]},_=p.lineHeight,w=x=0,!ut(g)&&!Mt(g))w=pa(n,b.data,b.gc,w,g),x=_;else if(Mt(g))for(d=0,f=g.length;d<f;++d)v=g[d],!ut(v)&&!Mt(v)&&(w=pa(n,b.data,b.gc,w,v),x+=_);o.push(w),a.push(x),c=Math.max(w,c),h=Math.max(x,h)}kC(r,e);const y=o.indexOf(c),k=a.indexOf(h),T=M=>({width:o[M]||0,height:a[M]||0});return{first:T(0),last:T(e-1),widest:T(y),highest:T(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return uk(this._alignToPixels?Wi(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=SC(this.getContext(),t,s))}return this.$context||(this.$context=CC(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=je(this.labelRotation),s=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*n?a/s:l/n:l*n<a*s?l/s:a/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=Xr(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(I){return Wi(s,I,p)};let _,w,x,v,y,k,T,M,O,$,N,z;if(o==="top")_=b(this.bottom),k=this.bottom-d,M=_-m,$=b(t.top)+m,z=t.bottom;else if(o==="bottom")_=b(this.top),$=t.top,z=b(t.bottom)-m,k=_+m,M=this.top+d;else if(o==="left")_=b(this.right),y=this.right-d,T=_-m,O=b(t.left)+m,N=t.right;else if(o==="right")_=b(this.left),O=t.left,N=b(t.right)-m,y=_+m,T=this.left+d;else if(e==="x"){if(o==="center")_=b((t.top+t.bottom)/2+.5);else if(ot(o)){const I=Object.keys(o)[0],W=o[I];_=b(this.chart.scales[I].getPixelForValue(W))}$=t.top,z=t.bottom,k=_+m,M=k+d}else if(e==="y"){if(o==="center")_=b((t.left+t.right)/2);else if(ot(o)){const I=Object.keys(o)[0],W=o[I];_=b(this.chart.scales[I].getPixelForValue(W))}y=_-m,T=y-d,O=t.left,N=t.right}const H=Z(n.ticks.maxTicksLimit,u),j=Math.max(1,Math.ceil(u/H));for(w=0;w<u;w+=j){const I=this.getContext(w),W=r.setContext(I),nt=a.setContext(I),L=W.lineWidth,J=W.color,A=nt.dash||[],E=nt.dashOffset,S=W.tickWidth,P=W.tickColor,ft=W.tickBorderDash||[],C=W.tickBorderDashOffset;x=xC(this,w,l),x!==void 0&&(v=Wi(s,x,L),c?y=T=O=N=v:k=M=$=z=v,f.push({tx1:y,ty1:k,tx2:T,ty2:M,x1:O,y1:$,x2:N,y2:z,width:L,color:J,borderDash:A,borderDashOffset:E,tickWidth:S,tickColor:P,tickBorderDash:ft,tickBorderDashOffset:C}))}return this._ticksLength=u,this._borderValue=_,f}_computeLabelItems(t){const e=this.axis,s=this.options,{position:n,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,d=Xr(s.grid),f=d+h,g=u?-h:f,p=-je(this.labelRotation),m=[];let b,_,w,x,v,y,k,T,M,O,$,N,z="middle";if(n==="top")y=this.bottom-g,k=this._getXAxisLabelAlignment();else if(n==="bottom")y=this.top+g,k=this._getXAxisLabelAlignment();else if(n==="left"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,v=j.x}else if(n==="right"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,v=j.x}else if(e==="x"){if(n==="center")y=(t.top+t.bottom)/2+f;else if(ot(n)){const j=Object.keys(n)[0],I=n[j];y=this.chart.scales[j].getPixelForValue(I)+f}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")v=(t.left+t.right)/2-f;else if(ot(n)){const j=Object.keys(n)[0],I=n[j];v=this.chart.scales[j].getPixelForValue(I)}k=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const H=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){w=a[b],x=w.label;const j=r.setContext(this.getContext(b));T=this.getPixelForTick(b)+r.labelOffset,M=this._resolveTickFontOptions(b),O=M.lineHeight,$=Mt(x)?x.length:1;const I=$/2,W=j.color,nt=j.textStrokeColor,L=j.textStrokeWidth;let J=k;o?(v=T,k==="inner"&&(b===_-1?J=this.options.reverse?"left":"right":b===0?J=this.options.reverse?"right":"left":J="center"),n==="top"?c==="near"||p!==0?N=-$*O+O/2:c==="center"?N=-H.highest.height/2-I*O+O:N=-H.highest.height+O/2:c==="near"||p!==0?N=O/2:c==="center"?N=H.highest.height/2-I*O:N=H.highest.height-$*O,u&&(N*=-1),p!==0&&!j.showLabelBackdrop&&(v+=O/2*Math.sin(p))):(y=T,N=(1-$)*O/2);let A;if(j.showLabelBackdrop){const E=oe(j.backdropPadding),S=H.heights[b],P=H.widths[b];let ft=N-E.top,C=0-E.left;switch(z){case"middle":ft-=S/2;break;case"bottom":ft-=S;break}switch(k){case"center":C-=P/2;break;case"right":C-=P;break;case"inner":b===_-1?C-=P:b>0&&(C-=P/2);break}A={left:C,top:ft,width:P+E.width,height:S+E.height,color:j.backdropColor}}m.push({label:x,font:M,textOffset:N,options:{rotation:p,color:W,strokeColor:nt,strokeWidth:L,textAlign:J,textBaseline:z,translation:[v,y],backdrop:A}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-je(this.labelRotation))return t==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return e==="left"?n?(h=this.right+r,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?n?(h=this.left+r,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,n,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(r=>r.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(e.display)for(r=0,o=n.length;r<o;++r){const l=n[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:n}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=Wi(t,this.left,o)-o/2,h=Wi(t,this.right,a)+a/2,u=d=l):(u=Wi(t,this.top,o)-o/2,d=Wi(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,n=this._computeLabelArea();n&&ga(s,n);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;Ui(s,c,0,h,l,a)}n&&ma(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:n}}=this;if(!s.display)return;const r=Ut(s.font),o=oe(s.padding),a=s.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||ot(e)?(l+=o.bottom,Mt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=MC(this,l,e,a);Ui(t,s.text,0,0,r,{color:s.color,maxWidth:u,rotation:d,textAlign:AC(a,e,n),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Z(t.grid&&t.grid.z,-1),n=Z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Zi.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[s]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ut(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ia{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;IC(e)&&(s=this.register(e));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,TC(t,o,s),this.override&&Tt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,n=this.scope;s in e&&delete e[s],n&&s in Tt[n]&&(delete Tt[n][s],this.override&&delete Hi[s])}}function TC(i,t,e){const s=Rr(Object.create(null),[e?Tt.get(e):{},Tt.get(t),i.defaults]);Tt.set(t,s),i.defaultRoutes&&PC(t,i.defaultRoutes),i.descriptors&&Tt.describe(t,i.descriptors)}function PC(i,t){Object.keys(t).forEach(e=>{const s=e.split("."),n=s.pop(),r=[i].concat(s).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Tt.route(r,n,l,a)})}function IC(i){return"id"in i&&"defaults"in i}class EC{constructor(){this.controllers=new Ia(ze,"datasets",!0),this.elements=new Ia(He,"elements"),this.plugins=new Ia(Object,"plugins"),this.scales=new Ia(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(n=>{const r=s||this._getRegistryForType(n);s||r.isForType(n)||r===this.plugins&&n.id?this._exec(t,r,n):gt(n,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,s){const n=Yc(t);wt(s["before"+n],[],s),e[t](s),wt(s["after"+n],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const n=e.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return n}}var cs=new EC;class OC{constructor(){this._init=[]}notify(t,e,s,n){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,s,n){n=n||{};for(const r of t){const o=r.plugin,a=o[s],l=[e,n,r.options];if(wt(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,n=Z(s.options&&s.options.plugins,{}),r=RC(s);return n===!1&&!e?[]:$C(t,r,n,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(e,s),t,"stop"),this._notify(n(s,e),t,"start")}}function RC(i){const t={},e=[],s=Object.keys(cs.plugins.items);for(let r=0;r<s.length;r++)e.push(cs.getPlugin(s[r]));const n=i.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function DC(i,t){return!t&&i===!1?null:i===!0?{}:i}function $C(i,{plugins:t,localIds:e},s,n){const r=[],o=i.getContext();for(const a of t){const l=a.id,c=DC(s[l],n);c!==null&&r.push({plugin:a,options:LC(i.config,{plugin:a,local:e[l]},c,o)})}return r}function LC(i,{plugin:t,local:e},s,n){const r=i.pluginScopeKeys(t),o=i.getOptionScopes(s,r);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vh(i,t){const e=Tt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function BC(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function FC(i,t){return i===t?"_index_":"_value_"}function km(i){if(i==="x"||i==="y"||i==="r")return i}function VC(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function yh(i,...t){if(km(i))return i;for(const e of t){const s=e.axis||VC(e.position)||i.length>1&&km(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Cm(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function NC(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(e.length)return Cm(i,"x",e[0])||Cm(i,"y",e[0])}return{}}function jC(i,t){const e=Hi[i.type]||{scales:{}},s=t.scales||{},n=vh(i.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ot(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=yh(o,a,NC(o,i),Tt.scales[a.type]),c=FC(l,n),h=e.scales||{};r[o]=Dr(Object.create(null),[{axis:l},a,h[l],h[c]])}),i.data.datasets.forEach(o=>{const a=o.type||i.type,l=o.indexAxis||vh(a,t),h=(Hi[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=BC(u,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Dr(r[f],[{axis:d},s[f],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];Dr(a,[Tt.scales[a.type],Tt.scale])}),r}function Sm(i){const t=i.options||(i.options={});t.plugins=Z(t.plugins,{}),t.scales=jC(i,t)}function Am(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function zC(i){return i=i||{},i.data=Am(i.data),Sm(i),i}const Mm=new Map,Tm=new Set;function Ea(i,t){let e=Mm.get(i);return e||(e=t(),Mm.set(i,e),Tm.add(e)),e}const Gr=(i,t,e)=>{const s=ai(t,e);s!==void 0&&i.add(s)};class HC{constructor(t){this._config=zC(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Am(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Sm(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ea(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ea(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ea(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Ea(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let n=s.get(t);return(!n||e)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,e,s){const{options:n,type:r}=this,o=this._cachedScopes(t,s),a=o.get(e);if(a)return a;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>Gr(l,t,u))),h.forEach(u=>Gr(l,n,u)),h.forEach(u=>Gr(l,Hi[r]||{},u)),h.forEach(u=>Gr(l,Tt,u)),h.forEach(u=>Gr(l,eh,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Tm.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Hi[e]||{},Tt.datasets[e]||{},{type:e},Tt,eh]}resolveNamedOptions(t,e,s,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Pm(this._resolverCache,t,n);let l=o;if(UC(o,e)){r.$shared=!1,s=li(s)?s():s;const c=this.createResolver(t,s,a);l=Nn(o,s,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,s=[""],n){const{resolver:r}=Pm(this._resolverCache,t,s);return ot(e)?Nn(r,e,void 0,n):r}}function Pm(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const n=e.join();let r=s.get(n);return r||(r={resolver:rh(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},s.set(n,r)),r}const WC=i=>ot(i)&&Object.getOwnPropertyNames(i).some(t=>li(i[t]));function UC(i,t){const{isScriptable:e,isIndexable:s}=Og(i);for(const n of t){const r=e(n),o=s(n),a=(o||r)&&i[n];if(r&&(li(a)||WC(a))||o&&Mt(a))return!0}return!1}var qC="4.4.6";const KC=["top","bottom","left","right","chartArea"];function Im(i,t){return i==="top"||i==="bottom"||KC.indexOf(i)===-1&&t==="x"}function Em(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function Om(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),wt(e&&e.onComplete,[i],t)}function YC(i){const t=i.chart,e=t.options.animation;wt(e&&e.onProgress,[i],t)}function Rm(i){return lh()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Oa={},Dm=i=>{const t=Rm(i);return Object.values(Oa).filter(e=>e.canvas===t).pop()};function QC(i,t,e){const s=Object.keys(i);for(const n of s){const r=+n;if(r>=t){const o=i[n];delete i[n],(e>0||r>t)&&(i[r+e]=o)}}}function XC(i,t,e,s){return!e||i.type==="mouseout"?null:s?t:i}function Ra(i,t,e){return i.options.clip?i[e]:t[e]}function GC(i,t){const{xScale:e,yScale:s}=i;return e&&s?{left:Ra(e,t,"left"),right:Ra(e,t,"right"),top:Ra(s,t,"top"),bottom:Ra(s,t,"bottom")}:t}class Fs{static register(...t){cs.add(...t),$m()}static unregister(...t){cs.remove(...t),$m()}constructor(t,e){const s=this.config=new HC(e),n=Rm(t),r=Dm(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||pC(n)),this.platform.updateConfig(s);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Jx(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gk(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Oa[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bs.listen(this,"complete",Om),Bs.listen(this,"progress",YC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:n,_aspectRatio:r}=this;return ut(t)?e&&r?r:n?s/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return cs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ng(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Pg(this.canvas,this.ctx),this}stop(){return Bs.stop(this),this}resize(t,e){Bs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,n=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,e,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ng(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};gt(e,(s,n)=>{s.id=n})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,n=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=yh(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),gt(r,o=>{const a=o.options,l=a.id,c=yh(l,a),h=Z(a.type,o.dtype);(a.position===void 0||Im(a.position,c)!==Im(o.dposition))&&(a.position=o.dposition),n[l]=!0;let u=null;if(l in s&&s[l].type===h)u=s[l];else{const d=cs.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),s[u.id]=u}u.init(a,t)}),gt(n,(o,a)=>{o||delete s[a]}),gt(s,o=>{ae.configure(this,o,o.options),ae.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((n,r)=>n.index-r.index),s>e){for(let n=e;n<s;++n)this._destroyDatasetMeta(n);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Em("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,n)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=e.length;s<n;s++){const r=e[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||vh(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=cs.getController(a),{datasetElementType:c,dataElementType:h}=Tt.datasets[a];Object.assign(l,{dataElementType:cs.getElement(h),datasetElementType:c&&cs.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){gt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!n&&r.indexOf(u)===-1;u.buildOrUpdateElements(d),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),n||gt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Em("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){gt(this.scales,t=>{ae.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!ug(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:r}of e){const o=s==="_removeElements"?-r:r;QC(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=s(0);for(let r=1;r<e;r++)if(!ug(n,s(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ae.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],gt(this.boxes,n=>{s&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,li(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),n={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(s.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bs.has(this)?this.attached&&!Bs.running(this)&&Bs.start(this):(this.draw(),Om({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let n,r;for(n=0,r=e.length;n<r;++n){const o=e[n];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,n=!s.disabled,r=GC(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&ga(e,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),n&&ma(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ls(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,n){const r=K1.modes[e];return typeof r=="function"?r(this,t,s,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let n=s.filter(r=>r&&r._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=hi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const n=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);$r(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Bs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Pg(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Oa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};gt(this.options.events,r=>s(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),s("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){gt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},gt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const n=s?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ca(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const n=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(e,t),a=s?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:n=[],options:r}=this,o=e,a=this._getActiveElements(t,n,s,o),l=rk(t),c=XC(t,this._lastEvent,s,l);s&&(this._lastEvent=null,wt(r.onHover,[t,a,this],this),l&&wt(r.onClick,[t,a,this],this));const h=!ca(a,n);return(h||e)&&(this._active=a,this._updateHoverStyles(a,n,e)),this._lastEvent=c,h}_getActiveElements(t,e,s,n){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}Fs.defaults=Tt,Fs.instances=Oa,Fs.overrides=Hi,Fs.registry=cs,Fs.version=qC,Fs.getChart=Dm;function $m(){return gt(Fs.instances,i=>i._plugins.invalidate())}function ZC(i,t,e){const{startAngle:s,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=n/a;i.beginPath(),i.arc(r,o,a,s-c,e+c),l>n?(c=n/l,i.arc(r,o,l,e+c,s-c,!0)):i.arc(r,o,n,e+Lt,s-Lt),i.closePath(),i.clip()}function JC(i){return nh(i,["outerStart","outerEnd","innerStart","innerEnd"])}function tS(i,t,e,s){const n=JC(i.options.borderRadius),r=(e-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(e-Math.min(r,l))*s/2;return Qt(l,0,Math.min(r,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Qt(n.innerStart,0,o),innerEnd:Qt(n.innerEnd,0,o)}}function Hn(i,t,e,s){return{x:e+i*Math.cos(t),y:s+i*Math.sin(t)}}function Da(i,t,e,s,n,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+s+e-c,0),d=h>0?h+s+e+c:0;let f=0;const g=n-l;if(s){const j=h>0?h-s:0,I=u>0?u-s:0,W=(j+I)/2,nt=W!==0?g*W/(W+s):g;f=(g-nt)/2}const p=Math.max(.001,g*u-e/kt)/u,m=(g-p)/2,b=l+m+f,_=n-m-f,{outerStart:w,outerEnd:x,innerStart:v,innerEnd:y}=tS(t,d,u,_-b),k=u-w,T=u-x,M=b+w/k,O=_-x/T,$=d+v,N=d+y,z=b+v/$,H=_-y/N;if(i.beginPath(),r){const j=(M+O)/2;if(i.arc(o,a,u,M,j),i.arc(o,a,u,j,O),x>0){const L=Hn(T,O,o,a);i.arc(L.x,L.y,x,O,_+Lt)}const I=Hn(N,_,o,a);if(i.lineTo(I.x,I.y),y>0){const L=Hn(N,H,o,a);i.arc(L.x,L.y,y,_+Lt,H+Math.PI)}const W=(_-y/d+(b+v/d))/2;if(i.arc(o,a,d,_-y/d,W,!0),i.arc(o,a,d,W,b+v/d,!0),v>0){const L=Hn($,z,o,a);i.arc(L.x,L.y,v,z+Math.PI,b-Lt)}const nt=Hn(k,b,o,a);if(i.lineTo(nt.x,nt.y),w>0){const L=Hn(k,M,o,a);i.arc(L.x,L.y,w,b-Lt,M)}}else{i.moveTo(o,a);const j=Math.cos(M)*u+o,I=Math.sin(M)*u+a;i.lineTo(j,I);const W=Math.cos(O)*u+o,nt=Math.sin(O)*u+a;i.lineTo(W,nt)}i.closePath()}function eS(i,t,e,s,n){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){Da(i,t,e,s,l,n);for(let c=0;c<r;++c)i.fill();isNaN(a)||(l=o+(a%Ct||Ct))}return Da(i,t,e,s,l,n),i.fill(),l}function sS(i,t,e,s,n){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;i.setLineDash(u||[]),i.lineDashOffset=d,f?(i.lineWidth=c*2,i.lineJoin=h||"round"):(i.lineWidth=c,i.lineJoin=h||"bevel");let g=t.endAngle;if(r){Da(i,t,e,s,g,n);for(let p=0;p<r;++p)i.stroke();isNaN(a)||(g=o+(a%Ct||Ct))}f&&ZC(i,t,g),r||(Da(i,t,e,s,g,n),i.stroke())}class Zr extends He{constructor(t){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const n=this.getProps(["x","y"],s),{angle:r,distance:o}=mg(n,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=Z(u,l-a),g=Br(r,a,l)&&a!==l,p=f>=Ct||g,m=Ds(o,c+d,h+d);return p&&m}getCenterPoint(t){const{x:e,y:s,startAngle:n,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(n+r)/2,u=(o+a+c+l)/2;return{x:e+Math.cos(h)*u,y:s+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,n=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=s>Ct?Math.floor(s/Ct):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);const l=1-Math.sin(Math.min(kt,s||0)),c=n*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,eS(t,this,c,r,o),sS(t,this,c,r,o),t.restore()}}Zr.id="arc",Zr.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Zr.defaultRoutes={backgroundColor:"backgroundColor"},Zr.descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"};function Lm(i,t,e=t){i.lineCap=Z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Z(e.borderDash,t.borderDash)),i.lineDashOffset=Z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Z(e.borderWidth,t.borderWidth),i.strokeStyle=Z(e.borderColor,t.borderColor)}function iS(i,t,e){i.lineTo(e.x,e.y)}function nS(i){return i.stepped?Mk:i.tension||i.cubicInterpolationMode==="monotone"?Tk:iS}function Bm(i,t,e={}){const s=i.length,{start:n=0,end:r=s-1}=e,{start:o,end:a}=t,l=Math.max(n,o),c=Math.min(r,a),h=n<o&&r<o||n>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function rS(i,t,e,s){const{points:n,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Bm(n,e,s),h=nS(r);let{move:u=!0,reverse:d}=s||{},f,g,p;for(f=0;f<=c;++f)g=n[(a+(d?c-f:f))%o],!g.skip&&(u?(i.moveTo(g.x,g.y),u=!1):h(i,p,g,d,r.stepped),p=g);return l&&(g=n[(a+(d?c:0))%o],h(i,p,g,d,r.stepped)),!!l}function oS(i,t,e,s){const n=t.points,{count:r,start:o,ilen:a}=Bm(n,e,s),{move:l=!0,reverse:c}=s||{};let h=0,u=0,d,f,g,p,m,b;const _=x=>(o+(c?a-x:x))%r,w=()=>{p!==m&&(i.lineTo(h,m),i.lineTo(h,p),i.lineTo(h,b))};for(l&&(f=n[_(0)],i.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=n[_(d)],f.skip)continue;const x=f.x,v=f.y,y=x|0;y===g?(v<p?p=v:v>m&&(m=v),h=(u*h+x)/++u):(w(),i.lineTo(x,v),g=y,u=0,p=m=v),b=v}w()}function wh(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?oS:rS}function aS(i){return i.stepped?o1:i.tension||i.cubicInterpolationMode==="monotone"?a1:Qi}function lS(i,t,e,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,s)&&n.closePath()),Lm(i,t.options),i.stroke(n)}function cS(i,t,e,s){const{segments:n,options:r}=t,o=wh(t);for(const a of n)Lm(i,r,a.style),i.beginPath(),o(i,t,a,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const hS=typeof Path2D=="function";function uS(i,t,e,s){hS&&!t.options.segment?lS(i,t,e,s):cS(i,t,e,s)}class ui extends He{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;Zk(this._points,s,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=f1(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,n=t[e],r=this.points,o=Kg(this,{property:e,start:n,end:n});if(!o.length)return;const a=[],l=aS(s);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:d}=o[c],f=r[u],g=r[d];if(f===g){a.push(f);continue}const p=Math.abs((n-f[e])/(g[e]-f[e])),m=l(f,g,p,s.stepped);m[e]=t[e],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,e,s){return wh(this)(t,this,e,s)}path(t,e,s){const n=this.segments,r=wh(this);let o=this._loop;e=e||0,s=s||this.points.length-e;for(const a of n)o&=r(t,this,a,{start:e,end:e+s-1});return!!o}draw(t,e,s,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),uS(t,this,s,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ui.id="line",ui.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},ui.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},ui.descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};function Fm(i,t,e,s){const n=i.options,{[e]:r}=i.getProps([e],s);return Math.abs(t-r)<n.radius+n.hitRadius}class $a extends He{constructor(t){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return Fm(this,t,"x",e)}inYRange(t,e){return Fm(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!Ls(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,ih(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}$a.id="point",$a.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},$a.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Vm(i,t){const{x:e,y:s,base:n,width:r,height:o}=i.getProps(["x","y","base","width","height"],t);let a,l,c,h,u;return i.horizontal?(u=o/2,a=Math.min(e,n),l=Math.max(e,n),c=s-u,h=s+u):(u=r/2,a=e-u,l=e+u,c=Math.min(s,n),h=Math.max(s,n)),{left:a,top:c,right:l,bottom:h}}function di(i,t,e,s){return i?0:Qt(t,e,s)}function dS(i,t,e){const s=i.options.borderWidth,n=i.borderSkipped,r=Eg(s);return{t:di(n.top,r.top,0,e),r:di(n.right,r.right,0,t),b:di(n.bottom,r.bottom,0,e),l:di(n.left,r.left,0,t)}}function fS(i,t,e){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),n=i.options.borderRadius,r=qi(n),o=Math.min(t,e),a=i.borderSkipped,l=s||ot(n);return{topLeft:di(!l||a.top||a.left,r.topLeft,0,o),topRight:di(!l||a.top||a.right,r.topRight,0,o),bottomLeft:di(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:di(!l||a.bottom||a.right,r.bottomRight,0,o)}}function pS(i){const t=Vm(i),e=t.right-t.left,s=t.bottom-t.top,n=dS(i,e/2,s/2),r=fS(i,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:r},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function xh(i,t,e,s){const n=t===null,r=e===null,a=i&&!(n&&r)&&Vm(i,s);return a&&(n||Ds(t,a.left,a.right))&&(r||Ds(e,a.top,a.bottom))}function gS(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function mS(i,t){i.rect(t.x,t.y,t.w,t.h)}function kh(i,t,e={}){const s=i.x!==e.x?-t:0,n=i.y!==e.y?-t:0,r=(i.x+i.w!==e.x+e.w?t:0)-s,o=(i.y+i.h!==e.y+e.h?t:0)-n;return{x:i.x+s,y:i.y+n,w:i.w+r,h:i.h+o,radius:i.radius}}class La extends He{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:n}}=this,{inner:r,outer:o}=pS(this),a=gS(o.radius)?jr:mS;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,kh(o,e,r)),t.clip(),a(t,kh(r,-e,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,kh(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,s){return xh(this,t,e,s)}inXRange(t,e){return xh(this,t,null,e)}inYRange(t,e){return xh(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?s:(s+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}La.id="bar",La.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},La.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var bS=Object.freeze({__proto__:null,ArcElement:Zr,BarElement:La,LineElement:ui,PointElement:$a});const Ch=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Nm=Ch.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function jm(i){return Ch[i%Ch.length]}function zm(i){return Nm[i%Nm.length]}function _S(i,t){return i.borderColor=jm(t),i.backgroundColor=zm(t),++t}function vS(i,t){return i.backgroundColor=i.data.map(()=>jm(t++)),t}function yS(i,t){return i.backgroundColor=i.data.map(()=>zm(t++)),t}function wS(i){let t=0;return(e,s)=>{const n=i.getDatasetMeta(s).controller;n instanceof Xi?t=vS(e,t):n instanceof Wr?t=yS(e,t):n&&(t=_S(e,t))}}function Hm(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function xS(i){return i&&(i.borderColor||i.backgroundColor)}function kS(){return Tt.borderColor!=="rgba(0,0,0,0.1)"||Tt.backgroundColor!=="rgba(0,0,0,0.1)"}var CS={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:s},options:n}=i.config,{elements:r}=n,o=Hm(s)||xS(n)||r&&Hm(r)||kS();if(!e.forceOverride&&o)return;const a=wS(i);s.forEach(a)}};function SS(i,t,e,s,n){const r=n.samples||s;if(r>=e)return i.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let h=t,u,d,f,g,p;for(o[l++]=i[h],u=0;u<r-2;u++){let m=0,b=0,_;const w=Math.floor((u+1)*a)+1+t,x=Math.min(Math.floor((u+2)*a)+1,e)+t,v=x-w;for(_=w;_<x;_++)m+=i[_].x,b+=i[_].y;m/=v,b/=v;const y=Math.floor(u*a)+1+t,k=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:T,y:M}=i[h];for(f=g=-1,_=y;_<k;_++)g=.5*Math.abs((T-m)*(i[_].y-M)-(T-i[_].x)*(b-M)),g>f&&(f=g,d=i[_],p=_);o[l++]=d,h=p}return o[l++]=i[c],o}function AS(i,t,e,s){let n=0,r=0,o,a,l,c,h,u,d,f,g,p;const m=[],b=t+e-1,_=i[t].x,x=i[b].x-_;for(o=t;o<t+e;++o){a=i[o],l=(a.x-_)/x*s,c=a.y;const v=l|0;if(v===h)c<g?(g=c,u=o):c>p&&(p=c,d=o),n=(r*n+a.x)/++r;else{const y=o-1;if(!ut(u)&&!ut(d)){const k=Math.min(u,d),T=Math.max(u,d);k!==f&&k!==y&&m.push({...i[k],x:n}),T!==f&&T!==y&&m.push({...i[T],x:n})}o>0&&y!==f&&m.push(i[y]),m.push(a),h=v,r=0,g=p=c,u=d=f=o}}return m}function Wm(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Um(i){i.data.datasets.forEach(t=>{Wm(t)})}function MS(i,t){const e=t.length;let s=0,n;const{iScale:r}=i,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=Qt($s(t,r.axis,o).lo,0,e-1)),c?n=Qt($s(t,r.axis,a).hi+1,s,e)-s:n=e-s,{start:s,count:n}}var TS={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Um(i);return}const s=i.width;i.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:a}=n,l=i.getDatasetMeta(r),c=o||n.data;if(zr([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=i.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:u,count:d}=MS(l,c);const f=e.threshold||4*s;if(d<=f){Wm(n);return}ut(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(e.algorithm){case"lttb":g=SS(c,u,d,s,e);break;case"min-max":g=AS(c,u,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=g})},destroy(i){Um(i)}};function PS(i,t,e){const s=i.segments,n=i.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Ah(l,c,n);const h=Sh(e,n[l],n[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:n[l],end:n[c]});continue}const u=Kg(t,h);for(const d of u){const f=Sh(e,r[d.start],r[d.end],d.loop),g=qg(a,n,f);for(const p of g)o.push({source:p,target:d,start:{[e]:qm(h,f,"start",Math.max)},end:{[e]:qm(h,f,"end",Math.min)}})}}return o}function Sh(i,t,e,s){if(s)return;let n=t[i],r=e[i];return i==="angle"&&(n=Ce(n),r=Ce(r)),{property:i,start:n,end:r}}function IS(i,t){const{x:e=null,y:s=null}=i||{},n=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Ah(o,a,n);const l=n[o],c=n[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Ah(i,t,e){for(;t>i;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function qm(i,t,e,s){return i&&t?s(i[e],t[e]):i?i[e]:t?t[e]:0}function Km(i,t){let e=[],s=!1;return Mt(i)?(s=!0,e=i):e=IS(i,t),e.length?new ui({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ym(i){return i&&i.fill!==!1}function ES(i,t,e){let n=i[t].fill;const r=[t];let o;if(!e)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!Rt(n))return n;if(o=i[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function OS(i,t,e){const s=LS(i);if(ot(s))return isNaN(s.value)?!1:s;let n=parseFloat(s);return Rt(n)&&Math.floor(n)===n?RS(s[0],t,n,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function RS(i,t,e,s){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function DS(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:ot(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function $S(i,t,e){let s;return i==="start"?s=e:i==="end"?s=t.options.reverse?t.min:t.max:ot(i)?s=i.value:s=t.getBaseValue(),s}function LS(i){const t=i.options,e=t.fill;let s=Z(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function BS(i){const{scale:t,index:e,line:s}=i,n=[],r=s.segments,o=s.points,a=FS(t,e);a.push(Km({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)VS(n,o[h],a)}return new ui({points:n,options:{}})}function FS(i,t){const e=[],s=i.getMatchingVisibleMetas("line");for(let n=0;n<s.length;n++){const r=s[n];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function VS(i,t,e){const s=[];for(let n=0;n<e.length;n++){const r=e[n],{first:o,last:a,point:l}=NS(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(i.push(l),!a)break}}i.push(...s)}function NS(i,t,e){const s=i.interpolate(t,e);if(!s)return{};const n=s[e],r=i.segments,o=i.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],u=o[h.start][e],d=o[h.end][e];if(Ds(n,u,d)){a=n===u,l=n===d;break}}return{first:a,last:l,point:s}}class Qm{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:n,y:r,radius:o}=this;return e=e||{start:0,end:Ct},t.arc(n,r,o,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:s+Math.sin(r)*n,angle:r}}}function jS(i){const{chart:t,fill:e,line:s}=i;if(Rt(e))return zS(t,e);if(e==="stack")return BS(i);if(e==="shape")return!0;const n=HS(i);return n instanceof Qm?n:Km(n,s)}function zS(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function HS(i){return(i.scale||{}).getPointPositionForValue?US(i):WS(i)}function WS(i){const{scale:t={},fill:e}=i,s=DS(e,t);if(Rt(s)){const n=t.isHorizontal();return{x:n?s:null,y:n?null:s}}return null}function US(i){const{scale:t,fill:e}=i,s=t.options,n=t.getLabels().length,r=s.reverse?t.max:t.min,o=$S(e,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Qm({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,o));return a}function Mh(i,t,e){const s=jS(t),{line:n,scale:r,axis:o}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};s&&n.points.length&&(ga(i,e),qS(i,{line:n,target:s,above:h,below:u,area:e,scale:r,axis:o}),ma(i))}function qS(i,t){const{line:e,target:s,above:n,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&r!==n&&(Xm(i,s,o.top),Gm(i,{line:e,target:s,color:n,scale:a,property:l}),i.restore(),i.save(),Xm(i,s,o.bottom)),Gm(i,{line:e,target:s,color:r,scale:a,property:l}),i.restore()}function Xm(i,t,e){const{segments:s,points:n}=t;let r=!0,o=!1;i.beginPath();for(const a of s){const{start:l,end:c}=a,h=n[l],u=n[Ah(l,c,n)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Gm(i,t){const{line:e,target:s,property:n,color:r,scale:o}=t,a=PS(e,s,n);for(const{source:l,target:c,start:h,end:u}of a){const{style:{backgroundColor:d=r}={}}=l,f=s!==!0;i.save(),i.fillStyle=d,KS(i,o,f&&Sh(n,h,u)),i.beginPath();const g=!!e.pathSegment(i,l);let p;if(f){g?i.closePath():Zm(i,s,u,n);const m=!!s.pathSegment(i,c,{move:g,reverse:!0});p=g&&m,p||Zm(i,s,h,n)}i.closePath(),i.fill(p?"evenodd":"nonzero"),i.restore()}}function KS(i,t,e){const{top:s,bottom:n}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(i.beginPath(),i.rect(o,s,a-o,n-s),i.clip())}function Zm(i,t,e,s){const n=t.interpolate(e,s);n&&i.lineTo(n.x,n.y)}var YS={id:"filler",afterDatasetsUpdate(i,t,e){const s=(i.data.datasets||[]).length,n=[];let r,o,a,l;for(o=0;o<s;++o)r=i.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ui&&(l={visible:i.isDatasetVisible(o),index:o,fill:OS(a,o,s),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,n.push(l);for(o=0;o<s;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=ES(n,o,e.propagate))},beforeDraw(i,t,e){const s=e.drawTime==="beforeDraw",n=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Mh(i.ctx,a,r))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=i.getSortedVisibleDatasetMetas();for(let n=s.length-1;n>=0;--n){const r=s[n].$filler;Ym(r)&&Mh(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,t,e){const s=t.meta.$filler;!Ym(s)||e.drawTime!=="beforeDatasetDraw"||Mh(i.ctx,s,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Jm=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;return i.usePointStyle&&(e=Math.min(e,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},QS=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class tb extends He{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=wt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,n)=>t.sort(s,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,n=Ut(s.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Jm(s,r);let c,h;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=n+a;let u=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((g,p)=>{const m=s+e/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(u+=h,c[c.length-(p>0?0:1)]=0,f+=h,d++),l[p]={left:0,top:f,row:d,width:m,height:n},c[c.length-1]+=m+a}),u}_fitCols(t,e,s,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let u=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:_,itemHeight:w}=XS(s,e,r,m,n);b>0&&f+w+2*a>h&&(u+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[b]={left:g,top:f,col:p,width:_,height:w},d=Math.max(d,_),f+=w+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:n},rtl:r}}=this,o=zn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=re(s,this.left+n,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=re(s,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=re(s,this.top+t+n,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=re(s,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ga(t,this),this._draw(),ma(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:n}=this,{align:r,labels:o}=t,a=Tt.color,l=zn(t.rtl,this.left,this.width),c=Ut(o.font),{padding:h}=o,u=c.size,d=u/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=Jm(o,u),b=function(y,k,T){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;n.save();const M=Z(T.lineWidth,1);if(n.fillStyle=Z(T.fillStyle,a),n.lineCap=Z(T.lineCap,"butt"),n.lineDashOffset=Z(T.lineDashOffset,0),n.lineJoin=Z(T.lineJoin,"miter"),n.lineWidth=M,n.strokeStyle=Z(T.strokeStyle,a),n.setLineDash(Z(T.lineDash,[])),o.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:M},$=l.xPlus(y,g/2),N=k+d;Ig(n,O,$,N,o.pointStyleWidth&&g)}else{const O=k+Math.max((u-p)/2,0),$=l.leftForLtr(y,g),N=qi(T.borderRadius);n.beginPath(),Object.values(N).some(z=>z!==0)?jr(n,{x:$,y:O,w:g,h:p,radius:N}):n.rect($,O,g,p),n.fill(),M!==0&&n.stroke()}n.restore()},_=function(y,k,T){Ui(n,T.text,y,k+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:re(r,this.left+h,this.right-s[0]),y:this.top+h+x,line:0}:f={x:this.left+h,y:re(r,this.top+x+h,this.bottom-e[0].height),line:0},zg(this.ctx,t.textDirection);const v=m+h;this.legendItems.forEach((y,k)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const T=n.measureText(y.text).width,M=l.textAlign(y.textAlign||(y.textAlign=o.textAlign)),O=g+d+T;let $=f.x,N=f.y;l.setWidth(this.width),w?k>0&&$+O+h>this.right&&(N=f.y+=v,f.line++,$=f.x=re(r,this.left+h,this.right-s[f.line])):k>0&&N+v>this.bottom&&($=f.x=$+e[f.line].width+h,f.line++,N=f.y=re(r,this.top+x+h,this.bottom-e[f.line].height));const z=l.x($);if(b(z,N,y),$=mk(M,$+g+d,w?$+O:this.right,t.rtl),_(l.x($),N,y),w)f.x+=O+h;else if(typeof y.text!="string"){const H=c.lineHeight;f.y+=eb(y,H)+h}else f.y+=v}),Hg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Ut(e.font),n=oe(e.padding);if(!e.display)return;const r=zn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=s.size/2,c=n.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=re(t.align,u,this.right-d);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);h=c+re(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=re(a,u,u+d);o.textAlign=r.textAlign(Zc(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=s.string,Ui(o,e.text,f,h,s)}_computeTitleHeight(){const t=this.options.title,e=Ut(t.font),s=oe(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,n,r;if(Ds(t,this.left,this.right)&&Ds(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(n=r[s],Ds(t,n.left,n.left+n.width)&&Ds(e,n.top,n.top+n.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!JS(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,r=QS(n,s);n&&!r&&wt(e.onLeave,[t,n,this],this),this._hoveredItem=s,s&&!r&&wt(e.onHover,[t,s,this],this)}else s&&wt(e.onClick,[t,s,this],this)}}function XS(i,t,e,s,n){const r=GS(s,i,t,e),o=ZS(n,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function GS(i,t,e,s){let n=i.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+s.measureText(n).width}function ZS(i,t,e){let s=i;return typeof t.text!="string"&&(s=eb(t,e)),s}function eb(i,t){const e=i.text?i.text.length:0;return t*e}function JS(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var tA={id:"legend",_element:tb,start(i,t,e){const s=i.legend=new tb({ctx:i.ctx,options:e,chart:i});ae.configure(i,s,e),ae.addBox(i,s)},stop(i){ae.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const s=i.legend;ae.configure(i,s,e),s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const s=t.datasetIndex,n=e.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=oe(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Th extends He{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const n=Mt(s.text)?s.text.length:1;this._padding=oe(s.padding);const r=n*Ut(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:n,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=re(a,s,r),u=e+t,c=r-s):(o.position==="left"?(h=s+t,u=re(a,n,e),l=kt*-.5):(h=r-t,u=re(a,e,n),l=kt*.5),c=n-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Ut(e.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ui(t,e.text,0,0,s,{color:e.color,maxWidth:l,rotation:c,textAlign:Zc(e.align),textBaseline:"middle",translation:[o,a]})}}function eA(i,t){const e=new Th({ctx:i.ctx,options:t,chart:i});ae.configure(i,e,t),ae.addBox(i,e),i.titleBlock=e}var sA={id:"title",_element:Th,start(i,t,e){eA(i,e)},stop(i){const t=i.titleBlock;ae.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;ae.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ba=new WeakMap;var iA={id:"subtitle",start(i,t,e){const s=new Th({ctx:i.ctx,options:e,chart:i});ae.configure(i,s,e),ae.addBox(i,s),Ba.set(i,s)},stop(i){ae.removeBox(i,Ba.get(i)),Ba.delete(i)},beforeUpdate(i,t,e){const s=Ba.get(i);ae.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jr={average(i){if(!i.length)return!1;let t,e,s=new Set,n=0,r=0;for(t=0,e=i.length;t<e;++t){const a=i[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),n+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:n/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,s=t.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=i.length;r<o;++r){const l=i[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Xc(t,c);h<n&&(n=h,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,s=l.y}return{x:e,y:s}}};function hs(i,t){return t&&(Mt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Vs(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function nA(i,t){const{element:e,datasetIndex:s,index:n}=t,r=i.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:i,label:o,parsed:r.getParsed(n),raw:i.data.datasets[s].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:s,element:e}}function sb(i,t){const e=i.chart.ctx,{body:s,footer:n,title:r}=i,{boxWidth:o,boxHeight:a}=t,l=Ut(t.bodyFont),c=Ut(t.titleFont),h=Ut(t.footerFont),u=r.length,d=n.length,f=s.length,g=oe(t.padding);let p=g.height,m=0,b=s.reduce((x,v)=>x+v.before.length+v.lines.length+v.after.length,0);if(b+=i.beforeBody.length+i.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),b){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let _=0;const w=function(x){m=Math.max(m,e.measureText(x).width+_)};return e.save(),e.font=c.string,gt(i.title,w),e.font=l.string,gt(i.beforeBody.concat(i.afterBody),w),_=t.displayColors?o+2+t.boxPadding:0,gt(s,x=>{gt(x.before,w),gt(x.lines,w),gt(x.after,w)}),_=0,e.font=h.string,gt(i.footer,w),e.restore(),m+=g.width,{width:m,height:p}}function rA(i,t){const{y:e,height:s}=t;return e<s/2?"top":e>i.height-s/2?"bottom":"center"}function oA(i,t,e,s){const{x:n,width:r}=s,o=e.caretSize+e.caretPadding;if(i==="left"&&n+r+o>t.width||i==="right"&&n-r-o<0)return!0}function aA(i,t,e,s){const{x:n,width:r}=e,{width:o,chartArea:{left:a,right:l}}=i;let c="center";return s==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),oA(c,i,t,e)&&(c="center"),c}function ib(i,t,e){const s=e.yAlign||t.yAlign||rA(i,e);return{xAlign:e.xAlign||t.xAlign||aA(i,t,e,s),yAlign:s}}function lA(i,t){let{x:e,width:s}=i;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function cA(i,t,e){let{y:s,height:n}=i;return t==="top"?s+=e:t==="bottom"?s-=n+e:s-=n/2,s}function nb(i,t,e,s){const{caretSize:n,caretPadding:r,cornerRadius:o}=i,{xAlign:a,yAlign:l}=e,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=qi(o);let g=lA(t,a);const p=cA(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(h,d)+n:a==="right"&&(g+=Math.max(u,f)+n),{x:Qt(g,0,s.width-t.width),y:Qt(p,0,s.height-t.height)}}function Fa(i,t,e){const s=oe(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function rb(i){return hs([],Vs(i))}function hA(i,t,e){return hi(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ob(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const ab={beforeTitle:Rs,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Rs,beforeBody:Rs,beforeLabel:Rs,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return ut(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Rs,afterBody:Rs,beforeFooter:Rs,footer:Rs,afterFooter:Rs};function fe(i,t,e,s){const n=i[t].call(e,s);return typeof n>"u"?ab[t].call(e,s):n}class Ph extends He{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&e.options.animation&&s.animations,r=new Gg(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=hA(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,n=fe(s,"beforeTitle",this,t),r=fe(s,"title",this,t),o=fe(s,"afterTitle",this,t);let a=[];return a=hs(a,Vs(n)),a=hs(a,Vs(r)),a=hs(a,Vs(o)),a}getBeforeBody(t,e){return rb(fe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,n=[];return gt(t,r=>{const o={before:[],lines:[],after:[]},a=ob(s,r);hs(o.before,Vs(fe(a,"beforeLabel",this,r))),hs(o.lines,fe(a,"label",this,r)),hs(o.after,Vs(fe(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(t,e){return rb(fe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,n=fe(s,"beforeFooter",this,t),r=fe(s,"footer",this,t),o=fe(s,"afterFooter",this,t);let a=[];return a=hs(a,Vs(n)),a=hs(a,Vs(r)),a=hs(a,Vs(o)),a}_createItems(t){const e=this._active,s=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(nA(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,d)=>t.filter(h,u,d,s))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,s))),gt(a,h=>{const u=ob(t.callbacks,h);n.push(fe(u,"labelColor",this,h)),r.push(fe(u,"labelPointStyle",this,h)),o.push(fe(u,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const s=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=Jr[s.position].call(this,n,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=sb(this,s),c=Object.assign({},a,l),h=ib(this.chart,s,c),u=nb(s,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,n){const r=this.getCaretPosition(t,s,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=qi(a),{x:d,y:f}=t,{width:g,height:p}=e;let m,b,_,w,x,v;return r==="center"?(x=f+p/2,n==="left"?(m=d,b=m-o,w=x+o,v=x-o):(m=d+g,b=m+o,w=x-o,v=x+o),_=m):(n==="left"?b=d+Math.max(l,h)+o:n==="right"?b=d+g-Math.max(c,u)-o:b=this.caretX,r==="top"?(w=f,x=w-o,m=b-o,_=b+o):(w=f+p,x=w+o,m=b+o,_=b-o),v=w),{x1:m,x2:b,x3:_,y1:w,y2:x,y3:v}}drawTitle(t,e,s){const n=this.title,r=n.length;let o,a,l;if(r){const c=zn(s.rtl,this.x,this.width);for(t.x=Fa(this,s.titleAlign,s),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",o=Ut(s.titleFont),a=s.titleSpacing,e.fillStyle=s.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,e,s,n,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,h=Ut(r.bodyFont),u=Fa(this,"left",r),d=n.x(u),f=l<h.lineHeight?(h.lineHeight-l)/2:0,g=e.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=n.leftForLtr(d,c)+c/2,b=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,ih(t,p,m,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ih(t,p,m,b)}else{t.lineWidth=ot(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=n.leftForLtr(d,c),m=n.leftForLtr(n.xPlus(d,1),c-2),b=qi(o.borderRadius);Object.values(b).some(_=>_!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,jr(t,{x:p,y:g,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),jr(t,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=s,u=Ut(s.bodyFont);let d=u.lineHeight,f=0;const g=zn(s.rtl,this.x,this.width),p=function(T){e.fillText(T,g.x(t.x+f),t.y+d/2),t.y+=d+r},m=g.textAlign(o);let b,_,w,x,v,y,k;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Fa(this,m,s),e.fillStyle=s.bodyColor,gt(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+h:c+2+h:0,x=0,y=n.length;x<y;++x){for(b=n[x],_=this.labelTextColors[x],e.fillStyle=_,gt(b.before,p),w=b.lines,a&&w.length&&(this._drawColorBox(e,t,x,g,s),d=Math.max(u.lineHeight,l)),v=0,k=w.length;v<k;++v)p(w[v]),d=u.lineHeight;gt(b.after,p)}f=0,d=u.lineHeight,gt(this.afterBody,p),t.y-=r}drawFooter(t,e,s){const n=this.footer,r=n.length;let o,a;if(r){const l=zn(s.rtl,this.x,this.width);for(t.x=Fa(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",o=Ut(s.footerFont),e.fillStyle=s.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,e,s,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=qi(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(a+u,l),o==="top"&&this.drawCaret(t,e,s,n),e.lineTo(a+c-d,l),e.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,e,s,n),e.lineTo(a+c,l+h-g),e.quadraticCurveTo(a+c,l+h,a+c-g,l+h),o==="bottom"&&this.drawCaret(t,e,s,n),e.lineTo(a+f,l+h),e.quadraticCurveTo(a,l+h,a,l+h-f),o==="center"&&r==="left"&&this.drawCaret(t,e,s,n),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,n=s&&s.x,r=s&&s.y;if(n||r){const o=Jr[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=sb(this,t),l=Object.assign({},o,this._size),c=ib(e,t,l),h=nb(t,l,c,e);(n._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=oe(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,n,e),zg(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Hg(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,n=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ca(s,n),o=this._positionChanged(n,e);(r||o)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,s),a=this._positionChanged(o,t),l=e||!ca(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,s,n){const r=this.options;if(t.type==="mouseout")return[];if(!n)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:s,caretY:n,options:r}=this,o=Jr[r.position].call(this,t,e);return o!==!1&&(s!==o.x||n!==o.y)}}Ph.positioners=Jr;var uA={id:"tooltip",_element:Ph,positioners:Jr,afterInit(i,t,e){e&&(i.tooltip=new Ph({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ab},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},dA=Object.freeze({__proto__:null,Colors:CS,Decimation:TS,Filler:YS,Legend:tA,SubTitle:iA,Title:sA,Tooltip:uA});const fA=(i,t,e,s)=>(typeof t=="string"?(e=i.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function pA(i,t,e,s){const n=i.indexOf(t);if(n===-1)return fA(i,t,e,s);const r=i.lastIndexOf(t);return n!==r?e:n}const gA=(i,t)=>i===null?null:Qt(Math.round(i),0,t);function lb(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class Ih extends Zi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:n,label:r}of e)s[n]===r&&s.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ut(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:pA(s,t,Z(e,t),this._addedLabels),gA(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,n=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=e;o++)n.push({value:o});return n}getLabelForValue(t){return lb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ih.id="category",Ih.defaults={ticks:{callback:lb}};function mA(i,t){const e=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=i,f=r||1,g=h-1,{min:p,max:m}=t,b=!ut(o),_=!ut(a),w=!ut(c),x=(m-p)/(u+1);let v=fg((m-p)/g/f)*f,y,k,T,M;if(v<1e-14&&!b&&!_)return[{value:p},{value:m}];M=Math.ceil(m/v)-Math.floor(p/v),M>g&&(v=fg(M*v/g/f)*f),ut(l)||(y=Math.pow(10,l),v=Math.ceil(v*y)/y),n==="ticks"?(k=Math.floor(p/v)*v,T=Math.ceil(m/v)*v):(k=p,T=m),b&&_&&r&&ck((a-o)/r,v/1e3)?(M=Math.round(Math.min((a-o)/v,h)),v=(a-o)/M,k=o,T=a):w?(k=b?o:k,T=_?a:T,M=c-1,v=(T-k)/M):(M=(T-k)/v,Lr(M,Math.round(M),v/1e3)?M=Math.round(M):M=Math.ceil(M));const O=Math.max(gg(v),gg(k));y=Math.pow(10,ut(l)?O:l),k=Math.round(k*y)/y,T=Math.round(T*y)/y;let $=0;for(b&&(d&&k!==o?(e.push({value:o}),k<o&&$++,Lr(Math.round((k+$*v)*y)/y,o,cb(o,x,i))&&$++):k<o&&$++);$<M;++$){const N=Math.round((k+$*v)*y)/y;if(_&&N>a)break;e.push({value:N})}return _&&d&&T!==a?e.length&&Lr(e[e.length-1].value,a,cb(a,x,i))?e[e.length-1].value=a:e.push({value:a}):(!_||T===a)&&e.push({value:T}),e}function cb(i,t,{horizontal:e,minRotation:s}){const n=je(s),r=(e?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+i).length;return Math.min(t/r,o)}class Va extends Zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ut(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=e?n:l,a=l=>r=s?r:l;if(t){const l=ls(n),c=ls(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(n-l)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,n;return s?(n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=mA(n,r);return t.bounds==="ticks"&&pg(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const n=(s-e)/Math.max(t.length-1,1)/2;e-=n,s+=n}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return Vr(t,this.chart.options.locale,this.options.ticks.format)}}class Eh extends Va{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rt(t)?t:0,this.max=Rt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=je(this.options.ticks.minRotation),n=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Eh.id="linear",Eh.defaults={ticks:{callback:fa.formatters.numeric}};const to=i=>Math.floor(ci(i)),Ji=(i,t)=>Math.pow(10,to(i)+t);function hb(i){return i/Math.pow(10,to(i))===1}function ub(i,t,e){const s=Math.pow(10,e),n=Math.floor(i/s);return Math.ceil(t/s)-n}function bA(i,t){const e=t-i;let s=to(e);for(;ub(i,t,s)>10;)s++;for(;ub(i,t,s)<10;)s--;return Math.min(s,to(i))}function _A(i,{min:t,max:e}){t=ke(i.min,t);const s=[],n=to(t);let r=bA(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),d=ke(i.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;d<e;)s.push({value:d,major:hb(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((l+h+u*Math.pow(10,r))*o)/o;const f=ke(i.max,d);return s.push({value:f,major:hb(f),significand:u}),s}class Oh extends Zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=Va.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return Rt(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rt(t)?Math.max(0,t):null,this.max=Rt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rt(this._userMin)&&(this.min=t===Ji(this.min,0)?Ji(this.min,-1):Ji(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,n=this.max;const r=a=>s=t?s:a,o=a=>n=e?n:a;s===n&&(s<=0?(r(1),o(10)):(r(Ji(s,-1)),o(Ji(n,1)))),s<=0&&r(Ji(n,-1)),n<=0&&o(Ji(s,1)),this.min=s,this.max=n}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},s=_A(e,this);return t.bounds==="ticks"&&pg(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":Vr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ci(t),this._valueRange=ci(this.max)-ci(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ci(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Oh.id="logarithmic",Oh.defaults={ticks:{callback:fa.formatters.logarithmic,major:{enabled:!0}}};function Rh(i){const t=i.ticks;if(t.display&&i.display){const e=oe(t.backdropPadding);return Z(t.font&&t.font.size,Tt.font.size)+e.height}return 0}function vA(i,t,e){return e=Mt(e)?e:[e],{w:Ak(i,t.string,e),h:e.length*t.lineHeight}}function db(i,t,e,s,n){return i===s||i===n?{start:t-e/2,end:t+e/2}:i<s||i>n?{start:t-e,end:t}:{start:t,end:t+e}}function yA(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),s=[],n=[],r=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?kt/r:0;for(let l=0;l<r;l++){const c=o.setContext(i.getPointLabelContext(l));n[l]=c.padding;const h=i.getPointPosition(l,i.drawingArea+n[l],a),u=Ut(c.font),d=vA(i.ctx,u,i._pointLabels[l]);s[l]=d;const f=Ce(i.getIndexAngle(l)+a),g=Math.round(Qc(f)),p=db(g,h.x,d.w,0,180),m=db(g,h.y,d.h,90,270);wA(e,t,f,p,m)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=CA(i,s,n)}function wA(i,t,e,s,n){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,i.l=Math.min(i.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,i.r=Math.max(i.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/o,i.t=Math.min(i.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,i.b=Math.max(i.b,t.b+l))}function xA(i,t,e){const s=i.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=e,l=i.getPointPosition(t,s+n+o,r),c=Math.round(Qc(Ce(l.angle+Lt))),h=MA(l.y,a.h,c),u=SA(c),d=AA(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function kA(i,t){if(!t)return!0;const{left:e,top:s,right:n,bottom:r}=i;return!(Ls({x:e,y:s},t)||Ls({x:e,y:r},t)||Ls({x:n,y:s},t)||Ls({x:n,y:r},t))}function CA(i,t,e){const s=[],n=i._pointLabels.length,r=i.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Rh(r)/2,additionalAngle:o?kt/n:0};let c;for(let h=0;h<n;h++){l.padding=e[h],l.size=t[h];const u=xA(i,h,l);s.push(u),a==="auto"&&(u.visible=kA(u,c),u.visible&&(c=u))}return s}function SA(i){return i===0||i===180?"center":i<180?"left":"right"}function AA(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function MA(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function TA(i,t,e){const{left:s,top:n,right:r,bottom:o}=e,{backdropColor:a}=t;if(!ut(a)){const l=qi(t.borderRadius),c=oe(t.backdropPadding);i.fillStyle=a;const h=s-c.left,u=n-c.top,d=r-s+c.width,f=o-n+c.height;Object.values(l).some(g=>g!==0)?(i.beginPath(),jr(i,{x:h,y:u,w:d,h:f,radius:l}),i.fill()):i.fillRect(h,u,d,f)}}function PA(i,t){const{ctx:e,options:{pointLabels:s}}=i;for(let n=t-1;n>=0;n--){const r=i._pointLabelItems[n];if(!r.visible)continue;const o=s.setContext(i.getPointLabelContext(n));TA(e,o,r);const a=Ut(o.font),{x:l,y:c,textAlign:h}=r;Ui(e,i._pointLabels[n],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function fb(i,t,e,s){const{ctx:n}=i;if(e)n.arc(i.xCenter,i.yCenter,t,0,Ct);else{let r=i.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=i.getPointPosition(o,t),n.lineTo(r.x,r.y)}}function IA(i,t,e,s,n){const r=i.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),fb(i,e,o,s),r.closePath(),r.stroke(),r.restore())}function EA(i,t,e){return hi(i,{label:e,index:t,type:"pointLabel"})}class eo extends Va{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=oe(Rh(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Rt(t)&&!isNaN(t)?t:0,this.max=Rt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rh(this.options))}generateTickLabels(t){Va.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const n=wt(this.options.pointLabels.callback,[e,s],this);return n||n===0?n:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?yA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,n))}getIndexAngle(t){const e=Ct/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ce(t*e+je(s))}getDistanceFromCenterForValue(t){if(ut(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ut(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return EA(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const n=this.getIndexAngle(t)-Lt+s;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:s,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),fb(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:n,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&PA(this,o),n.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=n.setContext(d),g=r.setContext(d);IA(this,f,l,o,g)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const h=s.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=s.setContext(this.getContext(l)),h=Ut(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=oe(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}Ui(t,a.label,0,-r,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}eo.id="radialLinear",eo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fa.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}},eo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},eo.descriptors={angleLines:{_fallback:"grid"}};const Na={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pe=Object.keys(Na);function pb(i,t){return i-t}function gb(i,t){if(ut(t))return null;const e=i._adapter,{parser:s,round:n,isoWeekday:r}=i._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Rt(o)||(o=typeof s=="string"?e.parse(o,s):e.parse(o)),o===null?null:(n&&(o=n==="week"&&(Vn(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,n)),+o)}function mb(i,t,e,s){const n=pe.length;for(let r=pe.indexOf(i);r<n-1;++r){const o=Na[pe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=s)return pe[r]}return pe[n-1]}function OA(i,t,e,s,n){for(let r=pe.length-1;r>=pe.indexOf(e);r--){const o=pe[r];if(Na[o].common&&i._adapter.diff(n,s,o)>=t-1)return o}return pe[e?pe.indexOf(e):0]}function RA(i){for(let t=pe.indexOf(i)+1,e=pe.length;t<e;++t)if(Na[pe[t]].common)return pe[t]}function bb(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:s,hi:n}=Gc(e,t),r=e[s]>=t?e[s]:e[n];i[r]=!0}}function DA(i,t,e,s){const n=i._adapter,r=+n.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,s))l=e[a],l>=0&&(t[l].major=!0);return t}function _b(i,t,e){const s=[],n={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],n[a]=o,s.push({value:a,major:!1});return r===0||!e?s:DA(i,s,n,e)}class so extends Zi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),n=this._adapter=new z1._date(t.adapters.date);n.init(e),Dr(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:gb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=Rt(n)&&!isNaN(n)?n:+e.startOf(Date.now(),s),r=Rt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,n=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=fk(n,r,o);return this._unit=e.unit||(s.autoSkip?mb(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):OA(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:RA(this._unit),this.initOffsets(n),t.reverse&&a.reverse(),_b(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,n,r;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?e=1-n:e=(this.getDecimalForValue(t[1])-n)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Qt(e,0,o),s=Qt(s,0,o),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,n=this.options,r=n.time,o=r.unit||mb(r.minUnit,e,s,this._getLabelCapacity(e)),a=Z(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Vn(l)||l===!0,h={};let u=e,d,f;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(s,e,o)>1e5*a)throw new Error(e+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<s;d=+t.add(d,a,o),f++)bb(h,d,g);return(d===s||n.bounds==="ticks"||f===1)&&bb(h,d,g),Object.keys(h).sort(pb).map(p=>+p)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,o=e||n[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,s,n){const r=this.options,o=r.ticks.callback;if(o)return wt(o,[t,e,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=s[e],f=c&&u&&d&&d.major;return this._adapter.format(t,n||(f?u:h))}generateTickLabels(t){let e,s,n;for(e=0,s=t.length;e<s;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,n=je(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,n=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,_b(this,[t],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,s=n.length;e<s;++e)t=t.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const n=this.getLabels();for(e=0,s=n.length;e<s;++e)t.push(gb(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return vg(t.sort(pb))}}so.id="time",so.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};function ja(i,t,e){let s=0,n=i.length-1,r,o,a,l;e?(t>=i[s].pos&&t<=i[n].pos&&({lo:s,hi:n}=$s(i,"pos",t)),{pos:r,time:a}=i[s],{pos:o,time:l}=i[n]):(t>=i[s].time&&t<=i[n].time&&({lo:s,hi:n}=$s(i,"time",t)),{time:r,pos:a}=i[s],{time:o,pos:l}=i[n]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Dh extends so{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ja(e,this.min),this._tableRange=ja(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,n=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=s&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(o=0,a=n.length;o<a;++o)h=n[o+1],l=n[o-1],c=n[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((n,r)=>n-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(ja(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return ja(this._table,s*this._tableRange+this._minPos,!0)}}Dh.id="timeseries",Dh.defaults=so.defaults;var $A=Object.freeze({__proto__:null,CategoryScale:Ih,LinearScale:Eh,LogarithmicScale:Oh,RadialLinearScale:eo,TimeScale:so,TimeSeriesScale:Dh});const LA=[j1,bS,dA,$A];Fs.register(...LA);function vb(i,t,e,s={}){return new Fs(i,{type:t,data:e,options:s})}Xs.getOrCreate(globalThis);var yb;let wb;function BA(i,t,e,s,n,r){var o,a,l,c,h,u,d,f=Symbol.metadata||Symbol.for("Symbol.metadata"),g=Object.defineProperty,p=Object.create,m=[p(null),p(null)],b=t.length;function _(y,k,T){return function(M,O){k&&(O=M,M=i);for(var $=0;$<y.length;$++)O=y[$].apply(M,T?[O]:[]);return T?O:M}}function w(y,k,T,M){if(typeof y!="function"&&(M||y!==void 0))throw new TypeError(k+" must "+(T||"be")+" a function"+(M?"":" or undefined"));return y}function x(y,k,T,M,O,$,N,z,H,j,I){function W(st){if(!I(st))throw new TypeError("Attempted to access private element on non-instance")}var nt=[].concat(k[0]),L=k[3],J=!N,A=O===1,E=O===3,S=O===4,P=O===2;function ft(st,q,fs){return function(Bt,We){return q&&(We=Bt,Bt=y),fs&&fs(Bt),C[st].call(Bt,We)}}if(!J){var C={},R=[],Y=E?"get":S||A?"set":"value";if(H?(j||A?C={get:xb(function(){return L(this)},M,"get"),set:function(st){k[4](this,st)}}:C[Y]=L,j||xb(C[Y],M,P?"":Y)):j||(C=Object.getOwnPropertyDescriptor(y,M)),!j&&!H){if((a=m[+z][M])&&(a^O)!=7)throw Error("Decorating two elements with the same name ("+C[Y].name+") is not supported yet");m[+z][M]=O<3?1:O}}for(var X=y,Ht=nt.length-1;Ht>=0;Ht-=T?2:1){var us=w(nt[Ht],"A decorator","be",!0),ds=T?nt[Ht-1]:void 0,ge={},Gt={kind:["field","accessor","method","getter","setter","class"][O],name:M,metadata:o,addInitializer:(function(st,q){if(st.v)throw new TypeError("attempted to call addInitializer after decoration was finished");w(q,"An initializer","be",!0),$.push(q)}).bind(null,ge)};if(J)a=us.call(ds,X,Gt),ge.v=1,w(a,"class decorators","return")&&(X=a);else if(Gt.static=z,Gt.private=H,a=Gt.access={has:H?I.bind():function(st){return M in st}},S||(a.get=H?P?function(st){return W(st),C.value}:ft("get",0,W):function(st){return st[M]}),P||E||(a.set=H?ft("set",0,W):function(st,q){st[M]=q}),X=us.call(ds,A?{get:C.get,set:C.set}:C[Y],Gt),ge.v=1,A){if(typeof X=="object"&&X)(a=w(X.get,"accessor.get"))&&(C.get=a),(a=w(X.set,"accessor.set"))&&(C.set=a),(a=w(X.init,"accessor.init"))&&R.unshift(a);else if(X!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else w(X,(j?"field":"method")+" decorators","return")&&(j?R.unshift(X):C[Y]=X)}return O<2&&N.push(_(R,z,1),_($,z,0)),j||J||(H?A?N.splice(-1,0,ft("get",z),ft("set",z)):N.push(P?C[Y]:w.call.bind(C[Y])):g(y,M,C)),X}function v(y){return g(y,f,{configurable:!0,enumerable:!0,value:o})}return o=p(o??null),h=[],u=function(y){y&&h.push(_(y))},d=function(y,k){for(var T=0;T<e.length;T++){var M=e[T],O=M[1],$=7&O;if((8&O)==y&&!$==k){var N=M[2],z=!!M[3],H=16&O;x(y?i:i.prototype,M,H,z?"#"+N:FA(N),$,$<2?[]:y?c=c||[]:l=l||[],h,!!y,z,k,y&&z?function(j){return NA(j)===i}:n)}}},d(8,0),d(0,0),d(8,1),d(0,1),u(l),u(c),a=h,b||v(i),{e:a,get c(){var y=[];return b&&[v(i=x(i,[t],s,i.name,5,y)),_(y,1)]}}}function FA(i){var t=VA(i,"string");return typeof t=="symbol"?t:t+""}function VA(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function xb(i,t,e){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(i,"name",{configurable:!0,value:e?e+" "+t:t})}catch{}return i}function NA(i){if(Object(i)!==i)throw TypeError("right-hand side of 'in' should be an object, got "+(i!==null?typeof i:"null"));return i}let za;class jA{constructor(){this.mychart=void 0}bind(){}attached(){const t=[{year:2010,count:10},{year:2011,count:20},{year:2012,count:15},{year:2013,count:25},{year:2014,count:22},{year:2015,count:30},{year:2016,count:28}],e={labels:t.map(s=>s.year),datasets:[{label:"Acquisitions by year",data:t.map(s=>s.count)}]};this.chartjs=vb(this.mychart,"bar",e)}}yb=jA,[za,wb]=BA(yb,[op({...Ix,name:"sv-chartjs"})],[]).c,wb();const kb="chartjs-scatter",$h=`<div>
    chart-scatter view - should not be used
    <canvas ref="mychart"></canvas>
</div>
`,Cb=[],Sb={};let Lh;function zA(i){Lh||(Lh=Ee.define({name:kb,template:$h,dependencies:Cb,bindables:Sb})),i.register(Lh)}const HA=Object.freeze(Object.defineProperty({__proto__:null,bindables:Sb,default:$h,dependencies:Cb,name:kb,register:zA,template:$h},Symbol.toStringTag,{value:"Module"}));var Ab;let Mb;function WA(i,t,e,s,n,r){var o,a,l,c,h,u,d,f=Symbol.metadata||Symbol.for("Symbol.metadata"),g=Object.defineProperty,p=Object.create,m=[p(null),p(null)],b=t.length;function _(y,k,T){return function(M,O){k&&(O=M,M=i);for(var $=0;$<y.length;$++)O=y[$].apply(M,T?[O]:[]);return T?O:M}}function w(y,k,T,M){if(typeof y!="function"&&(M||y!==void 0))throw new TypeError(k+" must "+(T||"be")+" a function"+(M?"":" or undefined"));return y}function x(y,k,T,M,O,$,N,z,H,j,I){function W(st){if(!I(st))throw new TypeError("Attempted to access private element on non-instance")}var nt=[].concat(k[0]),L=k[3],J=!N,A=O===1,E=O===3,S=O===4,P=O===2;function ft(st,q,fs){return function(Bt,We){return q&&(We=Bt,Bt=y),fs&&fs(Bt),C[st].call(Bt,We)}}if(!J){var C={},R=[],Y=E?"get":S||A?"set":"value";if(H?(j||A?C={get:Tb(function(){return L(this)},M,"get"),set:function(st){k[4](this,st)}}:C[Y]=L,j||Tb(C[Y],M,P?"":Y)):j||(C=Object.getOwnPropertyDescriptor(y,M)),!j&&!H){if((a=m[+z][M])&&(a^O)!=7)throw Error("Decorating two elements with the same name ("+C[Y].name+") is not supported yet");m[+z][M]=O<3?1:O}}for(var X=y,Ht=nt.length-1;Ht>=0;Ht-=T?2:1){var us=w(nt[Ht],"A decorator","be",!0),ds=T?nt[Ht-1]:void 0,ge={},Gt={kind:["field","accessor","method","getter","setter","class"][O],name:M,metadata:o,addInitializer:(function(st,q){if(st.v)throw new TypeError("attempted to call addInitializer after decoration was finished");w(q,"An initializer","be",!0),$.push(q)}).bind(null,ge)};if(J)a=us.call(ds,X,Gt),ge.v=1,w(a,"class decorators","return")&&(X=a);else if(Gt.static=z,Gt.private=H,a=Gt.access={has:H?I.bind():function(st){return M in st}},S||(a.get=H?P?function(st){return W(st),C.value}:ft("get",0,W):function(st){return st[M]}),P||E||(a.set=H?ft("set",0,W):function(st,q){st[M]=q}),X=us.call(ds,A?{get:C.get,set:C.set}:C[Y],Gt),ge.v=1,A){if(typeof X=="object"&&X)(a=w(X.get,"accessor.get"))&&(C.get=a),(a=w(X.set,"accessor.set"))&&(C.set=a),(a=w(X.init,"accessor.init"))&&R.unshift(a);else if(X!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else w(X,(j?"field":"method")+" decorators","return")&&(j?R.unshift(X):C[Y]=X)}return O<2&&N.push(_(R,z,1),_($,z,0)),j||J||(H?A?N.splice(-1,0,ft("get",z),ft("set",z)):N.push(P?C[Y]:w.call.bind(C[Y])):g(y,M,C)),X}function v(y){return g(y,f,{configurable:!0,enumerable:!0,value:o})}return r!==void 0&&(o=r[f]),o=p(o??null),h=[],u=function(y){y&&h.push(_(y))},d=function(y,k){for(var T=0;T<e.length;T++){var M=e[T],O=M[1],$=7&O;if((8&O)==y&&!$==k){var N=M[2],z=!!M[3],H=16&O;x(y?i:i.prototype,M,H,z?"#"+N:UA(N),$,$<2?[]:y?c=c||[]:l=l||[],h,!!y,z,k,y&&z?function(j){return KA(j)===i}:n)}}},d(8,0),d(0,0),d(8,1),d(0,1),u(l),u(c),a=h,b||v(i),{e:a,get c(){var y=[];return b&&[v(i=x(i,[t],s,i.name,5,y)),_(y,1)]}}}function UA(i){var t=qA(i,"string");return typeof t=="symbol"?t:t+""}function qA(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Tb(i,t,e){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(i,"name",{configurable:!0,value:e?e+" "+t:t})}catch{}return i}function KA(i){if(Object(i)!==i)throw TypeError("right-hand side of 'in' should be an object, got "+(i!==null?typeof i:"null"));return i}let Pb;class YA extends za{constructor(...t){super(...t),this.mychart=void 0}bind(){}attached(){const t={datasets:[{label:"First Dataset",data:[{x:20,y:30,r:15},{x:40,y:10,r:10},{x:30,y:12,r:5}]},{label:"Second Dataset",data:[{x:19,y:32,r:2},{x:41,y:12,r:5},{x:35,y:11,r:6}]}]};this.chartjs=vb(this.mychart,"bubble",t)}}Ab=YA,[Pb,Mb]=WA(Ab,[op({...HA,name:"sv-chartjs-scatter"})],[],0,void 0,za).c,Mb();const Ha=Ws.createContainer(),QA=window;Ha.register(pi.instance(te,QA)),Ha.register(Mx);const XA=Ee.define({name:"dummy-app",template:""}),Ib=new Gw(Ha);Ib.app({host:document.createElement("div"),component:XA}),Ib.start();const Bh=Ha.get(Tx);Bh.define("sv-chartjs",za),Bh.define("sv-chartjs-scatter",Pb),nn.registry=Bh,Object.defineProperty(nn,Symbol.toStringTag,{value:"Module"})});
